Connecting to database specified by database.yml
Connecting to database specified by database.yml
Connecting to database specified by database.yml
Connecting to database specified by database.yml
Connecting to database specified by database.yml
Connecting to database specified by database.yml
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (1.3ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (2.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.4ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.4ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.6ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.4ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.4ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.4ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.4ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.3ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.3ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.3ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.4ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.8ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.3ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.4ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.4ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.4ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.4ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.3ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.4ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.4ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.4ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
Connecting to database specified by database.yml
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  select sqlite_version(*)
  [1m[36m (0.6ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (1.1ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (2.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.4ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.8ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.4ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.6ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.4ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.4ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.6ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.8ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.4ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.9ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.6ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  select sqlite_version(*)
  [1m[36m (0.5ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (1.1ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (1.1ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.4ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.8ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.4ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.4ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.4ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.4ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  select sqlite_version(*)
  [1m[36m (0.5ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (1.1ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (1.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.4ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.4ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.4ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.4ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.4ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.4ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.4ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.4ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.4ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.4ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.4ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  select sqlite_version(*)
  [1m[36m (0.5ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (1.1ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (1.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.6ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.6ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.8ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.4ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.6ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.6ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
Connecting to database specified by database.yml
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  select sqlite_version(*)
  [1m[36m (0.6ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (1.1ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.8ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.6ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.4ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.4ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.6ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.4ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.4ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.6ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  select sqlite_version(*)
  [1m[36m (0.6ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (1.1ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (1.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.6ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.4ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.6ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.6ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.4ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.4ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.6ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.4ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (1.1ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  select sqlite_version(*)
  [1m[36m (0.5ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (1.1ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (1.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.6ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.4ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.6ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.6ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.4ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.6ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  select sqlite_version(*)
  [1m[36m (0.5ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (1.1ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.8ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.4ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.6ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.4ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.4ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.4ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.4ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.4ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  select sqlite_version(*)
  [1m[36m (0.6ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (1.3ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (1.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.6ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.4ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.4ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.6ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.4ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.7ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.4ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.4ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.4ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.7ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.4ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.5ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  select sqlite_version(*)
  [1m[36m (0.5ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (1.9ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (1.3ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_statuses"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_types"
  [1m[36m (1.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_statuses"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_types"
  [1m[36m (0.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_statuses"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_types"
  [1m[36m (0.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_statuses"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_types"
  [1m[36m (0.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_statuses"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_types"
  [1m[36m (0.8ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_statuses"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_types"
  [1m[36m (0.8ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_statuses"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_types"
  [1m[36m (0.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_statuses"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_types"
  [1m[36m (0.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_statuses"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_types"
  [1m[36m (0.8ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_statuses"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_types"
  [1m[36m (0.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_statuses"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_types"
  [1m[36m (0.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_statuses"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_types"
  [1m[36m (0.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_statuses"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_types"
  [1m[36m (0.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_statuses"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_types"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_statuses"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_types"
  [1m[36m (0.8ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_statuses"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_types"
  [1m[36m (0.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_statuses"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_types"
  [1m[36m (0.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_statuses"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_types"
  [1m[36m (1.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_statuses"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_types"
  [1m[36m (0.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_statuses"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_types"
  [1m[36m (0.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_statuses"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_types"
  [1m[36m (0.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_statuses"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_types"
  [1m[36m (0.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_statuses"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_types"
  [1m[36m (0.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_types"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.8ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_types"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_types"[0m
  [1m[35m (0.3ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.8ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_types"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.8ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  select sqlite_version(*)
  [1m[36m (0.6ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (2.0ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (1.2ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_types"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_suffixes"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_person_names"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_features"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_customer_infos"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_customers"
  [1m[36m (0.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_customers"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_statuses"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_types"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_suffixes"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_person_names"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_customer_features"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_customer_infos"
  [1m[36m (0.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_customers"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_statuses"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_types"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_suffixes"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_person_names"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_features"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_customer_infos"
  [1m[36m (0.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_customers"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_statuses"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_types"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_suffixes"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_person_names"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_features"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_infos"
  [1m[36m (0.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (1.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_customers"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_statuses"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_types"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_suffixes"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_person_names"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_features"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_infos"
  [1m[36m (0.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customers"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_statuses"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_types"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_suffixes"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_person_names"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_features"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_infos"
  [1m[36m (0.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_types"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_suffixes"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_person_names"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_features"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_infos"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_customers"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (1.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_types"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_suffixes"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_person_names"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_features"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_customer_infos"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_customers"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_types"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_suffixes"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_person_names"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_customer_features"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_customer_infos"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_customers"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_types"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_suffixes"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_person_names"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_features"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_customer_infos"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_customers"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.2ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_types"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_suffixes"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_person_names"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_features"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_infos"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_customers"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.8ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_types"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_suffixes"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_person_names"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_features"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_infos"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customers"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_types"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_suffixes"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_person_names"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_features"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_customer_infos"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_customers"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_types"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_suffixes"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_person_names"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_customer_features"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_infos"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_customers"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.8ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_types"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_suffixes"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_person_names"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_features"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_infos"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customers"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_types"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_suffixes"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_person_names"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_customer_features"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_infos"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customers"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_types"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_suffixes"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_person_names"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_features"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_infos"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_customers"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_types"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_suffixes"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_person_names"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_customer_features"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_customer_infos"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_customers"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_types"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_suffixes"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_person_names"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_customer_features"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_customer_infos"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customers"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_types"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_suffixes"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_person_names"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_features"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_infos"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_customers"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.5ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_types"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_suffixes"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_person_names"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_customer_features"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_customer_infos"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_customers"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (1.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_types"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_suffixes"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_person_names"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_features"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_infos"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_customers"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_types"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_suffixes"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_person_names"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_features"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_infos"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_customers"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_types"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_suffixes"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_person_names"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_features"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_infos"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_customers"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_types"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_suffixes"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_person_names"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_features"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_infos"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_customers"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_types"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_suffixes"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_person_names"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_customer_features"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_customer_infos"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_customers"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_types"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_suffixes"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_person_names"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_features"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_infos"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customers"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.9ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (1.4ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "index_spec_customer_emails_on_email" ON "spec_customer_emails" ("email")[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Wed, 20 Nov 2013 14:09:23 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", nil], ["spec_customer_id", 1], ["spec_person_name_id", 1], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Wed, 20 Nov 2013 14:09:23 UTC +00:00]]
  [1m[35mSpecCustomer Load (0.1ms)[0m  SELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "spec_customer_infos" 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecCustomer Load (0.1ms)[0m  SELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1
  [1m[36mSpecCustomer Load (0.0ms)[0m  [1mSELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  UPDATE "spec_customer_infos" SET "is_current" = 'f' , "lock_version" = 1 WHERE "id" = 1 AND "lock_version" = 0
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 25 Nov 2013 14:09:23 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", 1], ["spec_customer_id", nil], ["spec_person_name_id", 2], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 14:09:23 UTC +00:00]]
SQLite3::ConstraintException: spec_customer_infos.spec_customer_id may not be NULL: INSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_statuses"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_emails"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customers"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_types"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_infos"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_features"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_suffixes"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_person_names"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "index_spec_customer_emails_on_email" ON "spec_customer_emails" ("email")[0m
  [1m[35mSpecSuffix Load (0.1ms)[0m  SELECT "spec_suffixes".* FROM "spec_suffixes" 
  [1m[36mSpecPersonName Load (0.1ms)[0m  [1mSELECT "spec_person_names".* FROM "spec_person_names" WHERE "spec_person_names"."first_name" = 'John' AND "spec_person_names"."last_name" = 'Smith' AND "spec_person_names"."spec_suffix_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_person_names" ("first_name", "last_name", "spec_suffix_id") VALUES (?, ?, ?)[0m  [["first_name", "John"], ["last_name", "Smith"], ["spec_suffix_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "spec_person_names" [0m
  [1m[35mSpecPersonName Load (0.1ms)[0m  SELECT "spec_person_names".* FROM "spec_person_names" WHERE "spec_person_names"."first_name" = 'John' AND "spec_person_names"."last_name" = 'Smith' AND "spec_person_names"."spec_suffix_id" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "spec_person_names" [0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_types"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_statuses"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_suffixes"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_person_names"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_features"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_infos"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customers"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_emails"[0m
  [1m[35m (1.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  CREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Inactive"], ["name", "inactive"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Active"], ["name", "active"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Important"], ["name", "important"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", ""], ["name", "none"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", "Junior"], ["name", "jr"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE UNIQUE INDEX "index_spec_customer_emails_on_email" ON "spec_customer_emails" ("email")
  [1m[36mSpecSuffix Load (0.1ms)[0m  [1mSELECT "spec_suffixes".* FROM "spec_suffixes" [0m
  [1m[35mSpecPersonName Load (0.1ms)[0m  SELECT "spec_person_names".* FROM "spec_person_names" WHERE "spec_person_names"."first_name" = 'John' AND "spec_person_names"."last_name" = 'Smith' AND "spec_person_names"."spec_suffix_id" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_person_names" ("first_name", "last_name", "spec_suffix_id") VALUES (?, ?, ?)  [["first_name", "John"], ["last_name", "Smith"], ["spec_suffix_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSpecPersonName Load (0.1ms)[0m  SELECT "spec_person_names".* FROM "spec_person_names" WHERE "spec_person_names"."first_name" = 'John' AND "spec_person_names"."last_name" = 'Smith' AND "spec_person_names"."spec_suffix_id" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_types"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_suffixes"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_person_names"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_features"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_infos"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customers"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_emails"
  [1m[36m (1.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "index_spec_customer_emails_on_email" ON "spec_customer_emails" ("email")[0m
  [1m[35mSpecSuffix Load (0.1ms)[0m  SELECT "spec_suffixes".* FROM "spec_suffixes" 
  [1m[36mSpecPersonName Load (0.1ms)[0m  [1mSELECT "spec_person_names".* FROM "spec_person_names" WHERE "spec_person_names"."first_name" = 'John' AND "spec_person_names"."last_name" = 'Smith' AND "spec_person_names"."spec_suffix_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_person_names" ("first_name", "last_name", "spec_suffix_id") VALUES (?, ?, ?)[0m  [["first_name", "John"], ["last_name", "Smith"], ["spec_suffix_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "spec_person_names" [0m
  [1m[35mSpecPersonName Load (0.1ms)[0m  SELECT "spec_person_names".* FROM "spec_person_names" WHERE "spec_person_names"."first_name" = 'Alice' AND "spec_person_names"."last_name" = 'Smith' AND "spec_person_names"."spec_suffix_id" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_person_names" ("first_name", "last_name", "spec_suffix_id") VALUES (?, ?, ?)  [["first_name", "Alice"], ["last_name", "Smith"], ["spec_suffix_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "spec_person_names" 
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_types"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_suffixes"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_person_names"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_features"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_infos"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customers"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_emails"
  [1m[36m (1.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "index_spec_customer_emails_on_email" ON "spec_customer_emails" ("email")[0m
  [1m[35mSpecSuffix Load (0.1ms)[0m  SELECT "spec_suffixes".* FROM "spec_suffixes" 
  [1m[36mSpecPersonName Load (0.1ms)[0m  [1mSELECT "spec_person_names".* FROM "spec_person_names" WHERE "spec_person_names"."first_name" = 'John' AND "spec_person_names"."last_name" = 'Smith' AND "spec_person_names"."spec_suffix_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_person_names" ("first_name", "last_name", "spec_suffix_id") VALUES (?, ?, ?)[0m  [["first_name", "John"], ["last_name", "Smith"], ["spec_suffix_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSpecPersonName Load (0.1ms)[0m  [1mSELECT "spec_person_names".* FROM "spec_person_names" WHERE "spec_person_names"."first_name" = 'Alice' AND "spec_person_names"."last_name" = 'Smith' AND "spec_person_names"."spec_suffix_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_person_names" ("first_name", "last_name", "spec_suffix_id") VALUES (?, ?, ?)[0m  [["first_name", "Alice"], ["last_name", "Smith"], ["spec_suffix_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecPersonName Load (0.1ms)[0m  SELECT "spec_person_names".* FROM "spec_person_names" WHERE "spec_person_names"."first_name" = 'John' AND "spec_person_names"."last_name" = 'Smith' AND "spec_person_names"."spec_suffix_id" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_types"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_statuses"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_suffixes"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_person_names"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_features"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_infos"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customers"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_emails"[0m
  [1m[35m (1.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Inactive"], ["name", "inactive"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Active"], ["name", "active"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Important"], ["name", "important"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", ""], ["name", "none"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", "Junior"], ["name", "jr"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE UNIQUE INDEX "index_spec_customer_emails_on_email" ON "spec_customer_emails" ("email")
  [1m[36mSpecSuffix Load (0.1ms)[0m  [1mSELECT "spec_suffixes".* FROM "spec_suffixes" [0m
  [1m[35mSpecPersonName Load (0.1ms)[0m  SELECT "spec_person_names".* FROM "spec_person_names" WHERE "spec_person_names"."first_name" = 'John' AND "spec_person_names"."last_name" = 'Smith' AND "spec_person_names"."spec_suffix_id" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_person_names" ("first_name", "last_name", "spec_suffix_id") VALUES (?, ?, ?)  [["first_name", "John"], ["last_name", "Smith"], ["spec_suffix_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_types"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_statuses"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_suffixes"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_person_names"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_features"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_infos"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customers"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_emails"[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Inactive"], ["name", "inactive"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Active"], ["name", "active"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Important"], ["name", "important"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", ""], ["name", "none"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", "Junior"], ["name", "jr"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE UNIQUE INDEX "index_spec_customer_emails_on_email" ON "spec_customer_emails" ("email")
  [1m[36mSpecSuffix Load (0.1ms)[0m  [1mSELECT "spec_suffixes".* FROM "spec_suffixes" [0m
  [1m[35mSpecPersonName Load (0.1ms)[0m  SELECT "spec_person_names".* FROM "spec_person_names" WHERE "spec_person_names"."first_name" = 'John' AND "spec_person_names"."last_name" = 'Smith' AND "spec_person_names"."spec_suffix_id" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_person_names" ("first_name", "last_name", "spec_suffix_id") VALUES (?, ?, ?)  [["first_name", "John"], ["last_name", "Smith"], ["spec_suffix_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_types"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_statuses"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_suffixes"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_person_names"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_features"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_infos"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customers"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_emails"[0m
  [1m[35m (1.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Inactive"], ["name", "inactive"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Active"], ["name", "active"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Important"], ["name", "important"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", ""], ["name", "none"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", "Junior"], ["name", "jr"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE UNIQUE INDEX "index_spec_customer_emails_on_email" ON "spec_customer_emails" ("email")
  [1m[36mSpecSuffix Load (0.1ms)[0m  [1mSELECT "spec_suffixes".* FROM "spec_suffixes" [0m
  [1m[35mSpecPersonName Load (0.1ms)[0m  SELECT "spec_person_names".* FROM "spec_person_names" WHERE "spec_person_names"."first_name" = 'John' AND "spec_person_names"."last_name" = 'Smith' AND "spec_person_names"."spec_suffix_id" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_person_names" ("first_name", "last_name", "spec_suffix_id") VALUES (?, ?, ?)  [["first_name", "John"], ["last_name", "Smith"], ["spec_suffix_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSpecCustomerFeature Load (0.1ms)[0m  SELECT "spec_customer_features".* FROM "spec_customer_features" WHERE "spec_customer_features"."feature_name" = 'Pays' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_customer_features" ("feature_name") VALUES (?)  [["feature_name", "Pays"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSpecCustomerFeature Load (0.1ms)[0m  SELECT "spec_customer_features".* FROM "spec_customer_features" WHERE "spec_customer_features"."feature_name" = 'Pays' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_types"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_suffixes"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_person_names"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_features"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_infos"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customers"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_emails"
  [1m[36m (1.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "index_spec_customer_emails_on_email" ON "spec_customer_emails" ("email")[0m
  [1m[35mSpecSuffix Load (0.1ms)[0m  SELECT "spec_suffixes".* FROM "spec_suffixes" 
  [1m[36mSpecPersonName Load (0.1ms)[0m  [1mSELECT "spec_person_names".* FROM "spec_person_names" WHERE "spec_person_names"."first_name" = 'John' AND "spec_person_names"."last_name" = 'Smith' AND "spec_person_names"."spec_suffix_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_person_names" ("first_name", "last_name", "spec_suffix_id") VALUES (?, ?, ?)[0m  [["first_name", "John"], ["last_name", "Smith"], ["spec_suffix_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSpecCustomerFeature Load (0.1ms)[0m  [1mSELECT "spec_customer_features".* FROM "spec_customer_features" WHERE "spec_customer_features"."feature_name" = 'Pays' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_customer_features" ("feature_name") VALUES (?)[0m  [["feature_name", "Pays"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSpecCustomerFeature Load (0.1ms)[0m  [1mSELECT "spec_customer_features".* FROM "spec_customer_features" WHERE "spec_customer_features"."feature_name" = 'Fraud' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_customer_features" ("feature_name") VALUES (?)[0m  [["feature_name", "Fraud"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_types"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_suffixes"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_person_names"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_features"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_infos"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customers"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_emails"
  [1m[36m (1.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.2ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "index_spec_customer_emails_on_email" ON "spec_customer_emails" ("email")[0m
  [1m[35mSpecSuffix Load (0.1ms)[0m  SELECT "spec_suffixes".* FROM "spec_suffixes" 
  [1m[36mSpecPersonName Load (0.1ms)[0m  [1mSELECT "spec_person_names".* FROM "spec_person_names" WHERE "spec_person_names"."first_name" = 'John' AND "spec_person_names"."last_name" = 'Smith' AND "spec_person_names"."spec_suffix_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_person_names" ("first_name", "last_name", "spec_suffix_id") VALUES (?, ?, ?)[0m  [["first_name", "John"], ["last_name", "Smith"], ["spec_suffix_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSpecCustomerFeature Load (0.1ms)[0m  [1mSELECT "spec_customer_features".* FROM "spec_customer_features" WHERE "spec_customer_features"."feature_name" = 'Pays' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_customer_features" ("feature_name") VALUES (?)[0m  [["feature_name", "Pays"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSpecCustomerFeature Load (0.1ms)[0m  [1mSELECT "spec_customer_features".* FROM "spec_customer_features" WHERE "spec_customer_features"."feature_name" = 'Cancelled' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_customer_features" ("feature_name") VALUES (?)[0m  [["feature_name", "Cancelled"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_types"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_suffixes"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_person_names"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_features"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_infos"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customers"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_emails"
  [1m[36m (0.8ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "index_spec_customer_emails_on_email" ON "spec_customer_emails" ("email")[0m
  [1m[35mSpecSuffix Load (0.1ms)[0m  SELECT "spec_suffixes".* FROM "spec_suffixes" 
  [1m[36mSpecPersonName Load (0.1ms)[0m  [1mSELECT "spec_person_names".* FROM "spec_person_names" WHERE "spec_person_names"."first_name" = 'John' AND "spec_person_names"."last_name" = 'Smith' AND "spec_person_names"."spec_suffix_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_person_names" ("first_name", "last_name", "spec_suffix_id") VALUES (?, ?, ?)[0m  [["first_name", "John"], ["last_name", "Smith"], ["spec_suffix_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSpecCustomerFeature Load (0.1ms)[0m  [1mSELECT "spec_customer_features".* FROM "spec_customer_features" WHERE "spec_customer_features"."feature_name" = 'Pays' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_customer_features" ("feature_name") VALUES (?)[0m  [["feature_name", "Pays"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSpecCustomerFeature Load (0.1ms)[0m  [1mSELECT "spec_customer_features".* FROM "spec_customer_features" WHERE "spec_customer_features"."feature_name" = 'Returned' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_customer_features" ("feature_name") VALUES (?)[0m  [["feature_name", "Returned"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_types"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_suffixes"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_person_names"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_features"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_infos"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customers"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_emails"
  [1m[36m (1.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) 
  [1m[36m (0.2ms)[0m  [1mCREATE UNIQUE INDEX "index_spec_customer_emails_on_email" ON "spec_customer_emails" ("email")[0m
  [1m[35mSpecStatus Load (0.1ms)[0m  SELECT "spec_statuses".* FROM "spec_statuses" 
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_customers" ("spec_status_id") VALUES (?)  [["spec_status_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 25 Nov 2013 14:09:25 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", nil], ["spec_customer_id", 1], ["spec_person_name_id", 1], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 14:09:25 UTC +00:00]]
  [1m[35mSpecCustomer Load (0.1ms)[0m  SELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSpecCustomerInfo Load (0.1ms)[0m  SELECT "spec_customer_infos".* FROM "spec_customer_infos" WHERE "spec_customer_infos"."spec_customer_id" = 1 AND "spec_customer_infos"."is_current" = 't' ORDER BY id DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "spec_customer_infos" [0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "spec_customer_infos" SET "is_current" = 'f' , "lock_version" = 1 WHERE "id" = 1 AND "lock_version" = 0[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["created_at", Mon, 25 Nov 2013 14:09:25 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", 1], ["spec_customer_id", 1], ["spec_person_name_id", 2], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 14:09:25 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "spec_customer_infos" 
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_types"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_suffixes"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_person_names"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_features"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_infos"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customers"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_emails"
  [1m[36m (1.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "index_spec_customer_emails_on_email" ON "spec_customer_emails" ("email")[0m
  [1m[35mSpecStatus Load (0.1ms)[0m  SELECT "spec_statuses".* FROM "spec_statuses" 
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_customers" ("spec_status_id") VALUES (?)  [["spec_status_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 25 Nov 2013 14:09:25 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", nil], ["spec_customer_id", 1], ["spec_person_name_id", 1], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 14:09:25 UTC +00:00]]
  [1m[35mSpecCustomer Load (0.1ms)[0m  SELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSpecCustomerInfo Load (0.1ms)[0m  SELECT "spec_customer_infos".* FROM "spec_customer_infos" WHERE "spec_customer_infos"."spec_customer_id" = 1 AND "spec_customer_infos"."is_current" = 't' ORDER BY id DESC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "spec_customer_infos" SET "is_current" = 'f' , "lock_version" = 1 WHERE "id" = 1 AND "lock_version" = 0
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 25 Nov 2013 14:09:25 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", 1], ["spec_customer_id", 1], ["spec_person_name_id", 2], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 14:09:25 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_types"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_suffixes"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_person_names"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_features"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_infos"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customers"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_emails"
  [1m[36m (1.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) 
  [1m[36m (0.2ms)[0m  [1mCREATE UNIQUE INDEX "index_spec_customer_emails_on_email" ON "spec_customer_emails" ("email")[0m
  [1m[35mSpecStatus Load (0.1ms)[0m  SELECT "spec_statuses".* FROM "spec_statuses" 
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_customers" ("spec_status_id") VALUES (?)  [["spec_status_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 25 Nov 2013 14:09:25 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", nil], ["spec_customer_id", 1], ["spec_person_name_id", 1], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 14:09:25 UTC +00:00]]
  [1m[35mSpecCustomer Load (0.1ms)[0m  SELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSpecCustomerInfo Load (0.1ms)[0m  SELECT "spec_customer_infos".* FROM "spec_customer_infos" WHERE "spec_customer_infos"."spec_customer_id" = 1 AND "spec_customer_infos"."is_current" = 't' ORDER BY id DESC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "spec_customer_infos" SET "is_current" = 'f' , "lock_version" = 1 WHERE "id" = 1 AND "lock_version" = 0
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 25 Nov 2013 14:09:25 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", 1], ["spec_customer_id", 1], ["spec_person_name_id", 2], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 14:09:25 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSpecCustomerInfo Load (0.1ms)[0m  [1mSELECT "spec_customer_infos".* FROM "spec_customer_infos" WHERE "spec_customer_infos"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_types"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_statuses"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_suffixes"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_person_names"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_features"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_infos"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customers"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_emails"[0m
  [1m[35m (1.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Inactive"], ["name", "inactive"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Active"], ["name", "active"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Important"], ["name", "important"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", ""], ["name", "none"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", "Junior"], ["name", "jr"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE UNIQUE INDEX "index_spec_customer_emails_on_email" ON "spec_customer_emails" ("email")
  [1m[36mSpecStatus Load (0.1ms)[0m  [1mSELECT "spec_statuses".* FROM "spec_statuses" [0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_customers" ("spec_status_id") VALUES (?)[0m  [["spec_status_id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["created_at", Mon, 25 Nov 2013 14:09:25 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", nil], ["spec_customer_id", 1], ["spec_person_name_id", 1], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 14:09:25 UTC +00:00]]
  [1m[36mSpecCustomer Load (0.1ms)[0m  [1mSELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSpecCustomerInfo Load (0.1ms)[0m  [1mSELECT "spec_customer_infos".* FROM "spec_customer_infos" WHERE "spec_customer_infos"."spec_customer_id" = 1 AND "spec_customer_infos"."is_current" = 't' ORDER BY id DESC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "spec_customer_infos" SET "is_current" = 'f' , "lock_version" = 1 WHERE "id" = 1 AND "lock_version" = 0[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["created_at", Mon, 25 Nov 2013 14:09:25 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", 1], ["spec_customer_id", 1], ["spec_person_name_id", 2], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 14:09:25 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_types"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_statuses"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_suffixes"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_person_names"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_features"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_infos"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customers"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_emails"[0m
  [1m[35m (1.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Inactive"], ["name", "inactive"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Active"], ["name", "active"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Important"], ["name", "important"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", ""], ["name", "none"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", "Junior"], ["name", "jr"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE UNIQUE INDEX "index_spec_customer_emails_on_email" ON "spec_customer_emails" ("email")
  [1m[36mSpecStatus Load (0.1ms)[0m  [1mSELECT "spec_statuses".* FROM "spec_statuses" [0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_customers" ("spec_status_id") VALUES (?)[0m  [["spec_status_id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["created_at", Mon, 25 Nov 2013 14:09:25 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", nil], ["spec_customer_id", 1], ["spec_person_name_id", 1], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 14:09:25 UTC +00:00]]
  [1m[36mSpecCustomer Load (0.1ms)[0m  [1mSELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSpecCustomerInfo Load (0.1ms)[0m  [1mSELECT "spec_customer_infos".* FROM "spec_customer_infos" WHERE "spec_customer_infos"."spec_customer_id" = 1 AND "spec_customer_infos"."is_current" = 't' ORDER BY id DESC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "spec_customer_infos" SET "is_current" = 'f', "updated_at" = '2013-11-25 14:09:25.959152', "lock_version" = 1 WHERE ("spec_customer_infos"."id" = 1 AND "spec_customer_infos"."lock_version" = 0)[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["created_at", Mon, 25 Nov 2013 14:09:25 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", nil], ["spec_customer_id", 1], ["spec_person_name_id", 2], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 14:09:25 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_types"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_statuses"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_suffixes"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_person_names"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_features"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_infos"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customers"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_emails"[0m
  [1m[35m (1.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Inactive"], ["name", "inactive"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Active"], ["name", "active"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Important"], ["name", "important"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", ""], ["name", "none"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", "Junior"], ["name", "jr"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE UNIQUE INDEX "index_spec_customer_emails_on_email" ON "spec_customer_emails" ("email")
  [1m[36mSpecStatus Load (0.1ms)[0m  [1mSELECT "spec_statuses".* FROM "spec_statuses" [0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_customers" ("spec_status_id") VALUES (?)[0m  [["spec_status_id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["created_at", Mon, 25 Nov 2013 14:09:26 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", nil], ["spec_customer_id", 1], ["spec_person_name_id", 1], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 14:09:26 UTC +00:00]]
  [1m[36mSpecCustomer Load (0.1ms)[0m  [1mSELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSpecCustomerInfo Load (0.1ms)[0m  [1mSELECT "spec_customer_infos".* FROM "spec_customer_infos" WHERE "spec_customer_infos"."spec_customer_id" = 1 AND "spec_customer_infos"."is_current" = 't' ORDER BY id DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_customer_emails" ("email", "is_current", "spec_customer_id", "status") VALUES (?, ?, ?, ?)[0m  [["email", "foo@bar.com"], ["is_current", true], ["spec_customer_id", 1], ["status", "unverified"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "spec_customer_emails" SET "is_current" = 'f' WHERE "id" = 1 
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_customer_emails" ("email", "is_current", "spec_customer_id", "status") VALUES (?, ?, ?, ?)[0m  [["email", "foo@bar.com"], ["is_current", true], ["spec_customer_id", 1], ["status", "verified"]]
SQLite3::ConstraintException: column email is not unique: INSERT INTO "spec_customer_emails" ("email", "is_current", "spec_customer_id", "status") VALUES (?, ?, ?, ?)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_types"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_suffixes"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_person_names"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_features"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_infos"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customers"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_emails"
  [1m[36m (1.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "index_spec_customer_emails_on_email" ON "spec_customer_emails" ("email")[0m
  [1m[35mSpecStatus Load (0.1ms)[0m  SELECT "spec_statuses".* FROM "spec_statuses" 
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_customers" ("spec_status_id") VALUES (?)  [["spec_status_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 25 Nov 2013 14:09:26 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", nil], ["spec_customer_id", 1], ["spec_person_name_id", 1], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 14:09:26 UTC +00:00]]
  [1m[35mSpecCustomer Load (0.1ms)[0m  SELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSpecCustomerInfo Load (0.1ms)[0m  SELECT "spec_customer_infos".* FROM "spec_customer_infos" WHERE "spec_customer_infos"."spec_customer_id" = 1 AND "spec_customer_infos"."is_current" = 't' ORDER BY id DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_types"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_suffixes"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_person_names"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_features"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_infos"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customers"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_emails"
  [1m[36m (1.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "index_spec_customer_emails_on_email" ON "spec_customer_emails" ("email")[0m
  [1m[35mSpecStatus Load (0.1ms)[0m  SELECT "spec_statuses".* FROM "spec_statuses" 
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_customers" ("spec_status_id") VALUES (?)  [["spec_status_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 25 Nov 2013 14:09:26 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", nil], ["spec_customer_id", 1], ["spec_person_name_id", 1], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 14:09:26 UTC +00:00]]
  [1m[35mSpecCustomer Load (0.1ms)[0m  SELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSpecCustomerInfo Load (0.1ms)[0m  SELECT "spec_customer_infos".* FROM "spec_customer_infos" WHERE "spec_customer_infos"."spec_customer_id" = 1 AND "spec_customer_infos"."is_current" = 't' ORDER BY id DESC LIMIT 1
  [1m[36mSpecCustomer Load (0.1ms)[0m  [1mSELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSpecCustomerInfo Load (0.1ms)[0m  SELECT "spec_customer_infos".* FROM "spec_customer_infos" WHERE "spec_customer_infos"."spec_customer_id" = 1 AND "spec_customer_infos"."is_current" = 't' ORDER BY id DESC LIMIT 1
  [1m[36mSpecCustomer Load (0.0ms)[0m  [1mSELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSpecCustomerInfo Load (0.1ms)[0m  SELECT "spec_customer_infos".* FROM "spec_customer_infos" WHERE "spec_customer_infos"."spec_customer_id" = 1 AND "spec_customer_infos"."is_current" = 't' ORDER BY id DESC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "spec_customer_infos" SET "is_current" = 'f' , "lock_version" = 1 WHERE "id" = 1 AND "lock_version" = 0
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 25 Nov 2013 14:09:26 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", 1], ["spec_customer_id", 1], ["spec_person_name_id", 3], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 14:09:26 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "spec_customer_infos" SET "is_current" = 'f' , "lock_version" = 1 WHERE "id" = 1 AND "lock_version" = 0
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_types"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_statuses"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_suffixes"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_person_names"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_features"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_infos"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customers"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_emails"[0m
  [1m[35m (1.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Inactive"], ["name", "inactive"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Active"], ["name", "active"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Important"], ["name", "important"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", ""], ["name", "none"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", "Junior"], ["name", "jr"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE UNIQUE INDEX "index_spec_customer_emails_on_email" ON "spec_customer_emails" ("email")
  [1m[36mSpecStatus Load (0.1ms)[0m  [1mSELECT "spec_statuses".* FROM "spec_statuses" [0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_customers" ("spec_status_id") VALUES (?)[0m  [["spec_status_id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["created_at", Mon, 25 Nov 2013 14:09:26 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", nil], ["spec_customer_id", 1], ["spec_person_name_id", 1], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 14:09:26 UTC +00:00]]
  [1m[36mSpecCustomer Load (0.1ms)[0m  [1mSELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSpecCustomerInfo Load (0.1ms)[0m  [1mSELECT "spec_customer_infos".* FROM "spec_customer_infos" WHERE "spec_customer_infos"."spec_customer_id" = 1 AND "spec_customer_infos"."is_current" = 't' ORDER BY id DESC LIMIT 1[0m
  [1m[35mSpecCustomer Load (0.1ms)[0m  SELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSpecCustomerInfo Load (0.1ms)[0m  [1mSELECT "spec_customer_infos".* FROM "spec_customer_infos" WHERE "spec_customer_infos"."spec_customer_id" = 1 AND "spec_customer_infos"."is_current" = 't' ORDER BY id DESC LIMIT 1[0m
  [1m[35mSpecCustomer Load (0.0ms)[0m  SELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSpecCustomerInfo Load (0.1ms)[0m  [1mSELECT "spec_customer_infos".* FROM "spec_customer_infos" WHERE "spec_customer_infos"."spec_customer_id" = 1 AND "spec_customer_infos"."is_current" = 't' ORDER BY id DESC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_customer_emails" ("email", "is_current", "spec_customer_id", "status") VALUES (?, ?, ?, ?)[0m  [["email", "foo@bar.com"], ["is_current", nil], ["spec_customer_id", 1], ["status", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "spec_customer_emails" SET "is_current" = 'f' WHERE "id" = 1 
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_customer_emails" ("email", "is_current", "spec_customer_id", "status") VALUES (?, ?, ?, ?)[0m  [["email", "foo2@bar.com"], ["is_current", nil], ["spec_customer_id", 1], ["status", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_statuses"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_types"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_suffixes"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_person_names"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_features"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_infos"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customers"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_emails"
  [1m[36m (1.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "index_spec_customer_emails_on_email" ON "spec_customer_emails" ("email")[0m
  [1m[35mSpecStatus Load (0.1ms)[0m  SELECT "spec_statuses".* FROM "spec_statuses" 
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_customers" ("spec_status_id") VALUES (?)  [["spec_status_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 25 Nov 2013 14:09:26 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", nil], ["spec_customer_id", 1], ["spec_person_name_id", 1], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 14:09:26 UTC +00:00]]
  [1m[35mSpecCustomer Load (0.1ms)[0m  SELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSpecCustomerInfo Load (0.1ms)[0m  SELECT "spec_customer_infos".* FROM "spec_customer_infos" WHERE "spec_customer_infos"."spec_customer_id" = 1 AND "spec_customer_infos"."is_current" = 't' ORDER BY id DESC LIMIT 1
  [1m[36mSpecSuffix Load (0.1ms)[0m  [1mSELECT "spec_suffixes".* FROM "spec_suffixes" [0m
  [1m[35mSpecPersonName Load (0.1ms)[0m  SELECT "spec_person_names".* FROM "spec_person_names" WHERE "spec_person_names"."first_name" = 'John' AND "spec_person_names"."last_name" = 'Smith' AND "spec_person_names"."spec_suffix_id" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_person_names" ("first_name", "last_name", "spec_suffix_id") VALUES (?, ?, ?)  [["first_name", "John"], ["last_name", "Smith"], ["spec_suffix_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSpecCustomerInfo Load (0.1ms)[0m  SELECT "spec_customer_infos".* FROM "spec_customer_infos" WHERE "spec_customer_infos"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSpecPersonName Load (0.1ms)[0m  [1mSELECT "spec_person_names".* FROM "spec_person_names" WHERE "spec_person_names"."id" = 1 LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecPersonName Load (0.1ms)[0m  [1mSELECT "spec_person_names".* FROM "spec_person_names" WHERE "spec_person_names"."first_name" = 'Alice' AND "spec_person_names"."last_name" = 'Smith' AND "spec_person_names"."spec_suffix_id" IS NULL LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_person_names" ("first_name", "last_name", "spec_suffix_id") VALUES (?, ?, ?)  [["first_name", "Alice"], ["last_name", "Smith"], ["spec_suffix_id", nil]]
  [1m[36m (0.1ms)[0m  [1mUPDATE "spec_customer_infos" SET "is_current" = 'f' , "lock_version" = 1 WHERE "id" = 1 AND "lock_version" = 0[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["created_at", Mon, 25 Nov 2013 14:09:26 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", 1], ["spec_customer_id", 1], ["spec_person_name_id", 2], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 14:09:26 UTC +00:00]]
  [1m[36mSpecCustomer Load (0.1ms)[0m  [1mSELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSpecCustomerInfo Load (0.1ms)[0m  [1mSELECT "spec_customer_infos".* FROM "spec_customer_infos" WHERE "spec_customer_infos"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_types"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_suffixes"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_person_names"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_features"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_infos"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customers"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_emails"[0m
  [1m[35m (1.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Inactive"], ["name", "inactive"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Active"], ["name", "active"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Important"], ["name", "important"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", ""], ["name", "none"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", "Junior"], ["name", "jr"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE UNIQUE INDEX "index_spec_customer_emails_on_email" ON "spec_customer_emails" ("email")
  [1m[36mSpecSuffix Load (0.1ms)[0m  [1mSELECT "spec_suffixes".* FROM "spec_suffixes" [0m
  [1m[35mSpecStatus Load (0.1ms)[0m  SELECT "spec_statuses".* FROM "spec_statuses" 
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_customers" ("spec_status_id") VALUES (?)  [["spec_status_id", 1]]
  [1m[36mSpecPersonName Load (0.1ms)[0m  [1mSELECT "spec_person_names".* FROM "spec_person_names" WHERE "spec_person_names"."first_name" = 'John' AND "spec_person_names"."last_name" = 'Smith' AND "spec_person_names"."spec_suffix_id" IS NULL LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_person_names" ("first_name", "last_name", "spec_suffix_id") VALUES (?, ?, ?)  [["first_name", "John"], ["last_name", "Smith"], ["spec_suffix_id", nil]]
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 25 Nov 2013 14:09:27 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", nil], ["spec_customer_id", 1], ["spec_person_name_id", 1], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 14:09:27 UTC +00:00]]
  [1m[35mSpecCustomer Load (0.1ms)[0m  SELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_types"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_suffixes"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_person_names"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_features"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_infos"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customers"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_emails"[0m
  [1m[35m (3.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Inactive"], ["name", "inactive"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Active"], ["name", "active"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Important"], ["name", "important"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", ""], ["name", "none"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", "Junior"], ["name", "jr"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE UNIQUE INDEX "index_spec_customer_emails_on_email" ON "spec_customer_emails" ("email")
  [1m[36mSpecSuffix Load (0.1ms)[0m  [1mSELECT "spec_suffixes".* FROM "spec_suffixes" [0m
  [1m[35mSpecStatus Load (0.1ms)[0m  SELECT "spec_statuses".* FROM "spec_statuses" 
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_customers" ("spec_status_id") VALUES (?)  [["spec_status_id", 1]]
  [1m[36mSpecPersonName Load (0.1ms)[0m  [1mSELECT "spec_person_names".* FROM "spec_person_names" WHERE "spec_person_names"."first_name" = 'John' AND "spec_person_names"."last_name" = 'Smith' AND "spec_person_names"."spec_suffix_id" IS NULL LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_person_names" ("first_name", "last_name", "spec_suffix_id") VALUES (?, ?, ?)  [["first_name", "John"], ["last_name", "Smith"], ["spec_suffix_id", nil]]
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 25 Nov 2013 14:09:27 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", nil], ["spec_customer_id", 1], ["spec_person_name_id", 1], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 14:09:27 UTC +00:00]]
  [1m[35mSpecCustomer Load (0.1ms)[0m  SELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_types"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_suffixes"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_person_names"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_features"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_infos"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customers"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_emails"[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Inactive"], ["name", "inactive"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Active"], ["name", "active"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Important"], ["name", "important"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", ""], ["name", "none"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", "Junior"], ["name", "jr"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE UNIQUE INDEX "index_spec_customer_emails_on_email" ON "spec_customer_emails" ("email")
  [1m[36mSpecSuffix Load (0.1ms)[0m  [1mSELECT "spec_suffixes".* FROM "spec_suffixes" [0m
  [1m[35mSpecStatus Load (0.1ms)[0m  SELECT "spec_statuses".* FROM "spec_statuses" 
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_customers" ("spec_status_id") VALUES (?)  [["spec_status_id", 1]]
  [1m[36mSpecPersonName Load (0.1ms)[0m  [1mSELECT "spec_person_names".* FROM "spec_person_names" WHERE "spec_person_names"."first_name" = 'John' AND "spec_person_names"."last_name" = 'Smith' AND "spec_person_names"."spec_suffix_id" IS NULL LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_person_names" ("first_name", "last_name", "spec_suffix_id") VALUES (?, ?, ?)  [["first_name", "John"], ["last_name", "Smith"], ["spec_suffix_id", nil]]
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 25 Nov 2013 14:09:27 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", nil], ["spec_customer_id", 1], ["spec_person_name_id", 1], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 14:09:27 UTC +00:00]]
  [1m[35mSpecCustomer Load (0.1ms)[0m  SELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_types"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_suffixes"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_person_names"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_features"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_infos"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customers"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_emails"[0m
  [1m[35m (1.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Inactive"], ["name", "inactive"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Active"], ["name", "active"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Important"], ["name", "important"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", ""], ["name", "none"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", "Junior"], ["name", "jr"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE UNIQUE INDEX "index_spec_customer_emails_on_email" ON "spec_customer_emails" ("email")
  [1m[36mSpecSuffix Load (0.1ms)[0m  [1mSELECT "spec_suffixes".* FROM "spec_suffixes" [0m
  [1m[35mSpecStatus Load (0.1ms)[0m  SELECT "spec_statuses".* FROM "spec_statuses" 
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_customers" ("spec_status_id") VALUES (?)  [["spec_status_id", 1]]
  [1m[36mSpecPersonName Load (0.1ms)[0m  [1mSELECT "spec_person_names".* FROM "spec_person_names" WHERE "spec_person_names"."first_name" = 'John' AND "spec_person_names"."last_name" = 'Smith' AND "spec_person_names"."spec_suffix_id" IS NULL LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_person_names" ("first_name", "last_name", "spec_suffix_id") VALUES (?, ?, ?)  [["first_name", "John"], ["last_name", "Smith"], ["spec_suffix_id", nil]]
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 25 Nov 2013 14:09:27 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", nil], ["spec_customer_id", 1], ["spec_person_name_id", 1], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 14:09:27 UTC +00:00]]
  [1m[35mSpecCustomer Load (0.1ms)[0m  SELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_types"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_suffixes"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_person_names"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_features"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_infos"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customers"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_emails"[0m
  [1m[35m (1.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Inactive"], ["name", "inactive"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Active"], ["name", "active"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Important"], ["name", "important"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", ""], ["name", "none"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", "Junior"], ["name", "jr"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE UNIQUE INDEX "index_spec_customer_emails_on_email" ON "spec_customer_emails" ("email")
  [1m[36mSpecSuffix Load (0.1ms)[0m  [1mSELECT "spec_suffixes".* FROM "spec_suffixes" [0m
  [1m[35mSpecStatus Load (0.1ms)[0m  SELECT "spec_statuses".* FROM "spec_statuses" 
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_customers" ("spec_status_id") VALUES (?)  [["spec_status_id", 1]]
  [1m[36mSpecPersonName Load (0.1ms)[0m  [1mSELECT "spec_person_names".* FROM "spec_person_names" WHERE "spec_person_names"."first_name" = 'John' AND "spec_person_names"."last_name" = 'Smith' AND "spec_person_names"."spec_suffix_id" IS NULL LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_person_names" ("first_name", "last_name", "spec_suffix_id") VALUES (?, ?, ?)  [["first_name", "John"], ["last_name", "Smith"], ["spec_suffix_id", nil]]
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 25 Nov 2013 14:09:27 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", nil], ["spec_customer_id", 1], ["spec_person_name_id", 1], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 14:09:27 UTC +00:00]]
  [1m[35mSpecCustomer Load (0.1ms)[0m  SELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSpecType Load (0.2ms)[0m  SELECT "spec_types".* FROM "spec_types" 
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_statuses"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_types"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_suffixes"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_person_names"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_features"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_infos"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customers"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_emails"
  [1m[36m (1.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.2ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "index_spec_customer_emails_on_email" ON "spec_customer_emails" ("email")[0m
  [1m[35mSpecSuffix Load (0.1ms)[0m  SELECT "spec_suffixes".* FROM "spec_suffixes" 
  [1m[36mSpecStatus Load (0.3ms)[0m  [1mSELECT "spec_statuses".* FROM "spec_statuses" [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_customers" ("spec_status_id") VALUES (?)[0m  [["spec_status_id", 1]]
  [1m[35mSpecPersonName Load (0.1ms)[0m  SELECT "spec_person_names".* FROM "spec_person_names" WHERE "spec_person_names"."first_name" = 'John' AND "spec_person_names"."last_name" = 'Smith' AND "spec_person_names"."spec_suffix_id" IS NULL LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_person_names" ("first_name", "last_name", "spec_suffix_id") VALUES (?, ?, ?)[0m  [["first_name", "John"], ["last_name", "Smith"], ["spec_suffix_id", nil]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["created_at", Mon, 25 Nov 2013 14:09:27 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", nil], ["spec_customer_id", 1], ["spec_person_name_id", 1], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 14:09:27 UTC +00:00]]
  [1m[36mSpecCustomer Load (0.1ms)[0m  [1mSELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_statuses"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customers"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_emails"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_types"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_suffixes"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_person_names"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_features"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_infos"
  [1m[36m (1.1ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (1.6ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (1.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "index_spec_customer_emails_on_email" ON "spec_customer_emails" ("email")[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Wed, 20 Nov 2013 14:31:57 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", nil], ["spec_customer_id", 1], ["spec_person_name_id", 1], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Wed, 20 Nov 2013 14:31:57 UTC +00:00]]
  [1m[35mSpecCustomer Load (0.1ms)[0m  SELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "spec_customer_infos" 
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecCustomer Load (0.1ms)[0m  SELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1
  [1m[36mSpecCustomer Load (0.1ms)[0m  [1mSELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  UPDATE "spec_customer_infos" SET "is_current" = 'f' , "lock_version" = 1 WHERE "id" = 1 AND "lock_version" = 0
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 25 Nov 2013 14:31:57 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", 1], ["spec_customer_id", nil], ["spec_person_name_id", 2], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 14:31:57 UTC +00:00]]
SQLite3::ConstraintException: spec_customer_infos.spec_customer_id may not be NULL: INSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_statuses"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_types"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_suffixes"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_person_names"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_customer_features"[0m
  [1m[35m (0.3ms)[0m  DROP TABLE "spec_customer_infos"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customers"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_emails"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (11.3ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) 
  [1m[36m (0.2ms)[0m  [1mCREATE UNIQUE INDEX "index_spec_customer_emails_on_email" ON "spec_customer_emails" ("email")[0m
  [1m[35mSpecSuffix Load (0.2ms)[0m  SELECT "spec_suffixes".* FROM "spec_suffixes" 
  [1m[36mSpecPersonName Load (0.1ms)[0m  [1mSELECT "spec_person_names".* FROM "spec_person_names" WHERE "spec_person_names"."first_name" = 'John' AND "spec_person_names"."last_name" = 'Smith' AND "spec_person_names"."spec_suffix_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_person_names" ("first_name", "last_name", "spec_suffix_id") VALUES (?, ?, ?)[0m  [["first_name", "John"], ["last_name", "Smith"], ["spec_suffix_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "spec_person_names" [0m
  [1m[35mSpecPersonName Load (0.1ms)[0m  SELECT "spec_person_names".* FROM "spec_person_names" WHERE "spec_person_names"."first_name" = 'John' AND "spec_person_names"."last_name" = 'Smith' AND "spec_person_names"."spec_suffix_id" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "spec_person_names" [0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_types"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_suffixes"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_person_names"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_features"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_infos"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customers"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_emails"[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Inactive"], ["name", "inactive"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Active"], ["name", "active"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Important"], ["name", "important"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", ""], ["name", "none"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", "Junior"], ["name", "jr"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE UNIQUE INDEX "index_spec_customer_emails_on_email" ON "spec_customer_emails" ("email")
  [1m[36mSpecSuffix Load (0.1ms)[0m  [1mSELECT "spec_suffixes".* FROM "spec_suffixes" [0m
  [1m[35mSpecPersonName Load (0.1ms)[0m  SELECT "spec_person_names".* FROM "spec_person_names" WHERE "spec_person_names"."first_name" = 'John' AND "spec_person_names"."last_name" = 'Smith' AND "spec_person_names"."spec_suffix_id" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_person_names" ("first_name", "last_name", "spec_suffix_id") VALUES (?, ?, ?)  [["first_name", "John"], ["last_name", "Smith"], ["spec_suffix_id", nil]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSpecPersonName Load (0.1ms)[0m  SELECT "spec_person_names".* FROM "spec_person_names" WHERE "spec_person_names"."first_name" = 'John' AND "spec_person_names"."last_name" = 'Smith' AND "spec_person_names"."spec_suffix_id" IS NULL LIMIT 1
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_statuses"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_types"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_suffixes"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_person_names"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_emails"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_features"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_infos"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customers"
  [1m[36m (0.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.2ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "index_spec_customer_emails_on_email" ON "spec_customer_emails" ("email")[0m
  [1m[35mSpecSuffix Load (0.1ms)[0m  SELECT "spec_suffixes".* FROM "spec_suffixes" 
  [1m[36mSpecPersonName Load (0.1ms)[0m  [1mSELECT "spec_person_names".* FROM "spec_person_names" WHERE "spec_person_names"."first_name" = 'John' AND "spec_person_names"."last_name" = 'Smith' AND "spec_person_names"."spec_suffix_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_person_names" ("first_name", "last_name", "spec_suffix_id") VALUES (?, ?, ?)[0m  [["first_name", "John"], ["last_name", "Smith"], ["spec_suffix_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "spec_person_names" [0m
  [1m[35mSpecPersonName Load (0.1ms)[0m  SELECT "spec_person_names".* FROM "spec_person_names" WHERE "spec_person_names"."first_name" = 'Alice' AND "spec_person_names"."last_name" = 'Smith' AND "spec_person_names"."spec_suffix_id" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_person_names" ("first_name", "last_name", "spec_suffix_id") VALUES (?, ?, ?)  [["first_name", "Alice"], ["last_name", "Smith"], ["spec_suffix_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "spec_person_names" 
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_statuses"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_types"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_suffixes"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_person_names"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_customer_emails"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_features"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_infos"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customers"
  [1m[36m (1.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) 
  [1m[36m (0.2ms)[0m  [1mCREATE UNIQUE INDEX "index_spec_customer_emails_on_email" ON "spec_customer_emails" ("email")[0m
  [1m[35mSpecSuffix Load (0.1ms)[0m  SELECT "spec_suffixes".* FROM "spec_suffixes" 
  [1m[36mSpecPersonName Load (0.1ms)[0m  [1mSELECT "spec_person_names".* FROM "spec_person_names" WHERE "spec_person_names"."first_name" = 'John' AND "spec_person_names"."last_name" = 'Smith' AND "spec_person_names"."spec_suffix_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_person_names" ("first_name", "last_name", "spec_suffix_id") VALUES (?, ?, ?)[0m  [["first_name", "John"], ["last_name", "Smith"], ["spec_suffix_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSpecPersonName Load (0.1ms)[0m  [1mSELECT "spec_person_names".* FROM "spec_person_names" WHERE "spec_person_names"."first_name" = 'Alice' AND "spec_person_names"."last_name" = 'Smith' AND "spec_person_names"."spec_suffix_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_person_names" ("first_name", "last_name", "spec_suffix_id") VALUES (?, ?, ?)[0m  [["first_name", "Alice"], ["last_name", "Smith"], ["spec_suffix_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecPersonName Load (0.1ms)[0m  SELECT "spec_person_names".* FROM "spec_person_names" WHERE "spec_person_names"."first_name" = 'John' AND "spec_person_names"."last_name" = 'Smith' AND "spec_person_names"."spec_suffix_id" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_types"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_suffixes"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_person_names"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_emails"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_customer_features"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_infos"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_customers"[0m
  [1m[35m (0.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  CREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Inactive"], ["name", "inactive"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Active"], ["name", "active"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Important"], ["name", "important"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", ""], ["name", "none"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", "Junior"], ["name", "jr"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) 
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) [0m
  [1m[35m (0.2ms)[0m  CREATE UNIQUE INDEX "index_spec_customer_emails_on_email" ON "spec_customer_emails" ("email")
  [1m[36mSpecSuffix Load (0.1ms)[0m  [1mSELECT "spec_suffixes".* FROM "spec_suffixes" [0m
  [1m[35mSpecPersonName Load (0.1ms)[0m  SELECT "spec_person_names".* FROM "spec_person_names" WHERE "spec_person_names"."first_name" = 'John' AND "spec_person_names"."last_name" = 'Smith' AND "spec_person_names"."spec_suffix_id" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_person_names" ("first_name", "last_name", "spec_suffix_id") VALUES (?, ?, ?)  [["first_name", "John"], ["last_name", "Smith"], ["spec_suffix_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_types"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_suffixes"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_person_names"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_emails"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_features"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_infos"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customers"[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Inactive"], ["name", "inactive"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Active"], ["name", "active"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Important"], ["name", "important"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", ""], ["name", "none"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", "Junior"], ["name", "jr"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE UNIQUE INDEX "index_spec_customer_emails_on_email" ON "spec_customer_emails" ("email")
  [1m[36mSpecSuffix Load (0.1ms)[0m  [1mSELECT "spec_suffixes".* FROM "spec_suffixes" [0m
  [1m[35mSpecPersonName Load (0.2ms)[0m  SELECT "spec_person_names".* FROM "spec_person_names" WHERE "spec_person_names"."first_name" = 'John' AND "spec_person_names"."last_name" = 'Smith' AND "spec_person_names"."spec_suffix_id" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_person_names" ("first_name", "last_name", "spec_suffix_id") VALUES (?, ?, ?)  [["first_name", "John"], ["last_name", "Smith"], ["spec_suffix_id", nil]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_types"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_suffixes"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_person_names"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_customer_emails"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_features"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_infos"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customers"[0m
  [1m[35m (1.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Inactive"], ["name", "inactive"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Active"], ["name", "active"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Important"], ["name", "important"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", ""], ["name", "none"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", "Junior"], ["name", "jr"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE UNIQUE INDEX "index_spec_customer_emails_on_email" ON "spec_customer_emails" ("email")
  [1m[36mSpecSuffix Load (0.1ms)[0m  [1mSELECT "spec_suffixes".* FROM "spec_suffixes" [0m
  [1m[35mSpecPersonName Load (0.2ms)[0m  SELECT "spec_person_names".* FROM "spec_person_names" WHERE "spec_person_names"."first_name" = 'John' AND "spec_person_names"."last_name" = 'Smith' AND "spec_person_names"."spec_suffix_id" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_person_names" ("first_name", "last_name", "spec_suffix_id") VALUES (?, ?, ?)  [["first_name", "John"], ["last_name", "Smith"], ["spec_suffix_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSpecCustomerFeature Load (0.1ms)[0m  SELECT "spec_customer_features".* FROM "spec_customer_features" WHERE "spec_customer_features"."feature_name" = 'Pays' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_customer_features" ("feature_name") VALUES (?)  [["feature_name", "Pays"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSpecCustomerFeature Load (0.2ms)[0m  SELECT "spec_customer_features".* FROM "spec_customer_features" WHERE "spec_customer_features"."feature_name" = 'Pays' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_statuses"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_types"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_suffixes"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_person_names"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_features"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_infos"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customers"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_emails"
  [1m[36m (1.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "index_spec_customer_emails_on_email" ON "spec_customer_emails" ("email")[0m
  [1m[35mSpecSuffix Load (0.1ms)[0m  SELECT "spec_suffixes".* FROM "spec_suffixes" 
  [1m[36mSpecPersonName Load (0.1ms)[0m  [1mSELECT "spec_person_names".* FROM "spec_person_names" WHERE "spec_person_names"."first_name" = 'John' AND "spec_person_names"."last_name" = 'Smith' AND "spec_person_names"."spec_suffix_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_person_names" ("first_name", "last_name", "spec_suffix_id") VALUES (?, ?, ?)[0m  [["first_name", "John"], ["last_name", "Smith"], ["spec_suffix_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSpecCustomerFeature Load (0.2ms)[0m  [1mSELECT "spec_customer_features".* FROM "spec_customer_features" WHERE "spec_customer_features"."feature_name" = 'Pays' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_customer_features" ("feature_name") VALUES (?)[0m  [["feature_name", "Pays"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSpecCustomerFeature Load (0.4ms)[0m  [1mSELECT "spec_customer_features".* FROM "spec_customer_features" WHERE "spec_customer_features"."feature_name" = 'Fraud' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_customer_features" ("feature_name") VALUES (?)[0m  [["feature_name", "Fraud"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mDROP TABLE "spec_statuses"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_suffixes"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_person_names"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_features"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_infos"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customers"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_emails"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_types"
  [1m[36m (0.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "index_spec_customer_emails_on_email" ON "spec_customer_emails" ("email")[0m
  [1m[35mSpecSuffix Load (0.1ms)[0m  SELECT "spec_suffixes".* FROM "spec_suffixes" 
  [1m[36mSpecPersonName Load (0.1ms)[0m  [1mSELECT "spec_person_names".* FROM "spec_person_names" WHERE "spec_person_names"."first_name" = 'John' AND "spec_person_names"."last_name" = 'Smith' AND "spec_person_names"."spec_suffix_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_person_names" ("first_name", "last_name", "spec_suffix_id") VALUES (?, ?, ?)[0m  [["first_name", "John"], ["last_name", "Smith"], ["spec_suffix_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSpecCustomerFeature Load (0.1ms)[0m  [1mSELECT "spec_customer_features".* FROM "spec_customer_features" WHERE "spec_customer_features"."feature_name" = 'Pays' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_customer_features" ("feature_name") VALUES (?)[0m  [["feature_name", "Pays"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSpecCustomerFeature Load (0.1ms)[0m  [1mSELECT "spec_customer_features".* FROM "spec_customer_features" WHERE "spec_customer_features"."feature_name" = 'Cancelled' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_customer_features" ("feature_name") VALUES (?)[0m  [["feature_name", "Cancelled"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_statuses"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_suffixes"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_person_names"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_features"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_infos"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customers"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_emails"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_types"
  [1m[36m (0.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "index_spec_customer_emails_on_email" ON "spec_customer_emails" ("email")[0m
  [1m[35mSpecSuffix Load (0.1ms)[0m  SELECT "spec_suffixes".* FROM "spec_suffixes" 
  [1m[36mSpecPersonName Load (0.1ms)[0m  [1mSELECT "spec_person_names".* FROM "spec_person_names" WHERE "spec_person_names"."first_name" = 'John' AND "spec_person_names"."last_name" = 'Smith' AND "spec_person_names"."spec_suffix_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_person_names" ("first_name", "last_name", "spec_suffix_id") VALUES (?, ?, ?)[0m  [["first_name", "John"], ["last_name", "Smith"], ["spec_suffix_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSpecCustomerFeature Load (0.1ms)[0m  [1mSELECT "spec_customer_features".* FROM "spec_customer_features" WHERE "spec_customer_features"."feature_name" = 'Pays' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_customer_features" ("feature_name") VALUES (?)[0m  [["feature_name", "Pays"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSpecCustomerFeature Load (0.1ms)[0m  [1mSELECT "spec_customer_features".* FROM "spec_customer_features" WHERE "spec_customer_features"."feature_name" = 'Returned' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_customer_features" ("feature_name") VALUES (?)[0m  [["feature_name", "Returned"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_statuses"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_suffixes"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_person_names"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_features"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_infos"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customers"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_emails"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_types"
  [1m[36m (1.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.3ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "index_spec_customer_emails_on_email" ON "spec_customer_emails" ("email")[0m
  [1m[35mSpecStatus Load (0.1ms)[0m  SELECT "spec_statuses".* FROM "spec_statuses" 
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_customers" ("spec_status_id") VALUES (?)  [["spec_status_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 25 Nov 2013 14:31:59 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", nil], ["spec_customer_id", 1], ["spec_person_name_id", 1], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 14:31:59 UTC +00:00]]
  [1m[35mSpecCustomer Load (0.1ms)[0m  SELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSpecCustomerInfo Load (0.1ms)[0m  SELECT "spec_customer_infos".* FROM "spec_customer_infos" WHERE "spec_customer_infos"."spec_customer_id" = 1 AND "spec_customer_infos"."is_current" = 't' ORDER BY id DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "spec_customer_infos" [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "spec_customer_infos" SET "is_current" = 'f' , "lock_version" = 1 WHERE "id" = 1 AND "lock_version" = 0[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["created_at", Mon, 25 Nov 2013 14:31:59 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", 1], ["spec_customer_id", 1], ["spec_person_name_id", 2], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 14:31:59 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "spec_customer_infos" 
  [1m[36m (0.3ms)[0m  [1mDROP TABLE "spec_statuses"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_suffixes"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_person_names"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_features"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_infos"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customers"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_emails"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_types"
  [1m[36m (0.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.2ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) 
  [1m[36m (0.2ms)[0m  [1mCREATE UNIQUE INDEX "index_spec_customer_emails_on_email" ON "spec_customer_emails" ("email")[0m
  [1m[35mSpecStatus Load (0.1ms)[0m  SELECT "spec_statuses".* FROM "spec_statuses" 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_customers" ("spec_status_id") VALUES (?)  [["spec_status_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 25 Nov 2013 14:32:00 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", nil], ["spec_customer_id", 1], ["spec_person_name_id", 1], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 14:32:00 UTC +00:00]]
  [1m[35mSpecCustomer Load (0.1ms)[0m  SELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSpecCustomerInfo Load (0.1ms)[0m  SELECT "spec_customer_infos".* FROM "spec_customer_infos" WHERE "spec_customer_infos"."spec_customer_id" = 1 AND "spec_customer_infos"."is_current" = 't' ORDER BY id DESC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "spec_customer_infos" SET "is_current" = 'f' , "lock_version" = 1 WHERE "id" = 1 AND "lock_version" = 0
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 25 Nov 2013 14:32:00 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", 1], ["spec_customer_id", 1], ["spec_person_name_id", 2], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 14:32:00 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_statuses"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_suffixes"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_person_names"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_features"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_infos"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customers"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_emails"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_types"
  [1m[36m (0.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "index_spec_customer_emails_on_email" ON "spec_customer_emails" ("email")[0m
  [1m[35mSpecStatus Load (0.1ms)[0m  SELECT "spec_statuses".* FROM "spec_statuses" 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_customers" ("spec_status_id") VALUES (?)  [["spec_status_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 25 Nov 2013 14:32:00 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", nil], ["spec_customer_id", 1], ["spec_person_name_id", 1], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 14:32:00 UTC +00:00]]
  [1m[35mSpecCustomer Load (0.1ms)[0m  SELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSpecCustomerInfo Load (0.2ms)[0m  SELECT "spec_customer_infos".* FROM "spec_customer_infos" WHERE "spec_customer_infos"."spec_customer_id" = 1 AND "spec_customer_infos"."is_current" = 't' ORDER BY id DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "spec_customer_infos" SET "is_current" = 'f' , "lock_version" = 1 WHERE "id" = 1 AND "lock_version" = 0
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 25 Nov 2013 14:32:00 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", 1], ["spec_customer_id", 1], ["spec_person_name_id", 2], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 14:32:00 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSpecCustomerInfo Load (0.1ms)[0m  [1mSELECT "spec_customer_infos".* FROM "spec_customer_infos" WHERE "spec_customer_infos"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_suffixes"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_person_names"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_features"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_customer_infos"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customers"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_emails"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_types"[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  CREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Inactive"], ["name", "inactive"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Active"], ["name", "active"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Important"], ["name", "important"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", ""], ["name", "none"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", "Junior"], ["name", "jr"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE UNIQUE INDEX "index_spec_customer_emails_on_email" ON "spec_customer_emails" ("email")
  [1m[36mSpecStatus Load (0.1ms)[0m  [1mSELECT "spec_statuses".* FROM "spec_statuses" [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_customers" ("spec_status_id") VALUES (?)[0m  [["spec_status_id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["created_at", Mon, 25 Nov 2013 14:32:00 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", nil], ["spec_customer_id", 1], ["spec_person_name_id", 1], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 14:32:00 UTC +00:00]]
  [1m[36mSpecCustomer Load (0.1ms)[0m  [1mSELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSpecCustomerInfo Load (0.1ms)[0m  [1mSELECT "spec_customer_infos".* FROM "spec_customer_infos" WHERE "spec_customer_infos"."spec_customer_id" = 1 AND "spec_customer_infos"."is_current" = 't' ORDER BY id DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "spec_customer_infos" SET "is_current" = 'f' , "lock_version" = 1 WHERE "id" = 1 AND "lock_version" = 0[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["created_at", Mon, 25 Nov 2013 14:32:00 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", 1], ["spec_customer_id", 1], ["spec_person_name_id", 2], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 14:32:00 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_suffixes"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_person_names"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_customer_features"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_infos"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customers"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_emails"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_types"[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  CREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Inactive"], ["name", "inactive"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Active"], ["name", "active"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Important"], ["name", "important"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", ""], ["name", "none"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", "Junior"], ["name", "jr"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) [0m
  [1m[35m (0.2ms)[0m  CREATE UNIQUE INDEX "index_spec_customer_emails_on_email" ON "spec_customer_emails" ("email")
  [1m[36mSpecStatus Load (0.1ms)[0m  [1mSELECT "spec_statuses".* FROM "spec_statuses" [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_customers" ("spec_status_id") VALUES (?)[0m  [["spec_status_id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["created_at", Mon, 25 Nov 2013 14:32:00 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", nil], ["spec_customer_id", 1], ["spec_person_name_id", 1], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 14:32:00 UTC +00:00]]
  [1m[36mSpecCustomer Load (0.2ms)[0m  [1mSELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSpecCustomerInfo Load (0.1ms)[0m  [1mSELECT "spec_customer_infos".* FROM "spec_customer_infos" WHERE "spec_customer_infos"."spec_customer_id" = 1 AND "spec_customer_infos"."is_current" = 't' ORDER BY id DESC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "spec_customer_infos" SET "is_current" = 'f', "updated_at" = '2013-11-25 14:32:00.717320', "lock_version" = 1 WHERE ("spec_customer_infos"."id" = 1 AND "spec_customer_infos"."lock_version" = 0)[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["created_at", Mon, 25 Nov 2013 14:32:00 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", nil], ["spec_customer_id", 1], ["spec_person_name_id", 2], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 14:32:00 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_suffixes"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_person_names"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_customer_features"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_customer_infos"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customers"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_emails"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_types"[0m
  [1m[35m (0.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Inactive"], ["name", "inactive"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Active"], ["name", "active"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Important"], ["name", "important"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", ""], ["name", "none"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", "Junior"], ["name", "jr"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE UNIQUE INDEX "index_spec_customer_emails_on_email" ON "spec_customer_emails" ("email")
  [1m[36mSpecStatus Load (0.1ms)[0m  [1mSELECT "spec_statuses".* FROM "spec_statuses" [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_customers" ("spec_status_id") VALUES (?)[0m  [["spec_status_id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["created_at", Mon, 25 Nov 2013 14:32:00 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", nil], ["spec_customer_id", 1], ["spec_person_name_id", 1], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 14:32:00 UTC +00:00]]
  [1m[36mSpecCustomer Load (0.2ms)[0m  [1mSELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSpecCustomerInfo Load (0.1ms)[0m  [1mSELECT "spec_customer_infos".* FROM "spec_customer_infos" WHERE "spec_customer_infos"."spec_customer_id" = 1 AND "spec_customer_infos"."is_current" = 't' ORDER BY id DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "spec_customer_emails" ("email", "is_current", "spec_customer_id", "status") VALUES (?, ?, ?, ?)[0m  [["email", "foo@bar.com"], ["is_current", true], ["spec_customer_id", 1], ["status", "unverified"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "spec_customer_emails" SET "is_current" = 'f' WHERE "id" = 1 
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_customer_emails" ("email", "is_current", "spec_customer_id", "status") VALUES (?, ?, ?, ?)[0m  [["email", "foo@bar.com"], ["is_current", true], ["spec_customer_id", 1], ["status", "verified"]]
SQLite3::ConstraintException: column email is not unique: INSERT INTO "spec_customer_emails" ("email", "is_current", "spec_customer_id", "status") VALUES (?, ?, ?, ?)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_statuses"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_suffixes"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_person_names"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_features"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_infos"[0m
  [1m[35m (0.3ms)[0m  DROP TABLE "spec_customers"
  [1m[36m (0.4ms)[0m  [1mDROP TABLE "spec_customer_emails"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_types"
  [1m[36m (1.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "index_spec_customer_emails_on_email" ON "spec_customer_emails" ("email")[0m
  [1m[35mSpecStatus Load (0.1ms)[0m  SELECT "spec_statuses".* FROM "spec_statuses" 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_customers" ("spec_status_id") VALUES (?)  [["spec_status_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 25 Nov 2013 14:32:01 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", nil], ["spec_customer_id", 1], ["spec_person_name_id", 1], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 14:32:01 UTC +00:00]]
  [1m[35mSpecCustomer Load (0.1ms)[0m  SELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSpecCustomerInfo Load (0.1ms)[0m  SELECT "spec_customer_infos".* FROM "spec_customer_infos" WHERE "spec_customer_infos"."spec_customer_id" = 1 AND "spec_customer_infos"."is_current" = 't' ORDER BY id DESC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["created_at", Mon, 16 Jul 2012 00:00:00 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", nil], ["spec_customer_id", 1], ["spec_person_name_id", 1], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 16 Jul 2012 00:00:00 UTC +00:00]]
  [1m[36mSpecCustomer Load (0.0ms)[0m  [1mSELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  UPDATE "spec_customer_infos" SET "is_current" = 'f', "updated_at" = '2012-07-16 00:00:00.000000', "lock_version" = 1 WHERE ("spec_customer_infos"."id" = 1 AND "spec_customer_infos"."lock_version" = 0)
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mUPDATE "spec_customer_infos" SET "is_current" = 'f' , "lock_version" = 1 WHERE "id" = 2 AND "lock_version" = 0[0m
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["created_at", Tue, 17 Jul 2012 08:10:15 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", 2], ["spec_customer_id", 1], ["spec_person_name_id", 2], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Tue, 17 Jul 2012 08:10:15 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_suffixes"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_person_names"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_features"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_infos"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customers"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_emails"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_types"[0m
  [1m[35m (0.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.5ms)[0m  CREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Inactive"], ["name", "inactive"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Active"], ["name", "active"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Important"], ["name", "important"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", ""], ["name", "none"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", "Junior"], ["name", "jr"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE UNIQUE INDEX "index_spec_customer_emails_on_email" ON "spec_customer_emails" ("email")
  [1m[36mSpecStatus Load (0.1ms)[0m  [1mSELECT "spec_statuses".* FROM "spec_statuses" [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_customers" ("spec_status_id") VALUES (?)[0m  [["spec_status_id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["created_at", Mon, 25 Nov 2013 14:32:01 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", nil], ["spec_customer_id", 1], ["spec_person_name_id", 1], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 14:32:01 UTC +00:00]]
  [1m[36mSpecCustomer Load (0.1ms)[0m  [1mSELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSpecCustomerInfo Load (0.1ms)[0m  [1mSELECT "spec_customer_infos".* FROM "spec_customer_infos" WHERE "spec_customer_infos"."spec_customer_id" = 1 AND "spec_customer_infos"."is_current" = 't' ORDER BY id DESC LIMIT 1[0m
  [1m[35mSpecCustomer Load (0.1ms)[0m  SELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSpecCustomerInfo Load (0.1ms)[0m  [1mSELECT "spec_customer_infos".* FROM "spec_customer_infos" WHERE "spec_customer_infos"."spec_customer_id" = 1 AND "spec_customer_infos"."is_current" = 't' ORDER BY id DESC LIMIT 1[0m
  [1m[35mSpecCustomer Load (0.1ms)[0m  SELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSpecCustomerInfo Load (0.2ms)[0m  [1mSELECT "spec_customer_infos".* FROM "spec_customer_infos" WHERE "spec_customer_infos"."spec_customer_id" = 1 AND "spec_customer_infos"."is_current" = 't' ORDER BY id DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "spec_customer_infos" SET "is_current" = 'f' , "lock_version" = 1 WHERE "id" = 1 AND "lock_version" = 0[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["created_at", Mon, 25 Nov 2013 14:32:01 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", 1], ["spec_customer_id", 1], ["spec_person_name_id", 3], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 14:32:01 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "spec_customer_infos" SET "is_current" = 'f' , "lock_version" = 1 WHERE "id" = 1 AND "lock_version" = 0[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_statuses"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_suffixes"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_person_names"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_features"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_infos"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customers"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_emails"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_types"
  [1m[36m (1.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "index_spec_customer_emails_on_email" ON "spec_customer_emails" ("email")[0m
  [1m[35mSpecStatus Load (0.1ms)[0m  SELECT "spec_statuses".* FROM "spec_statuses" 
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_customers" ("spec_status_id") VALUES (?)  [["spec_status_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 25 Nov 2013 14:32:01 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", nil], ["spec_customer_id", 1], ["spec_person_name_id", 1], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 14:32:01 UTC +00:00]]
  [1m[35mSpecCustomer Load (0.1ms)[0m  SELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSpecCustomerInfo Load (0.2ms)[0m  SELECT "spec_customer_infos".* FROM "spec_customer_infos" WHERE "spec_customer_infos"."spec_customer_id" = 1 AND "spec_customer_infos"."is_current" = 't' ORDER BY id DESC LIMIT 1
  [1m[36mSpecCustomer Load (0.2ms)[0m  [1mSELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSpecCustomerInfo Load (0.1ms)[0m  SELECT "spec_customer_infos".* FROM "spec_customer_infos" WHERE "spec_customer_infos"."spec_customer_id" = 1 AND "spec_customer_infos"."is_current" = 't' ORDER BY id DESC LIMIT 1
  [1m[36mSpecCustomer Load (0.1ms)[0m  [1mSELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSpecCustomerInfo Load (0.2ms)[0m  SELECT "spec_customer_infos".* FROM "spec_customer_infos" WHERE "spec_customer_infos"."spec_customer_id" = 1 AND "spec_customer_infos"."is_current" = 't' ORDER BY id DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_customer_emails" ("email", "is_current", "spec_customer_id", "status") VALUES (?, ?, ?, ?)  [["email", "foo@bar.com"], ["is_current", nil], ["spec_customer_id", 1], ["status", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "spec_customer_emails" SET "is_current" = 'f' WHERE "id" = 1 [0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_customer_emails" ("email", "is_current", "spec_customer_id", "status") VALUES (?, ?, ?, ?)  [["email", "foo2@bar.com"], ["is_current", nil], ["spec_customer_id", 1], ["status", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.3ms)[0m  [1mDROP TABLE "spec_suffixes"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_person_names"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_features"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_infos"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customers"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_emails"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_types"[0m
  [1m[35m (1.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  CREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Inactive"], ["name", "inactive"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Active"], ["name", "active"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Important"], ["name", "important"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", ""], ["name", "none"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", "Junior"], ["name", "jr"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE UNIQUE INDEX "index_spec_customer_emails_on_email" ON "spec_customer_emails" ("email")
  [1m[36mSpecStatus Load (0.1ms)[0m  [1mSELECT "spec_statuses".* FROM "spec_statuses" [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_customers" ("spec_status_id") VALUES (?)[0m  [["spec_status_id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["created_at", Mon, 25 Nov 2013 14:32:01 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", nil], ["spec_customer_id", 1], ["spec_person_name_id", 1], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 14:32:01 UTC +00:00]]
  [1m[36mSpecCustomer Load (0.1ms)[0m  [1mSELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSpecCustomerInfo Load (0.1ms)[0m  [1mSELECT "spec_customer_infos".* FROM "spec_customer_infos" WHERE "spec_customer_infos"."spec_customer_id" = 1 AND "spec_customer_infos"."is_current" = 't' ORDER BY id DESC LIMIT 1[0m
  [1m[35mSpecSuffix Load (0.1ms)[0m  SELECT "spec_suffixes".* FROM "spec_suffixes" 
  [1m[36mSpecPersonName Load (0.1ms)[0m  [1mSELECT "spec_person_names".* FROM "spec_person_names" WHERE "spec_person_names"."first_name" = 'John' AND "spec_person_names"."last_name" = 'Smith' AND "spec_person_names"."spec_suffix_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_person_names" ("first_name", "last_name", "spec_suffix_id") VALUES (?, ?, ?)[0m  [["first_name", "John"], ["last_name", "Smith"], ["spec_suffix_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSpecCustomerInfo Load (0.1ms)[0m  [1mSELECT "spec_customer_infos".* FROM "spec_customer_infos" WHERE "spec_customer_infos"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSpecPersonName Load (0.1ms)[0m  SELECT "spec_person_names".* FROM "spec_person_names" WHERE "spec_person_names"."id" = 1 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecPersonName Load (0.2ms)[0m  SELECT "spec_person_names".* FROM "spec_person_names" WHERE "spec_person_names"."first_name" = 'Alice' AND "spec_person_names"."last_name" = 'Smith' AND "spec_person_names"."spec_suffix_id" IS NULL LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_person_names" ("first_name", "last_name", "spec_suffix_id") VALUES (?, ?, ?)[0m  [["first_name", "Alice"], ["last_name", "Smith"], ["spec_suffix_id", nil]]
  [1m[35m (0.1ms)[0m  UPDATE "spec_customer_infos" SET "is_current" = 'f' , "lock_version" = 1 WHERE "id" = 1 AND "lock_version" = 0
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 25 Nov 2013 14:32:01 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", 1], ["spec_customer_id", 1], ["spec_person_name_id", 2], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 14:32:01 UTC +00:00]]
  [1m[35mSpecCustomer Load (0.1ms)[0m  SELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSpecCustomerInfo Load (0.1ms)[0m  SELECT "spec_customer_infos".* FROM "spec_customer_infos" WHERE "spec_customer_infos"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_statuses"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_suffixes"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_person_names"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_features"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_infos"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customers"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_emails"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_types"
  [1m[36m (0.8ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.2ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "index_spec_customer_emails_on_email" ON "spec_customer_emails" ("email")[0m
  [1m[35mSpecSuffix Load (0.1ms)[0m  SELECT "spec_suffixes".* FROM "spec_suffixes" 
  [1m[36mSpecStatus Load (0.1ms)[0m  [1mSELECT "spec_statuses".* FROM "spec_statuses" [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_customers" ("spec_status_id") VALUES (?)[0m  [["spec_status_id", 1]]
  [1m[35mSpecPersonName Load (0.2ms)[0m  SELECT "spec_person_names".* FROM "spec_person_names" WHERE "spec_person_names"."first_name" = 'John' AND "spec_person_names"."last_name" = 'Smith' AND "spec_person_names"."spec_suffix_id" IS NULL LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_person_names" ("first_name", "last_name", "spec_suffix_id") VALUES (?, ?, ?)[0m  [["first_name", "John"], ["last_name", "Smith"], ["spec_suffix_id", nil]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["created_at", Mon, 25 Nov 2013 14:32:02 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", nil], ["spec_customer_id", 1], ["spec_person_name_id", 1], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 14:32:02 UTC +00:00]]
  [1m[36mSpecCustomer Load (0.1ms)[0m  [1mSELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_statuses"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customers"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_suffixes"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_person_names"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_features"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_infos"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_emails"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_types"
  [1m[36m (0.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) 
  [1m[36m (0.3ms)[0m  [1mCREATE UNIQUE INDEX "index_spec_customer_emails_on_email" ON "spec_customer_emails" ("email")[0m
  [1m[35mSpecSuffix Load (0.1ms)[0m  SELECT "spec_suffixes".* FROM "spec_suffixes" 
  [1m[36mSpecStatus Load (0.1ms)[0m  [1mSELECT "spec_statuses".* FROM "spec_statuses" [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_customers" ("spec_status_id") VALUES (?)[0m  [["spec_status_id", 1]]
  [1m[35mSpecPersonName Load (0.1ms)[0m  SELECT "spec_person_names".* FROM "spec_person_names" WHERE "spec_person_names"."first_name" = 'John' AND "spec_person_names"."last_name" = 'Smith' AND "spec_person_names"."spec_suffix_id" IS NULL LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_person_names" ("first_name", "last_name", "spec_suffix_id") VALUES (?, ?, ?)[0m  [["first_name", "John"], ["last_name", "Smith"], ["spec_suffix_id", nil]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["created_at", Mon, 25 Nov 2013 14:32:02 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", nil], ["spec_customer_id", 1], ["spec_person_name_id", 1], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 14:32:02 UTC +00:00]]
  [1m[36mSpecCustomer Load (0.1ms)[0m  [1mSELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_statuses"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customers"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_suffixes"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_emails"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_person_names"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_features"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_infos"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_types"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "index_spec_customer_emails_on_email" ON "spec_customer_emails" ("email")[0m
  [1m[35mSpecSuffix Load (0.2ms)[0m  SELECT "spec_suffixes".* FROM "spec_suffixes" 
  [1m[36mSpecStatus Load (0.1ms)[0m  [1mSELECT "spec_statuses".* FROM "spec_statuses" [0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_customers" ("spec_status_id") VALUES (?)[0m  [["spec_status_id", 1]]
  [1m[35mSpecPersonName Load (0.1ms)[0m  SELECT "spec_person_names".* FROM "spec_person_names" WHERE "spec_person_names"."first_name" = 'John' AND "spec_person_names"."last_name" = 'Smith' AND "spec_person_names"."spec_suffix_id" IS NULL LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "spec_person_names" ("first_name", "last_name", "spec_suffix_id") VALUES (?, ?, ?)[0m  [["first_name", "John"], ["last_name", "Smith"], ["spec_suffix_id", nil]]
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["created_at", Mon, 25 Nov 2013 14:32:02 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", nil], ["spec_customer_id", 1], ["spec_person_name_id", 1], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 14:32:02 UTC +00:00]]
  [1m[36mSpecCustomer Load (0.1ms)[0m  [1mSELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_statuses"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_customers"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_suffixes"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_emails"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_person_names"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_features"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_customer_infos"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_types"
  [1m[36m (1.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "index_spec_customer_emails_on_email" ON "spec_customer_emails" ("email")[0m
  [1m[35mSpecSuffix Load (0.1ms)[0m  SELECT "spec_suffixes".* FROM "spec_suffixes" 
  [1m[36mSpecStatus Load (0.1ms)[0m  [1mSELECT "spec_statuses".* FROM "spec_statuses" [0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_customers" ("spec_status_id") VALUES (?)[0m  [["spec_status_id", 1]]
  [1m[35mSpecPersonName Load (0.1ms)[0m  SELECT "spec_person_names".* FROM "spec_person_names" WHERE "spec_person_names"."first_name" = 'John' AND "spec_person_names"."last_name" = 'Smith' AND "spec_person_names"."spec_suffix_id" IS NULL LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_person_names" ("first_name", "last_name", "spec_suffix_id") VALUES (?, ?, ?)[0m  [["first_name", "John"], ["last_name", "Smith"], ["spec_suffix_id", nil]]
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["created_at", Mon, 25 Nov 2013 14:32:02 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", nil], ["spec_customer_id", 1], ["spec_person_name_id", 1], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 14:32:02 UTC +00:00]]
  [1m[36mSpecCustomer Load (0.1ms)[0m  [1mSELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_statuses"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customers"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_suffixes"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_customer_emails"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_person_names"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_features"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_infos"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_types"
  [1m[36m (1.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "index_spec_customer_emails_on_email" ON "spec_customer_emails" ("email")[0m
  [1m[35mSpecSuffix Load (0.1ms)[0m  SELECT "spec_suffixes".* FROM "spec_suffixes" 
  [1m[36mSpecStatus Load (0.1ms)[0m  [1mSELECT "spec_statuses".* FROM "spec_statuses" [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_customers" ("spec_status_id") VALUES (?)[0m  [["spec_status_id", 1]]
  [1m[35mSpecPersonName Load (0.1ms)[0m  SELECT "spec_person_names".* FROM "spec_person_names" WHERE "spec_person_names"."first_name" = 'John' AND "spec_person_names"."last_name" = 'Smith' AND "spec_person_names"."spec_suffix_id" IS NULL LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_person_names" ("first_name", "last_name", "spec_suffix_id") VALUES (?, ?, ?)[0m  [["first_name", "John"], ["last_name", "Smith"], ["spec_suffix_id", nil]]
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["created_at", Mon, 25 Nov 2013 14:32:02 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", nil], ["spec_customer_id", 1], ["spec_person_name_id", 1], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 14:32:02 UTC +00:00]]
  [1m[36mSpecCustomer Load (0.1ms)[0m  [1mSELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSpecType Load (0.1ms)[0m  [1mSELECT "spec_types".* FROM "spec_types" [0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customers"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_suffixes"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_emails"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_person_names"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_features"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_infos"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_types"[0m
  [1m[35m (0.9ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Inactive"], ["name", "inactive"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Active"], ["name", "active"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Important"], ["name", "important"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", ""], ["name", "none"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", "Junior"], ["name", "jr"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE UNIQUE INDEX "index_spec_customer_emails_on_email" ON "spec_customer_emails" ("email")
  [1m[36mSpecSuffix Load (0.1ms)[0m  [1mSELECT "spec_suffixes".* FROM "spec_suffixes" [0m
  [1m[35mSpecStatus Load (0.1ms)[0m  SELECT "spec_statuses".* FROM "spec_statuses" 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_customers" ("spec_status_id") VALUES (?)  [["spec_status_id", 1]]
  [1m[36mSpecPersonName Load (0.1ms)[0m  [1mSELECT "spec_person_names".* FROM "spec_person_names" WHERE "spec_person_names"."first_name" = 'John' AND "spec_person_names"."last_name" = 'Smith' AND "spec_person_names"."spec_suffix_id" IS NULL LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_person_names" ("first_name", "last_name", "spec_suffix_id") VALUES (?, ?, ?)  [["first_name", "John"], ["last_name", "Smith"], ["spec_suffix_id", nil]]
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 25 Nov 2013 14:32:03 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", nil], ["spec_customer_id", 1], ["spec_person_name_id", 1], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 14:32:03 UTC +00:00]]
  [1m[35mSpecCustomer Load (0.1ms)[0m  SELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customers"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_suffixes"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_emails"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_person_names"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_features"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_infos"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_types"[0m
  [1m[35m (0.9ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  select sqlite_version(*)
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (2.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (1.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_types"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_suffixes"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_person_names"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_features"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_infos"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customers"
  [1m[36m (1.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_suffixes"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_person_names"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_features"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_infos"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customers"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_statuses"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_types"
  [1m[36m (1.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_suffixes"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_person_names"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_features"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_infos"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customers"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_statuses"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_types"
  [1m[36m (1.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_suffixes"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_person_names"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_features"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_infos"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customers"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_statuses"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_types"
  [1m[36m (0.8ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_suffixes"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_person_names"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_features"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_infos"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customers"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_statuses"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_types"
  [1m[36m (1.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_suffixes"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_person_names"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_features"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_infos"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customers"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_statuses"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_types"
  [1m[36m (1.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_suffixes"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_person_names"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_features"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_infos"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customers"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_statuses"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_types"
  [1m[36m (1.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_suffixes"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_person_names"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_features"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_infos"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customers"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_statuses"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_types"
  [1m[36m (1.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_suffixes"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_person_names"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_features"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_infos"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customers"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_statuses"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_types"
  [1m[36m (0.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_suffixes"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_person_names"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_features"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_infos"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customers"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_types"
  [1m[36m (1.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_suffixes"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_person_names"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_features"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_infos"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customers"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_types"
  [1m[36m (1.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.2ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_suffixes"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_person_names"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_features"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_infos"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customers"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_types"
  [1m[36m (0.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_suffixes"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_person_names"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_features"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_infos"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customers"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_types"
  [1m[36m (0.8ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_suffixes"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_person_names"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_features"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_infos"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customers"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_types"
  [1m[36m (0.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_suffixes"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_person_names"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_features"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_infos"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customers"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_types"
  [1m[36m (0.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_suffixes"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_person_names"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_features"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_infos"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customers"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_types"
  [1m[36m (1.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_suffixes"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_person_names"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_features"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_infos"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customers"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_types"
  [1m[36m (1.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_suffixes"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_person_names"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_features"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_infos"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customers"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_types"
  [1m[36m (0.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_suffixes"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_person_names"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_features"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_infos"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customers"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_types"
  [1m[36m (1.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.3ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_suffixes"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_person_names"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_features"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_infos"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customers"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_types"
  [1m[36m (1.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.2ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_suffixes"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_person_names"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_features"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_infos"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customers"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_types"
  [1m[36m (1.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_suffixes"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_person_names"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_features"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_infos"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customers"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_types"
  [1m[36m (0.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.2ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_suffixes"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_person_names"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_features"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_infos"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customers"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_types"
  [1m[36m (1.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_suffixes"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_person_names"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_features"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_infos"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customers"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_types"
  [1m[36m (1.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_suffixes"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_person_names"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_features"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_infos"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customers"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_types"
  [1m[36m (1.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_suffixes"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_person_names"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_features"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_infos"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customers"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_types"
  [1m[36m (1.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_suffixes"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_person_names"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_features"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_infos"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customers"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_types"
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (2.0ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (1.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.2ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "index_spec_customer_emails_on_email" ON "spec_customer_emails" ("email")[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Wed, 20 Nov 2013 14:39:07 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", nil], ["spec_customer_id", 1], ["spec_person_name_id", 1], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Wed, 20 Nov 2013 14:39:07 UTC +00:00]]
  [1m[35mSpecCustomer Load (0.1ms)[0m  SELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "spec_customer_infos" 
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecCustomer Load (0.1ms)[0m  SELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1
  [1m[36mSpecCustomer Load (0.1ms)[0m  [1mSELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  UPDATE "spec_customer_infos" SET "is_current" = 'f' , "lock_version" = 1 WHERE "id" = 1 AND "lock_version" = 0
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 25 Nov 2013 14:39:07 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", 1], ["spec_customer_id", nil], ["spec_person_name_id", 2], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 14:39:07 UTC +00:00]]
SQLite3::ConstraintException: spec_customer_infos.spec_customer_id may not be NULL: INSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_statuses"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_types"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_suffixes"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_person_names"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_features"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_infos"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_customers"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_emails"
  [1m[36m (1.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.2ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "index_spec_customer_emails_on_email" ON "spec_customer_emails" ("email")[0m
  [1m[35mSpecSuffix Load (0.1ms)[0m  SELECT "spec_suffixes".* FROM "spec_suffixes" 
  [1m[36mSpecPersonName Load (0.1ms)[0m  [1mSELECT "spec_person_names".* FROM "spec_person_names" WHERE "spec_person_names"."first_name" = 'John' AND "spec_person_names"."last_name" = 'Smith' AND "spec_person_names"."spec_suffix_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_person_names" ("first_name", "last_name", "spec_suffix_id") VALUES (?, ?, ?)[0m  [["first_name", "John"], ["last_name", "Smith"], ["spec_suffix_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "spec_person_names" [0m
  [1m[35mSpecPersonName Load (0.1ms)[0m  SELECT "spec_person_names".* FROM "spec_person_names" WHERE "spec_person_names"."first_name" = 'John' AND "spec_person_names"."last_name" = 'Smith' AND "spec_person_names"."spec_suffix_id" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "spec_person_names" [0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_types"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_suffixes"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_person_names"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_features"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_infos"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customers"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_emails"[0m
  [1m[35m (1.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  CREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Inactive"], ["name", "inactive"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Active"], ["name", "active"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Important"], ["name", "important"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", ""], ["name", "none"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", "Junior"], ["name", "jr"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) [0m
  [1m[35m (0.2ms)[0m  CREATE UNIQUE INDEX "index_spec_customer_emails_on_email" ON "spec_customer_emails" ("email")
  [1m[36mSpecSuffix Load (0.1ms)[0m  [1mSELECT "spec_suffixes".* FROM "spec_suffixes" [0m
  [1m[35mSpecPersonName Load (0.1ms)[0m  SELECT "spec_person_names".* FROM "spec_person_names" WHERE "spec_person_names"."first_name" = 'John' AND "spec_person_names"."last_name" = 'Smith' AND "spec_person_names"."spec_suffix_id" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_person_names" ("first_name", "last_name", "spec_suffix_id") VALUES (?, ?, ?)  [["first_name", "John"], ["last_name", "Smith"], ["spec_suffix_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSpecPersonName Load (0.1ms)[0m  SELECT "spec_person_names".* FROM "spec_person_names" WHERE "spec_person_names"."first_name" = 'John' AND "spec_person_names"."last_name" = 'Smith' AND "spec_person_names"."spec_suffix_id" IS NULL LIMIT 1
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_statuses"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_types"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_suffixes"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_person_names"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_features"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_infos"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customers"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_emails"
  [1m[36m (1.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "index_spec_customer_emails_on_email" ON "spec_customer_emails" ("email")[0m
  [1m[35mSpecSuffix Load (0.1ms)[0m  SELECT "spec_suffixes".* FROM "spec_suffixes" 
  [1m[36mSpecPersonName Load (0.1ms)[0m  [1mSELECT "spec_person_names".* FROM "spec_person_names" WHERE "spec_person_names"."first_name" = 'John' AND "spec_person_names"."last_name" = 'Smith' AND "spec_person_names"."spec_suffix_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_person_names" ("first_name", "last_name", "spec_suffix_id") VALUES (?, ?, ?)[0m  [["first_name", "John"], ["last_name", "Smith"], ["spec_suffix_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "spec_person_names" [0m
  [1m[35mSpecPersonName Load (0.1ms)[0m  SELECT "spec_person_names".* FROM "spec_person_names" WHERE "spec_person_names"."first_name" = 'Alice' AND "spec_person_names"."last_name" = 'Smith' AND "spec_person_names"."spec_suffix_id" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_person_names" ("first_name", "last_name", "spec_suffix_id") VALUES (?, ?, ?)  [["first_name", "Alice"], ["last_name", "Smith"], ["spec_suffix_id", nil]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "spec_person_names" 
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_statuses"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_types"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_suffixes"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_person_names"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_features"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_infos"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customers"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_emails"
  [1m[36m (1.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "index_spec_customer_emails_on_email" ON "spec_customer_emails" ("email")[0m
  [1m[35mSpecSuffix Load (0.1ms)[0m  SELECT "spec_suffixes".* FROM "spec_suffixes" 
  [1m[36mSpecPersonName Load (0.1ms)[0m  [1mSELECT "spec_person_names".* FROM "spec_person_names" WHERE "spec_person_names"."first_name" = 'John' AND "spec_person_names"."last_name" = 'Smith' AND "spec_person_names"."spec_suffix_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_person_names" ("first_name", "last_name", "spec_suffix_id") VALUES (?, ?, ?)[0m  [["first_name", "John"], ["last_name", "Smith"], ["spec_suffix_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSpecPersonName Load (0.1ms)[0m  [1mSELECT "spec_person_names".* FROM "spec_person_names" WHERE "spec_person_names"."first_name" = 'Alice' AND "spec_person_names"."last_name" = 'Smith' AND "spec_person_names"."spec_suffix_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_person_names" ("first_name", "last_name", "spec_suffix_id") VALUES (?, ?, ?)[0m  [["first_name", "Alice"], ["last_name", "Smith"], ["spec_suffix_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecPersonName Load (0.1ms)[0m  SELECT "spec_person_names".* FROM "spec_person_names" WHERE "spec_person_names"."first_name" = 'John' AND "spec_person_names"."last_name" = 'Smith' AND "spec_person_names"."spec_suffix_id" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_types"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_suffixes"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_person_names"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_features"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_infos"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customers"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_emails"[0m
  [1m[35m (1.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Inactive"], ["name", "inactive"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Active"], ["name", "active"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Important"], ["name", "important"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", ""], ["name", "none"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", "Junior"], ["name", "jr"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE UNIQUE INDEX "index_spec_customer_emails_on_email" ON "spec_customer_emails" ("email")
  [1m[36mSpecSuffix Load (0.1ms)[0m  [1mSELECT "spec_suffixes".* FROM "spec_suffixes" [0m
  [1m[35mSpecPersonName Load (0.1ms)[0m  SELECT "spec_person_names".* FROM "spec_person_names" WHERE "spec_person_names"."first_name" = 'John' AND "spec_person_names"."last_name" = 'Smith' AND "spec_person_names"."spec_suffix_id" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_person_names" ("first_name", "last_name", "spec_suffix_id") VALUES (?, ?, ?)  [["first_name", "John"], ["last_name", "Smith"], ["spec_suffix_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customers"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_emails"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_types"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_suffixes"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_person_names"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_features"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_infos"[0m
  [1m[35m (0.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.2ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Inactive"], ["name", "inactive"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Active"], ["name", "active"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Important"], ["name", "important"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", ""], ["name", "none"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", "Junior"], ["name", "jr"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE UNIQUE INDEX "index_spec_customer_emails_on_email" ON "spec_customer_emails" ("email")
  [1m[36mSpecSuffix Load (0.1ms)[0m  [1mSELECT "spec_suffixes".* FROM "spec_suffixes" [0m
  [1m[35mSpecPersonName Load (0.1ms)[0m  SELECT "spec_person_names".* FROM "spec_person_names" WHERE "spec_person_names"."first_name" = 'John' AND "spec_person_names"."last_name" = 'Smith' AND "spec_person_names"."spec_suffix_id" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_person_names" ("first_name", "last_name", "spec_suffix_id") VALUES (?, ?, ?)  [["first_name", "John"], ["last_name", "Smith"], ["spec_suffix_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customers"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_emails"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_types"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_suffixes"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_person_names"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_features"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_infos"[0m
  [1m[35m (4.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  CREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Inactive"], ["name", "inactive"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Active"], ["name", "active"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Important"], ["name", "important"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", ""], ["name", "none"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", "Junior"], ["name", "jr"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE UNIQUE INDEX "index_spec_customer_emails_on_email" ON "spec_customer_emails" ("email")
  [1m[36mSpecSuffix Load (0.1ms)[0m  [1mSELECT "spec_suffixes".* FROM "spec_suffixes" [0m
  [1m[35mSpecPersonName Load (0.1ms)[0m  SELECT "spec_person_names".* FROM "spec_person_names" WHERE "spec_person_names"."first_name" = 'John' AND "spec_person_names"."last_name" = 'Smith' AND "spec_person_names"."spec_suffix_id" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_person_names" ("first_name", "last_name", "spec_suffix_id") VALUES (?, ?, ?)  [["first_name", "John"], ["last_name", "Smith"], ["spec_suffix_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSpecCustomerFeature Load (0.1ms)[0m  SELECT "spec_customer_features".* FROM "spec_customer_features" WHERE "spec_customer_features"."feature_name" = 'Pays' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_customer_features" ("feature_name") VALUES (?)  [["feature_name", "Pays"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSpecCustomerFeature Load (0.1ms)[0m  SELECT "spec_customer_features".* FROM "spec_customer_features" WHERE "spec_customer_features"."feature_name" = 'Pays' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_statuses"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customers"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_emails"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_types"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_suffixes"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_person_names"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_features"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_infos"
  [1m[36m (1.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "index_spec_customer_emails_on_email" ON "spec_customer_emails" ("email")[0m
  [1m[35mSpecSuffix Load (0.1ms)[0m  SELECT "spec_suffixes".* FROM "spec_suffixes" 
  [1m[36mSpecPersonName Load (0.1ms)[0m  [1mSELECT "spec_person_names".* FROM "spec_person_names" WHERE "spec_person_names"."first_name" = 'John' AND "spec_person_names"."last_name" = 'Smith' AND "spec_person_names"."spec_suffix_id" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_person_names" ("first_name", "last_name", "spec_suffix_id") VALUES (?, ?, ?)[0m  [["first_name", "John"], ["last_name", "Smith"], ["spec_suffix_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSpecCustomerFeature Load (0.1ms)[0m  [1mSELECT "spec_customer_features".* FROM "spec_customer_features" WHERE "spec_customer_features"."feature_name" = 'Pays' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_customer_features" ("feature_name") VALUES (?)[0m  [["feature_name", "Pays"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSpecCustomerFeature Load (0.1ms)[0m  [1mSELECT "spec_customer_features".* FROM "spec_customer_features" WHERE "spec_customer_features"."feature_name" = 'Fraud' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_customer_features" ("feature_name") VALUES (?)[0m  [["feature_name", "Fraud"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_statuses"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customers"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_emails"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_types"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_suffixes"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_person_names"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_features"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_infos"
  [1m[36m (0.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.3ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "index_spec_customer_emails_on_email" ON "spec_customer_emails" ("email")[0m
  [1m[35mSpecSuffix Load (0.1ms)[0m  SELECT "spec_suffixes".* FROM "spec_suffixes" 
  [1m[36mSpecPersonName Load (0.1ms)[0m  [1mSELECT "spec_person_names".* FROM "spec_person_names" WHERE "spec_person_names"."first_name" = 'John' AND "spec_person_names"."last_name" = 'Smith' AND "spec_person_names"."spec_suffix_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_person_names" ("first_name", "last_name", "spec_suffix_id") VALUES (?, ?, ?)[0m  [["first_name", "John"], ["last_name", "Smith"], ["spec_suffix_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSpecCustomerFeature Load (0.1ms)[0m  [1mSELECT "spec_customer_features".* FROM "spec_customer_features" WHERE "spec_customer_features"."feature_name" = 'Pays' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_customer_features" ("feature_name") VALUES (?)[0m  [["feature_name", "Pays"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSpecCustomerFeature Load (0.3ms)[0m  [1mSELECT "spec_customer_features".* FROM "spec_customer_features" WHERE "spec_customer_features"."feature_name" = 'Cancelled' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_customer_features" ("feature_name") VALUES (?)[0m  [["feature_name", "Cancelled"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_statuses"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customers"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_emails"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_types"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_suffixes"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_person_names"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_features"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_infos"
  [1m[36m (1.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "index_spec_customer_emails_on_email" ON "spec_customer_emails" ("email")[0m
  [1m[35mSpecSuffix Load (0.1ms)[0m  SELECT "spec_suffixes".* FROM "spec_suffixes" 
  [1m[36mSpecPersonName Load (0.1ms)[0m  [1mSELECT "spec_person_names".* FROM "spec_person_names" WHERE "spec_person_names"."first_name" = 'John' AND "spec_person_names"."last_name" = 'Smith' AND "spec_person_names"."spec_suffix_id" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_person_names" ("first_name", "last_name", "spec_suffix_id") VALUES (?, ?, ?)[0m  [["first_name", "John"], ["last_name", "Smith"], ["spec_suffix_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSpecCustomerFeature Load (0.1ms)[0m  [1mSELECT "spec_customer_features".* FROM "spec_customer_features" WHERE "spec_customer_features"."feature_name" = 'Pays' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_customer_features" ("feature_name") VALUES (?)[0m  [["feature_name", "Pays"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSpecCustomerFeature Load (0.1ms)[0m  [1mSELECT "spec_customer_features".* FROM "spec_customer_features" WHERE "spec_customer_features"."feature_name" = 'Returned' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_customer_features" ("feature_name") VALUES (?)[0m  [["feature_name", "Returned"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_statuses"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customers"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_emails"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_types"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_suffixes"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_person_names"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_features"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_infos"
  [1m[36m (1.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "index_spec_customer_emails_on_email" ON "spec_customer_emails" ("email")[0m
  [1m[35mSpecStatus Load (0.1ms)[0m  SELECT "spec_statuses".* FROM "spec_statuses" 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_customers" ("spec_status_id") VALUES (?)  [["spec_status_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 25 Nov 2013 14:39:09 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", nil], ["spec_customer_id", 1], ["spec_person_name_id", 1], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 14:39:09 UTC +00:00]]
  [1m[35mSpecCustomer Load (0.1ms)[0m  SELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSpecCustomerInfo Load (0.1ms)[0m  SELECT "spec_customer_infos".* FROM "spec_customer_infos" WHERE "spec_customer_infos"."spec_customer_id" = 1 AND "spec_customer_infos"."is_current" = 't' ORDER BY id DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "spec_customer_infos" [0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "spec_customer_infos" SET "is_current" = 'f' , "lock_version" = 1 WHERE "id" = 1 AND "lock_version" = 0[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["created_at", Mon, 25 Nov 2013 14:39:09 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", 1], ["spec_customer_id", 1], ["spec_person_name_id", 2], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 14:39:09 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "spec_customer_infos" 
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_statuses"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customers"
  [1m[36m (0.3ms)[0m  [1mDROP TABLE "spec_customer_emails"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_types"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_suffixes"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_person_names"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_features"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_infos"
  [1m[36m (1.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.2ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "index_spec_customer_emails_on_email" ON "spec_customer_emails" ("email")[0m
  [1m[35mSpecStatus Load (0.1ms)[0m  SELECT "spec_statuses".* FROM "spec_statuses" 
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_customers" ("spec_status_id") VALUES (?)  [["spec_status_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 25 Nov 2013 14:39:09 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", nil], ["spec_customer_id", 1], ["spec_person_name_id", 1], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 14:39:09 UTC +00:00]]
  [1m[35mSpecCustomer Load (0.1ms)[0m  SELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSpecCustomerInfo Load (0.1ms)[0m  SELECT "spec_customer_infos".* FROM "spec_customer_infos" WHERE "spec_customer_infos"."spec_customer_id" = 1 AND "spec_customer_infos"."is_current" = 't' ORDER BY id DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "spec_customer_infos" SET "is_current" = 'f' , "lock_version" = 1 WHERE "id" = 1 AND "lock_version" = 0
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 25 Nov 2013 14:39:09 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", 1], ["spec_customer_id", 1], ["spec_person_name_id", 2], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 14:39:09 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_statuses"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customers"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_emails"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_types"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_suffixes"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_person_names"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_features"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_infos"
  [1m[36m (1.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "index_spec_customer_emails_on_email" ON "spec_customer_emails" ("email")[0m
  [1m[35mSpecStatus Load (0.1ms)[0m  SELECT "spec_statuses".* FROM "spec_statuses" 
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_customers" ("spec_status_id") VALUES (?)  [["spec_status_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 25 Nov 2013 14:39:10 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", nil], ["spec_customer_id", 1], ["spec_person_name_id", 1], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 14:39:10 UTC +00:00]]
  [1m[35mSpecCustomer Load (0.1ms)[0m  SELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSpecCustomerInfo Load (0.1ms)[0m  SELECT "spec_customer_infos".* FROM "spec_customer_infos" WHERE "spec_customer_infos"."spec_customer_id" = 1 AND "spec_customer_infos"."is_current" = 't' ORDER BY id DESC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "spec_customer_infos" SET "is_current" = 'f' , "lock_version" = 1 WHERE "id" = 1 AND "lock_version" = 0
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 25 Nov 2013 14:39:10 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", 1], ["spec_customer_id", 1], ["spec_person_name_id", 2], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 14:39:10 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSpecCustomerInfo Load (0.1ms)[0m  [1mSELECT "spec_customer_infos".* FROM "spec_customer_infos" WHERE "spec_customer_infos"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customers"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_emails"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_types"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_suffixes"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_person_names"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_features"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_infos"[0m
  [1m[35m (1.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Inactive"], ["name", "inactive"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Active"], ["name", "active"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Important"], ["name", "important"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", ""], ["name", "none"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", "Junior"], ["name", "jr"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE UNIQUE INDEX "index_spec_customer_emails_on_email" ON "spec_customer_emails" ("email")
  [1m[36mSpecStatus Load (0.1ms)[0m  [1mSELECT "spec_statuses".* FROM "spec_statuses" [0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_customers" ("spec_status_id") VALUES (?)[0m  [["spec_status_id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["created_at", Mon, 25 Nov 2013 14:39:10 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", nil], ["spec_customer_id", 1], ["spec_person_name_id", 1], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 14:39:10 UTC +00:00]]
  [1m[36mSpecCustomer Load (0.1ms)[0m  [1mSELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSpecCustomerInfo Load (0.1ms)[0m  [1mSELECT "spec_customer_infos".* FROM "spec_customer_infos" WHERE "spec_customer_infos"."spec_customer_id" = 1 AND "spec_customer_infos"."is_current" = 't' ORDER BY id DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "spec_customer_infos" SET "is_current" = 'f' , "lock_version" = 1 WHERE "id" = 1 AND "lock_version" = 0[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["created_at", Mon, 25 Nov 2013 14:39:10 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", 1], ["spec_customer_id", 1], ["spec_person_name_id", 2], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 14:39:10 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_infos"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customers"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_emails"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_types"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_suffixes"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_person_names"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_features"[0m
  [1m[35m (1.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  CREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Inactive"], ["name", "inactive"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Active"], ["name", "active"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Important"], ["name", "important"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", ""], ["name", "none"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", "Junior"], ["name", "jr"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE UNIQUE INDEX "index_spec_customer_emails_on_email" ON "spec_customer_emails" ("email")
  [1m[36mSpecStatus Load (0.1ms)[0m  [1mSELECT "spec_statuses".* FROM "spec_statuses" [0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_customers" ("spec_status_id") VALUES (?)[0m  [["spec_status_id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["created_at", Mon, 25 Nov 2013 14:39:10 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", nil], ["spec_customer_id", 1], ["spec_person_name_id", 1], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 14:39:10 UTC +00:00]]
  [1m[36mSpecCustomer Load (0.1ms)[0m  [1mSELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSpecCustomerInfo Load (0.1ms)[0m  [1mSELECT "spec_customer_infos".* FROM "spec_customer_infos" WHERE "spec_customer_infos"."spec_customer_id" = 1 AND "spec_customer_infos"."is_current" = 't' ORDER BY id DESC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "spec_customer_infos" SET "is_current" = 'f', "updated_at" = '2013-11-25 14:39:10.386905', "lock_version" = 1 WHERE ("spec_customer_infos"."id" = 1 AND "spec_customer_infos"."lock_version" = 0)[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["created_at", Mon, 25 Nov 2013 14:39:10 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", nil], ["spec_customer_id", 1], ["spec_person_name_id", 2], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 14:39:10 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_customer_infos"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customers"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_emails"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_types"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_suffixes"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_person_names"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_features"[0m
  [1m[35m (1.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Inactive"], ["name", "inactive"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Active"], ["name", "active"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Important"], ["name", "important"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", ""], ["name", "none"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", "Junior"], ["name", "jr"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE UNIQUE INDEX "index_spec_customer_emails_on_email" ON "spec_customer_emails" ("email")
  [1m[36mSpecStatus Load (0.1ms)[0m  [1mSELECT "spec_statuses".* FROM "spec_statuses" [0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_customers" ("spec_status_id") VALUES (?)[0m  [["spec_status_id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["created_at", Mon, 25 Nov 2013 14:39:10 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", nil], ["spec_customer_id", 1], ["spec_person_name_id", 1], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 14:39:10 UTC +00:00]]
  [1m[36mSpecCustomer Load (0.1ms)[0m  [1mSELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSpecCustomerInfo Load (0.1ms)[0m  [1mSELECT "spec_customer_infos".* FROM "spec_customer_infos" WHERE "spec_customer_infos"."spec_customer_id" = 1 AND "spec_customer_infos"."is_current" = 't' ORDER BY id DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_customer_emails" ("email", "is_current", "spec_customer_id", "status") VALUES (?, ?, ?, ?)[0m  [["email", "foo@bar.com"], ["is_current", true], ["spec_customer_id", 1], ["status", "unverified"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "spec_customer_emails" SET "is_current" = 'f' WHERE "id" = 1 
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_customer_emails" ("email", "is_current", "spec_customer_id", "status") VALUES (?, ?, ?, ?)[0m  [["email", "foo@bar.com"], ["is_current", true], ["spec_customer_id", 1], ["status", "verified"]]
SQLite3::ConstraintException: column email is not unique: INSERT INTO "spec_customer_emails" ("email", "is_current", "spec_customer_id", "status") VALUES (?, ?, ?, ?)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_statuses"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_infos"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customers"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_emails"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_types"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_suffixes"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_person_names"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_features"
  [1m[36m (1.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "index_spec_customer_emails_on_email" ON "spec_customer_emails" ("email")[0m
  [1m[35mSpecStatus Load (0.1ms)[0m  SELECT "spec_statuses".* FROM "spec_statuses" 
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_customers" ("spec_status_id") VALUES (?)  [["spec_status_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 25 Nov 2013 14:39:10 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", nil], ["spec_customer_id", 1], ["spec_person_name_id", 1], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 14:39:10 UTC +00:00]]
  [1m[35mSpecCustomer Load (0.1ms)[0m  SELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSpecCustomerInfo Load (0.2ms)[0m  SELECT "spec_customer_infos".* FROM "spec_customer_infos" WHERE "spec_customer_infos"."spec_customer_id" = 1 AND "spec_customer_infos"."is_current" = 't' ORDER BY id DESC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["created_at", Mon, 16 Jul 2012 00:00:00 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", nil], ["spec_customer_id", 1], ["spec_person_name_id", 1], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 16 Jul 2012 00:00:00 UTC +00:00]]
  [1m[36mSpecCustomer Load (0.0ms)[0m  [1mSELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  UPDATE "spec_customer_infos" SET "is_current" = 'f', "updated_at" = '2012-07-16 00:00:00.000000', "lock_version" = 1 WHERE ("spec_customer_infos"."id" = 1 AND "spec_customer_infos"."lock_version" = 0)
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mUPDATE "spec_customer_infos" SET "is_current" = 'f' , "lock_version" = 1 WHERE "id" = 2 AND "lock_version" = 0[0m
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["created_at", Tue, 17 Jul 2012 08:10:15 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", 2], ["spec_customer_id", 1], ["spec_person_name_id", 2], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Tue, 17 Jul 2012 08:10:15 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_infos"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customers"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_emails"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_types"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_suffixes"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_person_names"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_features"[0m
  [1m[35m (1.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Inactive"], ["name", "inactive"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Active"], ["name", "active"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Important"], ["name", "important"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", ""], ["name", "none"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", "Junior"], ["name", "jr"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE UNIQUE INDEX "index_spec_customer_emails_on_email" ON "spec_customer_emails" ("email")
  [1m[36mSpecStatus Load (0.1ms)[0m  [1mSELECT "spec_statuses".* FROM "spec_statuses" [0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_customers" ("spec_status_id") VALUES (?)[0m  [["spec_status_id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["created_at", Mon, 25 Nov 2013 14:39:10 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", nil], ["spec_customer_id", 1], ["spec_person_name_id", 1], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 14:39:10 UTC +00:00]]
  [1m[36mSpecCustomer Load (0.1ms)[0m  [1mSELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSpecCustomerInfo Load (0.1ms)[0m  [1mSELECT "spec_customer_infos".* FROM "spec_customer_infos" WHERE "spec_customer_infos"."spec_customer_id" = 1 AND "spec_customer_infos"."is_current" = 't' ORDER BY id DESC LIMIT 1[0m
  [1m[35mSpecCustomer Load (0.1ms)[0m  SELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSpecCustomerInfo Load (0.1ms)[0m  [1mSELECT "spec_customer_infos".* FROM "spec_customer_infos" WHERE "spec_customer_infos"."spec_customer_id" = 1 AND "spec_customer_infos"."is_current" = 't' ORDER BY id DESC LIMIT 1[0m
  [1m[35mSpecCustomer Load (0.0ms)[0m  SELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSpecCustomerInfo Load (0.1ms)[0m  [1mSELECT "spec_customer_infos".* FROM "spec_customer_infos" WHERE "spec_customer_infos"."spec_customer_id" = 1 AND "spec_customer_infos"."is_current" = 't' ORDER BY id DESC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "spec_customer_infos" SET "is_current" = 'f' , "lock_version" = 1 WHERE "id" = 1 AND "lock_version" = 0[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["created_at", Mon, 25 Nov 2013 14:39:10 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", 1], ["spec_customer_id", 1], ["spec_person_name_id", 3], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 14:39:10 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "spec_customer_infos" SET "is_current" = 'f' , "lock_version" = 1 WHERE "id" = 1 AND "lock_version" = 0[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_statuses"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_infos"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customers"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_emails"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_types"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_suffixes"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_person_names"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_customer_features"
  [1m[36m (1.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "index_spec_customer_emails_on_email" ON "spec_customer_emails" ("email")[0m
  [1m[35mSpecStatus Load (0.1ms)[0m  SELECT "spec_statuses".* FROM "spec_statuses" 
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_customers" ("spec_status_id") VALUES (?)  [["spec_status_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 25 Nov 2013 14:39:11 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", nil], ["spec_customer_id", 1], ["spec_person_name_id", 1], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 14:39:11 UTC +00:00]]
  [1m[35mSpecCustomer Load (0.1ms)[0m  SELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSpecCustomerInfo Load (0.1ms)[0m  SELECT "spec_customer_infos".* FROM "spec_customer_infos" WHERE "spec_customer_infos"."spec_customer_id" = 1 AND "spec_customer_infos"."is_current" = 't' ORDER BY id DESC LIMIT 1
  [1m[36mSpecCustomer Load (0.1ms)[0m  [1mSELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSpecCustomerInfo Load (0.1ms)[0m  SELECT "spec_customer_infos".* FROM "spec_customer_infos" WHERE "spec_customer_infos"."spec_customer_id" = 1 AND "spec_customer_infos"."is_current" = 't' ORDER BY id DESC LIMIT 1
  [1m[36mSpecCustomer Load (0.0ms)[0m  [1mSELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSpecCustomerInfo Load (0.2ms)[0m  SELECT "spec_customer_infos".* FROM "spec_customer_infos" WHERE "spec_customer_infos"."spec_customer_id" = 1 AND "spec_customer_infos"."is_current" = 't' ORDER BY id DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_customer_emails" ("email", "is_current", "spec_customer_id", "status") VALUES (?, ?, ?, ?)  [["email", "foo@bar.com"], ["is_current", nil], ["spec_customer_id", 1], ["status", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "spec_customer_emails" SET "is_current" = 'f' WHERE "id" = 1 [0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_customer_emails" ("email", "is_current", "spec_customer_id", "status") VALUES (?, ?, ?, ?)  [["email", "foo2@bar.com"], ["is_current", nil], ["spec_customer_id", 1], ["status", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_infos"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customers"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_emails"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_types"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_suffixes"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_person_names"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_features"[0m
  [1m[35m (1.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.2ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Inactive"], ["name", "inactive"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Active"], ["name", "active"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Important"], ["name", "important"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", ""], ["name", "none"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", "Junior"], ["name", "jr"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE UNIQUE INDEX "index_spec_customer_emails_on_email" ON "spec_customer_emails" ("email")
  [1m[36mSpecStatus Load (0.1ms)[0m  [1mSELECT "spec_statuses".* FROM "spec_statuses" [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_customers" ("spec_status_id") VALUES (?)[0m  [["spec_status_id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["created_at", Mon, 25 Nov 2013 14:39:11 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", nil], ["spec_customer_id", 1], ["spec_person_name_id", 1], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 14:39:11 UTC +00:00]]
  [1m[36mSpecCustomer Load (0.1ms)[0m  [1mSELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSpecCustomerInfo Load (0.1ms)[0m  [1mSELECT "spec_customer_infos".* FROM "spec_customer_infos" WHERE "spec_customer_infos"."spec_customer_id" = 1 AND "spec_customer_infos"."is_current" = 't' ORDER BY id DESC LIMIT 1[0m
  [1m[35mSpecSuffix Load (0.1ms)[0m  SELECT "spec_suffixes".* FROM "spec_suffixes" 
  [1m[36mSpecPersonName Load (0.1ms)[0m  [1mSELECT "spec_person_names".* FROM "spec_person_names" WHERE "spec_person_names"."first_name" = 'John' AND "spec_person_names"."last_name" = 'Smith' AND "spec_person_names"."spec_suffix_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_person_names" ("first_name", "last_name", "spec_suffix_id") VALUES (?, ?, ?)[0m  [["first_name", "John"], ["last_name", "Smith"], ["spec_suffix_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSpecCustomerInfo Load (0.1ms)[0m  [1mSELECT "spec_customer_infos".* FROM "spec_customer_infos" WHERE "spec_customer_infos"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSpecPersonName Load (0.1ms)[0m  SELECT "spec_person_names".* FROM "spec_person_names" WHERE "spec_person_names"."id" = 1 LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecPersonName Load (0.1ms)[0m  SELECT "spec_person_names".* FROM "spec_person_names" WHERE "spec_person_names"."first_name" = 'Alice' AND "spec_person_names"."last_name" = 'Smith' AND "spec_person_names"."spec_suffix_id" IS NULL LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_person_names" ("first_name", "last_name", "spec_suffix_id") VALUES (?, ?, ?)[0m  [["first_name", "Alice"], ["last_name", "Smith"], ["spec_suffix_id", nil]]
  [1m[35m (0.1ms)[0m  UPDATE "spec_customer_infos" SET "is_current" = 'f' , "lock_version" = 1 WHERE "id" = 1 AND "lock_version" = 0
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 25 Nov 2013 14:39:11 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", 1], ["spec_customer_id", 1], ["spec_person_name_id", 2], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 14:39:11 UTC +00:00]]
  [1m[35mSpecCustomer Load (0.1ms)[0m  SELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSpecCustomerInfo Load (0.1ms)[0m  SELECT "spec_customer_infos".* FROM "spec_customer_infos" WHERE "spec_customer_infos"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_statuses"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_infos"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customers"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_emails"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_types"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_suffixes"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_person_names"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_features"
  [1m[36m (0.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "index_spec_customer_emails_on_email" ON "spec_customer_emails" ("email")[0m
  [1m[35mSpecSuffix Load (0.1ms)[0m  SELECT "spec_suffixes".* FROM "spec_suffixes" 
  [1m[36mSpecStatus Load (0.1ms)[0m  [1mSELECT "spec_statuses".* FROM "spec_statuses" [0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_customers" ("spec_status_id") VALUES (?)[0m  [["spec_status_id", 1]]
  [1m[35mSpecPersonName Load (0.1ms)[0m  SELECT "spec_person_names".* FROM "spec_person_names" WHERE "spec_person_names"."first_name" = 'John' AND "spec_person_names"."last_name" = 'Smith' AND "spec_person_names"."spec_suffix_id" IS NULL LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_person_names" ("first_name", "last_name", "spec_suffix_id") VALUES (?, ?, ?)[0m  [["first_name", "John"], ["last_name", "Smith"], ["spec_suffix_id", nil]]
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["created_at", Mon, 25 Nov 2013 14:39:11 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", nil], ["spec_customer_id", 1], ["spec_person_name_id", 1], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 14:39:11 UTC +00:00]]
  [1m[36mSpecCustomer Load (0.1ms)[0m  [1mSELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_statuses"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customers"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_infos"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_emails"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_types"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_suffixes"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_person_names"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_features"
  [1m[36m (0.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "index_spec_customer_emails_on_email" ON "spec_customer_emails" ("email")[0m
  [1m[35mSpecSuffix Load (0.1ms)[0m  SELECT "spec_suffixes".* FROM "spec_suffixes" 
  [1m[36mSpecStatus Load (0.2ms)[0m  [1mSELECT "spec_statuses".* FROM "spec_statuses" [0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_customers" ("spec_status_id") VALUES (?)[0m  [["spec_status_id", 1]]
  [1m[35mSpecPersonName Load (0.1ms)[0m  SELECT "spec_person_names".* FROM "spec_person_names" WHERE "spec_person_names"."first_name" = 'John' AND "spec_person_names"."last_name" = 'Smith' AND "spec_person_names"."spec_suffix_id" IS NULL LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_person_names" ("first_name", "last_name", "spec_suffix_id") VALUES (?, ?, ?)[0m  [["first_name", "John"], ["last_name", "Smith"], ["spec_suffix_id", nil]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["created_at", Mon, 25 Nov 2013 14:39:11 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", nil], ["spec_customer_id", 1], ["spec_person_name_id", 1], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 14:39:11 UTC +00:00]]
  [1m[36mSpecCustomer Load (0.1ms)[0m  [1mSELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_statuses"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customers"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_infos"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_emails"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_types"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_suffixes"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_person_names"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_features"
  [1m[36m (1.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "index_spec_customer_emails_on_email" ON "spec_customer_emails" ("email")[0m
  [1m[35mSpecSuffix Load (0.1ms)[0m  SELECT "spec_suffixes".* FROM "spec_suffixes" 
  [1m[36mSpecStatus Load (0.1ms)[0m  [1mSELECT "spec_statuses".* FROM "spec_statuses" [0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_customers" ("spec_status_id") VALUES (?)[0m  [["spec_status_id", 1]]
  [1m[35mSpecPersonName Load (0.1ms)[0m  SELECT "spec_person_names".* FROM "spec_person_names" WHERE "spec_person_names"."first_name" = 'John' AND "spec_person_names"."last_name" = 'Smith' AND "spec_person_names"."spec_suffix_id" IS NULL LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_person_names" ("first_name", "last_name", "spec_suffix_id") VALUES (?, ?, ?)[0m  [["first_name", "John"], ["last_name", "Smith"], ["spec_suffix_id", nil]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["created_at", Mon, 25 Nov 2013 14:39:11 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", nil], ["spec_customer_id", 1], ["spec_person_name_id", 1], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 14:39:11 UTC +00:00]]
  [1m[36mSpecCustomer Load (0.1ms)[0m  [1mSELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_statuses"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customers"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_infos"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_emails"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_types"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_suffixes"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_person_names"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_features"
  [1m[36m (1.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "index_spec_customer_emails_on_email" ON "spec_customer_emails" ("email")[0m
  [1m[35mSpecSuffix Load (0.1ms)[0m  SELECT "spec_suffixes".* FROM "spec_suffixes" 
  [1m[36mSpecStatus Load (0.1ms)[0m  [1mSELECT "spec_statuses".* FROM "spec_statuses" [0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_customers" ("spec_status_id") VALUES (?)[0m  [["spec_status_id", 1]]
  [1m[35mSpecPersonName Load (0.1ms)[0m  SELECT "spec_person_names".* FROM "spec_person_names" WHERE "spec_person_names"."first_name" = 'John' AND "spec_person_names"."last_name" = 'Smith' AND "spec_person_names"."spec_suffix_id" IS NULL LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_person_names" ("first_name", "last_name", "spec_suffix_id") VALUES (?, ?, ?)[0m  [["first_name", "John"], ["last_name", "Smith"], ["spec_suffix_id", nil]]
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["created_at", Mon, 25 Nov 2013 14:39:12 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", nil], ["spec_customer_id", 1], ["spec_person_name_id", 1], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 14:39:12 UTC +00:00]]
  [1m[36mSpecCustomer Load (0.1ms)[0m  [1mSELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_statuses"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customers"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_infos"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_emails"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_types"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_suffixes"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_person_names"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_features"
  [1m[36m (1.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "index_spec_customer_emails_on_email" ON "spec_customer_emails" ("email")[0m
  [1m[35mSpecSuffix Load (0.1ms)[0m  SELECT "spec_suffixes".* FROM "spec_suffixes" 
  [1m[36mSpecStatus Load (0.1ms)[0m  [1mSELECT "spec_statuses".* FROM "spec_statuses" [0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_customers" ("spec_status_id") VALUES (?)[0m  [["spec_status_id", 1]]
  [1m[35mSpecPersonName Load (0.1ms)[0m  SELECT "spec_person_names".* FROM "spec_person_names" WHERE "spec_person_names"."first_name" = 'John' AND "spec_person_names"."last_name" = 'Smith' AND "spec_person_names"."spec_suffix_id" IS NULL LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_person_names" ("first_name", "last_name", "spec_suffix_id") VALUES (?, ?, ?)[0m  [["first_name", "John"], ["last_name", "Smith"], ["spec_suffix_id", nil]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["created_at", Mon, 25 Nov 2013 14:39:12 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", nil], ["spec_customer_id", 1], ["spec_person_name_id", 1], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 14:39:12 UTC +00:00]]
  [1m[36mSpecCustomer Load (0.1ms)[0m  [1mSELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSpecType Load (0.1ms)[0m  [1mSELECT "spec_types".* FROM "spec_types" [0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customers"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_infos"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_emails"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_types"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_suffixes"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_person_names"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_features"[0m
  [1m[35m (1.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Inactive"], ["name", "inactive"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Active"], ["name", "active"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Important"], ["name", "important"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", ""], ["name", "none"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", "Junior"], ["name", "jr"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE UNIQUE INDEX "index_spec_customer_emails_on_email" ON "spec_customer_emails" ("email")
  [1m[36mSpecSuffix Load (0.1ms)[0m  [1mSELECT "spec_suffixes".* FROM "spec_suffixes" [0m
  [1m[35mSpecStatus Load (0.1ms)[0m  SELECT "spec_statuses".* FROM "spec_statuses" 
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_customers" ("spec_status_id") VALUES (?)  [["spec_status_id", 1]]
  [1m[36mSpecPersonName Load (0.1ms)[0m  [1mSELECT "spec_person_names".* FROM "spec_person_names" WHERE "spec_person_names"."first_name" = 'John' AND "spec_person_names"."last_name" = 'Smith' AND "spec_person_names"."spec_suffix_id" IS NULL LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_person_names" ("first_name", "last_name", "spec_suffix_id") VALUES (?, ?, ?)  [["first_name", "John"], ["last_name", "Smith"], ["spec_suffix_id", nil]]
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 25 Nov 2013 14:39:12 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", nil], ["spec_customer_id", 1], ["spec_person_name_id", 1], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 14:39:12 UTC +00:00]]
  [1m[35mSpecCustomer Load (0.1ms)[0m  SELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customers"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_infos"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_emails"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_types"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_suffixes"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_person_names"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_features"[0m
  [1m[35m (1.1ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (1.4ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (1.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "index_spec_customer_emails_on_email" ON "spec_customer_emails" ("email")[0m
  [1m[35mSpecStatus Load (0.1ms)[0m  SELECT "spec_statuses".* FROM "spec_statuses" 
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_customers" ("spec_status_id") VALUES (?)  [["spec_status_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 25 Nov 2013 14:40:35 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", nil], ["spec_customer_id", 1], ["spec_person_name_id", 1], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 14:40:35 UTC +00:00]]
  [1m[35mSpecCustomer Load (0.1ms)[0m  SELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSpecCustomerInfo Load (0.1ms)[0m  SELECT "spec_customer_infos".* FROM "spec_customer_infos" WHERE "spec_customer_infos"."spec_customer_id" = 1 AND "spec_customer_infos"."is_current" = 't' ORDER BY id DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_customer_emails" ("email", "is_current", "spec_customer_id", "status") VALUES (?, ?, ?, ?)  [["email", "foo@bar.com"], ["is_current", true], ["spec_customer_id", 1], ["status", "unverified"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSpecCustomerEmail Load (0.1ms)[0m  SELECT "spec_customer_emails".* FROM "spec_customer_emails" 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "spec_customer_emails" SET "is_current" = 'f' WHERE "id" = 1 
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "spec_customer_emails" ("email", "is_current", "spec_customer_id", "status") VALUES (?, ?, ?, ?)[0m  [["email", "foo@bar.com"], ["is_current", true], ["spec_customer_id", 1], ["status", "verified"]]
SQLite3::ConstraintException: column email is not unique: INSERT INTO "spec_customer_emails" ("email", "is_current", "spec_customer_id", "status") VALUES (?, ?, ?, ?)
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_statuses"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_types"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_suffixes"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_person_names"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_features"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_infos"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customers"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_customer_emails"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (1.3ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "index_spec_customer_emails_on_email" ON "spec_customer_emails" ("email")[0m
  [1m[35mSpecStatus Load (0.2ms)[0m  SELECT "spec_statuses".* FROM "spec_statuses" 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_customers" ("spec_status_id") VALUES (?)  [["spec_status_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.2ms)[0m  [1mINSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 25 Nov 2013 14:41:49 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", nil], ["spec_customer_id", 1], ["spec_person_name_id", 1], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 14:41:49 UTC +00:00]]
  [1m[35mSpecCustomer Load (0.1ms)[0m  SELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSpecCustomerInfo Load (0.1ms)[0m  SELECT "spec_customer_infos".* FROM "spec_customer_infos" WHERE "spec_customer_infos"."spec_customer_id" = 1 AND "spec_customer_infos"."is_current" = 't' ORDER BY id DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_customer_emails" ("email", "is_current", "spec_customer_id", "status") VALUES (?, ?, ?, ?)  [["email", "foo@bar.com"], ["is_current", true], ["spec_customer_id", 1], ["status", "unverified"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "spec_customer_emails" SET "is_current" = 'f' WHERE "id" = 1 [0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "spec_customer_emails" ("email", "is_current", "spec_customer_id", "status") VALUES (?, ?, ?, ?)  [["email", "foo@bar.com"], ["is_current", true], ["spec_customer_id", 1], ["status", "verified"]]
SQLite3::ConstraintException: column email is not unique: INSERT INTO "spec_customer_emails" ("email", "is_current", "spec_customer_id", "status") VALUES (?, ?, ?, ?)
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mSpecCustomerEmail Load (0.3ms)[0m  SELECT "spec_customer_emails".* FROM "spec_customer_emails" LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "spec_customer_emails" SET "is_current" = 'f' WHERE "id" = 1 
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_customer_emails" ("email", "is_current", "spec_customer_id", "status") VALUES (?, ?, ?, ?)[0m  [["email", "foo@bar.com"], ["is_current", true], ["spec_customer_id", 1], ["status", "verified"]]
SQLite3::ConstraintException: column email is not unique: INSERT INTO "spec_customer_emails" ("email", "is_current", "spec_customer_id", "status") VALUES (?, ?, ?, ?)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  UPDATE "spec_customer_emails" SET "is_current" = 'f' WHERE "id" = 1 
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_customer_emails" ("email", "is_current", "spec_customer_id", "status") VALUES (?, ?, ?, ?)[0m  [["email", "foo@bar.com"], ["is_current", true], ["spec_customer_id", 1], ["status", "verified"]]
SQLite3::ConstraintException: column email is not unique: INSERT INTO "spec_customer_emails" ("email", "is_current", "spec_customer_id", "status") VALUES (?, ?, ?, ?)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_statuses"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_types"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_suffixes"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_person_names"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_features"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_infos"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customers"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_emails"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (1.7ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "index_spec_customer_emails_on_email" ON "spec_customer_emails" ("email")[0m
  [1m[35mSpecStatus Load (0.1ms)[0m  SELECT "spec_statuses".* FROM "spec_statuses" 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_customers" ("spec_status_id") VALUES (?)  [["spec_status_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.6ms)[0m  [1mINSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 25 Nov 2013 14:45:46 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", nil], ["spec_customer_id", 1], ["spec_person_name_id", 1], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 14:45:46 UTC +00:00]]
  [1m[35mSpecCustomer Load (0.1ms)[0m  SELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSpecCustomerInfo Load (0.3ms)[0m  SELECT "spec_customer_infos".* FROM "spec_customer_infos" WHERE "spec_customer_infos"."spec_customer_id" = 1 AND "spec_customer_infos"."is_current" = 't' ORDER BY id DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_customer_emails" ("email", "is_current", "spec_customer_id", "status") VALUES (?, ?, ?, ?)  [["email", "foo@bar.com"], ["is_current", true], ["spec_customer_id", 1], ["status", "unverified"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSpecCustomerEmail Load (0.1ms)[0m  SELECT "spec_customer_emails".* FROM "spec_customer_emails" LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "spec_customer_emails" SET "is_current" = 'f' WHERE "id" = 1 
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_customer_emails" ("email", "is_current", "spec_customer_id", "status") VALUES (?, ?, ?, ?)[0m  [["email", "foo@bar.com"], ["is_current", true], ["spec_customer_id", 1], ["status", "verified"]]
SQLite3::ConstraintException: column email is not unique: INSERT INTO "spec_customer_emails" ("email", "is_current", "spec_customer_id", "status") VALUES (?, ?, ?, ?)
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  UPDATE "spec_customer_emails" SET "is_current" = 'f' WHERE "id" = 1 
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "spec_customer_emails" ("email", "is_current", "spec_customer_id", "status") VALUES (?, ?, ?, ?)[0m  [["email", "foo@bar.com"], ["is_current", true], ["spec_customer_id", 1], ["status", "verified"]]
SQLite3::ConstraintException: column email is not unique: INSERT INTO "spec_customer_emails" ("email", "is_current", "spec_customer_id", "status") VALUES (?, ?, ?, ?)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "spec_customer_emails" SET "is_current" = 'f' WHERE "id" = 1 
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_customer_emails" ("email", "is_current", "spec_customer_id", "status") VALUES (?, ?, ?, ?)[0m  [["email", "foo@bar.com"], ["is_current", true], ["spec_customer_id", 1], ["status", "verified"]]
SQLite3::ConstraintException: column email is not unique: INSERT INTO "spec_customer_emails" ("email", "is_current", "spec_customer_id", "status") VALUES (?, ?, ?, ?)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "spec_customer_emails" SET "is_current" = 'f' WHERE "id" = 1 
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_customer_emails" ("email", "is_current", "spec_customer_id", "status") VALUES (?, ?, ?, ?)[0m  [["email", "foo@bar.com"], ["is_current", true], ["spec_customer_id", 1], ["status", "verified"]]
SQLite3::ConstraintException: column email is not unique: INSERT INTO "spec_customer_emails" ("email", "is_current", "spec_customer_id", "status") VALUES (?, ?, ?, ?)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_statuses"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_types"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_suffixes"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_person_names"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_customer_features"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_infos"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customers"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_emails"
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (1.4ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (1.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "index_spec_customer_emails_on_email" ON "spec_customer_emails" ("email")[0m
  [1m[35mSpecStatus Load (0.1ms)[0m  SELECT "spec_statuses".* FROM "spec_statuses" 
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_customers" ("spec_status_id") VALUES (?)  [["spec_status_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 25 Nov 2013 14:52:21 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", nil], ["spec_customer_id", 1], ["spec_person_name_id", 1], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 14:52:21 UTC +00:00]]
  [1m[35mSpecCustomer Load (0.1ms)[0m  SELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSpecCustomerInfo Load (0.1ms)[0m  SELECT "spec_customer_infos".* FROM "spec_customer_infos" WHERE "spec_customer_infos"."spec_customer_id" = 1 AND "spec_customer_infos"."is_current" = 't' ORDER BY id DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_customer_emails" ("email", "is_current", "spec_customer_id", "status") VALUES (?, ?, ?, ?)  [["email", "foo@bar.com"], ["is_current", true], ["spec_customer_id", 1], ["status", "unverified"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "spec_customer_emails" SET "is_current" = 'f' WHERE "id" = 1 [0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_customer_emails" ("email", "is_current", "spec_customer_id", "status") VALUES (?, ?, ?, ?)  [["email", "foo@bar.com"], ["is_current", true], ["spec_customer_id", 1], ["status", "verified"]]
SQLite3::ConstraintException: column email is not unique: INSERT INTO "spec_customer_emails" ("email", "is_current", "spec_customer_id", "status") VALUES (?, ?, ?, ?)
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mUPDATE "spec_customer_emails" SET "is_current" = 'f' WHERE "id" = 1 [0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_customer_emails" ("email", "is_current", "spec_customer_id", "status") VALUES (?, ?, ?, ?)  [["email", "foo@bar.com"], ["is_current", true], ["spec_customer_id", 1], ["status", "verified"]]
SQLite3::ConstraintException: column email is not unique: INSERT INTO "spec_customer_emails" ("email", "is_current", "spec_customer_id", "status") VALUES (?, ?, ?, ?)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_types"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_suffixes"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_person_names"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_features"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_infos"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customers"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_emails"[0m
  [1m[35m (0.3ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (1.2ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (1.3ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "index_spec_customer_emails_on_email" ON "spec_customer_emails" ("email")[0m
  [1m[35mSpecStatus Load (0.1ms)[0m  SELECT "spec_statuses".* FROM "spec_statuses" 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_customers" ("spec_status_id") VALUES (?)  [["spec_status_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.2ms)[0m  [1mINSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 25 Nov 2013 14:54:26 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", nil], ["spec_customer_id", 1], ["spec_person_name_id", 1], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 14:54:26 UTC +00:00]]
  [1m[35mSpecCustomer Load (0.1ms)[0m  SELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSpecCustomerInfo Load (0.1ms)[0m  SELECT "spec_customer_infos".* FROM "spec_customer_infos" WHERE "spec_customer_infos"."spec_customer_id" = 1 AND "spec_customer_infos"."is_current" = 't' ORDER BY id DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_customer_emails" ("email", "is_current", "spec_customer_id", "status") VALUES (?, ?, ?, ?)  [["email", "foo@bar.com"], ["is_current", true], ["spec_customer_id", 1], ["status", "unverified"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "spec_customer_emails" SET "is_current" = 'f' WHERE "id" = 1 [0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_customer_emails" ("email", "is_current", "spec_customer_id", "status") VALUES (?, ?, ?, ?)  [["email", "foo@bar.com"], ["is_current", true], ["spec_customer_id", 1], ["status", "verified"]]
SQLite3::ConstraintException: column email is not unique: INSERT INTO "spec_customer_emails" ("email", "is_current", "spec_customer_id", "status") VALUES (?, ?, ?, ?)
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mUPDATE "spec_customer_emails" SET "is_current" = 'f' WHERE "id" = 1 [0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_customer_emails" ("email", "is_current", "spec_customer_id", "status") VALUES (?, ?, ?, ?)  [["email", "foo1@bar.com"], ["is_current", true], ["spec_customer_id", 1], ["status", "verified"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSpecCustomerEmail Load (0.1ms)[0m  SELECT "spec_customer_emails".* FROM "spec_customer_emails" 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSpecCustomerEmail Load (0.1ms)[0m  [1mSELECT "spec_customer_emails".* FROM "spec_customer_emails" [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_types"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_suffixes"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_person_names"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_features"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_infos"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customers"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_emails"[0m
  [1m[35m (0.3ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (2.0ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "index_spec_customer_emails_on_email" ON "spec_customer_emails" ("email")[0m
  [1m[35mSpecStatus Load (0.1ms)[0m  SELECT "spec_statuses".* FROM "spec_statuses" 
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_customers" ("spec_status_id") VALUES (?)  [["spec_status_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 25 Nov 2013 14:56:16 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", nil], ["spec_customer_id", 1], ["spec_person_name_id", 1], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 14:56:16 UTC +00:00]]
  [1m[35mSpecCustomer Load (0.1ms)[0m  SELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSpecCustomerInfo Load (0.1ms)[0m  SELECT "spec_customer_infos".* FROM "spec_customer_infos" WHERE "spec_customer_infos"."spec_customer_id" = 1 AND "spec_customer_infos"."is_current" = 't' ORDER BY id DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_customer_emails" ("email", "is_current", "spec_customer_id", "status") VALUES (?, ?, ?, ?)  [["email", "foo@bar.com"], ["is_current", true], ["spec_customer_id", 1], ["status", "unverified"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "spec_customer_emails" SET "is_current" = 'f' WHERE "id" = 1 [0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_customer_emails" ("email", "is_current", "spec_customer_id", "status") VALUES (?, ?, ?, ?)  [["email", "foo@bar.com"], ["is_current", true], ["spec_customer_id", 1], ["status", "verified"]]
SQLite3::ConstraintException: column email is not unique: INSERT INTO "spec_customer_emails" ("email", "is_current", "spec_customer_id", "status") VALUES (?, ?, ?, ?)
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_types"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_suffixes"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_person_names"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_features"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_infos"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_customers"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_customer_emails"[0m
  [1m[35m (1.1ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (1.5ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (1.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "index_spec_customer_emails_on_email" ON "spec_customer_emails" ("email")[0m
  [1m[35mSpecStatus Load (0.1ms)[0m  SELECT "spec_statuses".* FROM "spec_statuses" 
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_customers" ("spec_status_id") VALUES (?)  [["spec_status_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 25 Nov 2013 14:56:39 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", nil], ["spec_customer_id", 1], ["spec_person_name_id", 1], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 14:56:39 UTC +00:00]]
  [1m[35mSpecCustomer Load (0.1ms)[0m  SELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSpecCustomerInfo Load (0.1ms)[0m  SELECT "spec_customer_infos".* FROM "spec_customer_infos" WHERE "spec_customer_infos"."spec_customer_id" = 1 AND "spec_customer_infos"."is_current" = 't' ORDER BY id DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_customer_emails" ("email", "is_current", "spec_customer_id", "status") VALUES (?, ?, ?, ?)  [["email", "foo@bar.com"], ["is_current", true], ["spec_customer_id", 1], ["status", "unverified"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "spec_customer_emails" SET "is_current" = 'f' WHERE "id" = 1 [0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_customer_emails" ("email", "is_current", "spec_customer_id", "status") VALUES (?, ?, ?, ?)  [["email", "foo@bar.com"], ["is_current", true], ["spec_customer_id", 1], ["status", "verified"]]
SQLite3::ConstraintException: column email is not unique: INSERT INTO "spec_customer_emails" ("email", "is_current", "spec_customer_id", "status") VALUES (?, ?, ?, ?)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_types"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_suffixes"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_person_names"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_features"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_infos"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customers"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_customer_emails"[0m
  [1m[35m (1.1ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  select sqlite_version(*)
  [1m[36m (0.6ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (1.3ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "index_spec_customer_emails_on_email" ON "spec_customer_emails" ("email")[0m
  [1m[35mSpecStatus Load (0.1ms)[0m  SELECT "spec_statuses".* FROM "spec_statuses" 
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_customers" ("spec_status_id") VALUES (?)  [["spec_status_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 25 Nov 2013 14:56:50 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", nil], ["spec_customer_id", 1], ["spec_person_name_id", 1], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 14:56:50 UTC +00:00]]
  [1m[35mSpecCustomer Load (0.1ms)[0m  SELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSpecCustomerInfo Load (0.1ms)[0m  SELECT "spec_customer_infos".* FROM "spec_customer_infos" WHERE "spec_customer_infos"."spec_customer_id" = 1 AND "spec_customer_infos"."is_current" = 't' ORDER BY id DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_customer_emails" ("email", "is_current", "spec_customer_id", "status") VALUES (?, ?, ?, ?)  [["email", "foo@bar.com"], ["is_current", true], ["spec_customer_id", 1], ["status", "unverified"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "spec_customer_emails" SET "is_current" = 'f' WHERE "id" = 1 [0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_customer_emails" ("email", "is_current", "spec_customer_id", "status") VALUES (?, ?, ?, ?)  [["email", "foo@bar.com"], ["is_current", true], ["spec_customer_id", 1], ["status", "verified"]]
SQLite3::ConstraintException: column email is not unique: INSERT INTO "spec_customer_emails" ("email", "is_current", "spec_customer_id", "status") VALUES (?, ?, ?, ?)
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mUPDATE "spec_customer_emails" SET "is_current" = 'f' WHERE "id" = 1 [0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_customer_emails" ("email", "is_current", "spec_customer_id", "status") VALUES (?, ?, ?, ?)  [["email", "foo@bar.com"], ["is_current", false], ["spec_customer_id", 1], ["status", "verified"]]
SQLite3::ConstraintException: column email is not unique: INSERT INTO "spec_customer_emails" ("email", "is_current", "spec_customer_id", "status") VALUES (?, ?, ?, ?)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mUPDATE "spec_customer_emails" SET "is_current" = 'f' WHERE "id" = 1 [0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_customer_emails" ("email", "is_current", "spec_customer_id", "status") VALUES (?, ?, ?, ?)  [["email", "foo1@bar.com"], ["is_current", false], ["spec_customer_id", 1], ["status", "verified"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "spec_customer_emails" SET "is_current" = 't' WHERE "spec_customer_emails"."id" = 2[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSpecCustomerEmail Load (0.1ms)[0m  [1mSELECT "spec_customer_emails".* FROM "spec_customer_emails" [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_types"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_suffixes"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_person_names"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_features"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_infos"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customers"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_emails"[0m
  [1m[35m (0.3ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (1.3ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (1.2ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "index_spec_customer_emails_on_email" ON "spec_customer_emails" ("email")[0m
  [1m[35mSpecStatus Load (0.1ms)[0m  SELECT "spec_statuses".* FROM "spec_statuses" 
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_customers" ("spec_status_id") VALUES (?)  [["spec_status_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.2ms)[0m  [1mINSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 25 Nov 2013 14:57:41 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", nil], ["spec_customer_id", 1], ["spec_person_name_id", 1], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 14:57:41 UTC +00:00]]
  [1m[35mSpecCustomer Load (0.1ms)[0m  SELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSpecCustomerInfo Load (0.1ms)[0m  SELECT "spec_customer_infos".* FROM "spec_customer_infos" WHERE "spec_customer_infos"."spec_customer_id" = 1 AND "spec_customer_infos"."is_current" = 't' ORDER BY id DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_customer_emails" ("email", "is_current", "spec_customer_id", "status") VALUES (?, ?, ?, ?)  [["email", "foo@bar.com"], ["is_current", true], ["spec_customer_id", 1], ["status", "unverified"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "spec_customer_emails" SET "is_current" = 'f' WHERE "id" = 1 [0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_customer_emails" ("email", "is_current", "spec_customer_id", "status") VALUES (?, ?, ?, ?)  [["email", "foo@bar.com"], ["is_current", true], ["spec_customer_id", 1], ["status", "verified"]]
SQLite3::ConstraintException: column email is not unique: INSERT INTO "spec_customer_emails" ("email", "is_current", "spec_customer_id", "status") VALUES (?, ?, ?, ?)
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mUPDATE "spec_customer_emails" SET "is_current" = 'f' WHERE "id" = 1 [0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_customer_emails" ("email", "is_current", "spec_customer_id", "status") VALUES (?, ?, ?, ?)  [["email", "foo@bar.com"], ["is_current", true], ["spec_customer_id", 1], ["status", "verified"]]
SQLite3::ConstraintException: column email is not unique: INSERT INTO "spec_customer_emails" ("email", "is_current", "spec_customer_id", "status") VALUES (?, ?, ?, ?)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_types"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_suffixes"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_person_names"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_features"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_infos"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customers"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_customer_emails"[0m
  [1m[35m (0.3ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (0.5ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (1.2ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (1.2ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) 
  [1m[36m (0.2ms)[0m  [1mCREATE UNIQUE INDEX "index_spec_customer_emails_on_email" ON "spec_customer_emails" ("email")[0m
  [1m[35mSpecStatus Load (0.1ms)[0m  SELECT "spec_statuses".* FROM "spec_statuses" 
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_customers" ("spec_status_id") VALUES (?)  [["spec_status_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.7ms)[0m  [1mINSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 25 Nov 2013 15:00:29 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", nil], ["spec_customer_id", 1], ["spec_person_name_id", 1], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 15:00:29 UTC +00:00]]
  [1m[35mSpecCustomer Load (0.1ms)[0m  SELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSpecCustomerInfo Load (0.2ms)[0m  SELECT "spec_customer_infos".* FROM "spec_customer_infos" WHERE "spec_customer_infos"."spec_customer_id" = 1 AND "spec_customer_infos"."is_current" = 't' ORDER BY id DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "spec_customer_emails" ("email", "is_current", "spec_customer_id", "status") VALUES (?, ?, ?, ?)  [["email", "foo@bar.com"], ["is_current", true], ["spec_customer_id", 1], ["status", "unverified"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "spec_customer_emails" SET "is_current" = 'f' WHERE "id" = 1 [0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_customer_emails" ("email", "is_current", "spec_customer_id", "status") VALUES (?, ?, ?, ?)  [["email", "foo@bar.com"], ["is_current", true], ["spec_customer_id", 1], ["status", "verified"]]
SQLite3::ConstraintException: column email is not unique: INSERT INTO "spec_customer_emails" ("email", "is_current", "spec_customer_id", "status") VALUES (?, ?, ?, ?)
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_types"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_suffixes"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_person_names"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_features"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_infos"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customers"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_customer_emails"[0m
  [1m[35m (0.4ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (1.2ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "index_spec_customer_emails_on_email" ON "spec_customer_emails" ("email")[0m
  [1m[35mSpecStatus Load (0.1ms)[0m  SELECT "spec_statuses".* FROM "spec_statuses" 
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_customers" ("spec_status_id") VALUES (?)  [["spec_status_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 25 Nov 2013 15:01:39 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", nil], ["spec_customer_id", 1], ["spec_person_name_id", 1], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 15:01:39 UTC +00:00]]
  [1m[35mSpecCustomer Load (0.1ms)[0m  SELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSpecCustomerInfo Load (0.1ms)[0m  SELECT "spec_customer_infos".* FROM "spec_customer_infos" WHERE "spec_customer_infos"."spec_customer_id" = 1 AND "spec_customer_infos"."is_current" = 't' ORDER BY id DESC LIMIT 1
  [1m[36mSpecCustomerEmail Load (0.1ms)[0m  [1mSELECT "spec_customer_emails".* FROM "spec_customer_emails" [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_customer_emails" ("email", "is_current", "spec_customer_id", "status") VALUES (?, ?, ?, ?)[0m  [["email", "foo@bar.com"], ["is_current", true], ["spec_customer_id", 1], ["status", "unverified"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSpecCustomerEmail Load (0.1ms)[0m  [1mSELECT "spec_customer_emails".* FROM "spec_customer_emails" [0m
  [1m[35mSpecCustomerEmail Load (0.1ms)[0m  SELECT "spec_customer_emails".* FROM "spec_customer_emails" WHERE "spec_customer_emails"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "spec_customer_emails" SET "is_current" = 'f' WHERE "id" = 1 
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_customer_emails" ("email", "is_current", "spec_customer_id", "status") VALUES (?, ?, ?, ?)[0m  [["email", "foo@bar.com"], ["is_current", true], ["spec_customer_id", 1], ["status", "verified"]]
SQLite3::ConstraintException: column email is not unique: INSERT INTO "spec_customer_emails" ("email", "is_current", "spec_customer_id", "status") VALUES (?, ?, ?, ?)
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_types"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_suffixes"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_person_names"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_features"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_infos"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customers"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_emails"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (1.4ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (1.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "index_spec_customer_emails_on_email" ON "spec_customer_emails" ("email")[0m
  [1m[35mSpecStatus Load (0.1ms)[0m  SELECT "spec_statuses".* FROM "spec_statuses" 
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_customers" ("spec_status_id") VALUES (?)  [["spec_status_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.2ms)[0m  [1mINSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 25 Nov 2013 15:03:40 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", nil], ["spec_customer_id", 1], ["spec_person_name_id", 1], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 15:03:40 UTC +00:00]]
  [1m[35mSpecCustomer Load (0.1ms)[0m  SELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSpecCustomerInfo Load (0.1ms)[0m  SELECT "spec_customer_infos".* FROM "spec_customer_infos" WHERE "spec_customer_infos"."spec_customer_id" = 1 AND "spec_customer_infos"."is_current" = 't' ORDER BY id DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_customer_emails" ("email", "is_current", "spec_customer_id", "status") VALUES (?, ?, ?, ?)  [["email", "foo@bar.com"], ["is_current", true], ["spec_customer_id", 1], ["status", "unverified"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_customer_emails" ("email", "is_current", "spec_customer_id", "status") VALUES (?, ?, ?, ?)[0m  [["email", "foo1@bar.com"], ["is_current", true], ["spec_customer_id", 1], ["status", "unverified"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSpecCustomerEmail Load (0.1ms)[0m  [1mSELECT "spec_customer_emails".* FROM "spec_customer_emails" [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "spec_customer_emails" SET "is_current" = 'f' WHERE "id" = 1 [0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_customer_emails" ("email", "is_current", "spec_customer_id", "status") VALUES (?, ?, ?, ?)  [["email", "foo@bar.com"], ["is_current", true], ["spec_customer_id", 1], ["status", "verified"]]
SQLite3::ConstraintException: column email is not unique: INSERT INTO "spec_customer_emails" ("email", "is_current", "spec_customer_id", "status") VALUES (?, ?, ?, ?)
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_customers"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_customer_emails"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_types"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_suffixes"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_person_names"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_features"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_infos"[0m
  [1m[35m (0.3ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (1.4ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (1.2ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "index_spec_customer_emails_on_email" ON "spec_customer_emails" ("email")[0m
  [1m[35mSpecStatus Load (0.1ms)[0m  SELECT "spec_statuses".* FROM "spec_statuses" 
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_customers" ("spec_status_id") VALUES (?)  [["spec_status_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 25 Nov 2013 15:05:59 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", nil], ["spec_customer_id", 1], ["spec_person_name_id", 1], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 15:05:59 UTC +00:00]]
  [1m[35mSpecCustomer Load (0.1ms)[0m  SELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSpecCustomerInfo Load (0.1ms)[0m  SELECT "spec_customer_infos".* FROM "spec_customer_infos" WHERE "spec_customer_infos"."spec_customer_id" = 1 AND "spec_customer_infos"."is_current" = 't' ORDER BY id DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_customer_emails" ("email", "is_current", "spec_customer_id", "status") VALUES (?, ?, ?, ?)  [["email", "foo@bar.com"], ["is_current", true], ["spec_customer_id", 1], ["status", "unverified"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "spec_customer_emails" SET "is_current" = 'f' WHERE "id" = 1 [0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_customer_emails" ("email", "is_current", "spec_customer_id", "status") VALUES (?, ?, ?, ?)  [["email", "foo@bar.com"], ["is_current", true], ["spec_customer_id", 1], ["status", "verified"]]
SQLite3::ConstraintException: column email is not unique: INSERT INTO "spec_customer_emails" ("email", "is_current", "spec_customer_id", "status") VALUES (?, ?, ?, ?)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_types"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_suffixes"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_person_names"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_features"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_infos"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customers"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_emails"[0m
  [1m[35m (1.6ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (1.6ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (1.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "index_spec_customer_emails_on_email" ON "spec_customer_emails" ("email")[0m
  [1m[35mSpecStatus Load (0.1ms)[0m  SELECT "spec_statuses".* FROM "spec_statuses" 
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_customers" ("spec_status_id") VALUES (?)  [["spec_status_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.2ms)[0m  [1mINSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 25 Nov 2013 15:06:25 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", nil], ["spec_customer_id", 1], ["spec_person_name_id", 1], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 15:06:25 UTC +00:00]]
  [1m[35mSpecCustomer Load (0.1ms)[0m  SELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSpecCustomerInfo Load (0.1ms)[0m  SELECT "spec_customer_infos".* FROM "spec_customer_infos" WHERE "spec_customer_infos"."spec_customer_id" = 1 AND "spec_customer_infos"."is_current" = 't' ORDER BY id DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_customer_emails" ("email", "is_current", "spec_customer_id", "status") VALUES (?, ?, ?, ?)  [["email", "foo@bar.com"], ["is_current", true], ["spec_customer_id", 1], ["status", "unverified"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_types"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_suffixes"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_person_names"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_features"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_infos"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customers"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_emails"[0m
  [1m[35m (1.1ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (1.5ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "index_spec_customer_emails_on_email" ON "spec_customer_emails" ("email")[0m
  [1m[35mSpecStatus Load (0.1ms)[0m  SELECT "spec_statuses".* FROM "spec_statuses" 
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_customers" ("spec_status_id") VALUES (?)  [["spec_status_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 25 Nov 2013 15:06:40 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", nil], ["spec_customer_id", 1], ["spec_person_name_id", 1], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 15:06:40 UTC +00:00]]
  [1m[35mSpecCustomer Load (0.1ms)[0m  SELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSpecCustomerInfo Load (0.1ms)[0m  SELECT "spec_customer_infos".* FROM "spec_customer_infos" WHERE "spec_customer_infos"."spec_customer_id" = 1 AND "spec_customer_infos"."is_current" = 't' ORDER BY id DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_customer_emails" ("email", "is_current", "spec_customer_id", "status") VALUES (?, ?, ?, ?)  [["email", "foo@bar.com"], ["is_current", true], ["spec_customer_id", 1], ["status", "unverified"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSpecCustomerEmail Load (0.2ms)[0m  SELECT "spec_customer_emails".* FROM "spec_customer_emails" WHERE "spec_customer_emails"."email" = 'foo@bar.com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "spec_customer_emails" SET "is_current" = 'f' WHERE "id" = 1 
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_customer_emails" ("email", "is_current", "spec_customer_id", "status") VALUES (?, ?, ?, ?)[0m  [["email", "foo@bar.com"], ["is_current", true], ["spec_customer_id", 1], ["status", "verified"]]
SQLite3::ConstraintException: column email is not unique: INSERT INTO "spec_customer_emails" ("email", "is_current", "spec_customer_id", "status") VALUES (?, ?, ?, ?)
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_statuses"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_types"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_suffixes"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_person_names"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_features"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_infos"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customers"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_emails"
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (0.5ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (1.2ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (1.5ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "index_spec_customer_emails_on_email" ON "spec_customer_emails" ("email")[0m
  [1m[35mSpecStatus Load (0.1ms)[0m  SELECT "spec_statuses".* FROM "spec_statuses" 
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_customers" ("spec_status_id") VALUES (?)  [["spec_status_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 25 Nov 2013 15:09:21 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", nil], ["spec_customer_id", 1], ["spec_person_name_id", 1], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 15:09:21 UTC +00:00]]
  [1m[35mSpecCustomer Load (0.1ms)[0m  SELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSpecCustomerInfo Load (0.1ms)[0m  SELECT "spec_customer_infos".* FROM "spec_customer_infos" WHERE "spec_customer_infos"."spec_customer_id" = 1 AND "spec_customer_infos"."is_current" = 't' ORDER BY id DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_customer_emails" ("email", "is_current", "spec_customer_id", "status") VALUES (?, ?, ?, ?)  [["email", "foo@bar.com"], ["is_current", true], ["spec_customer_id", 1], ["status", "unverified"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "spec_customer_emails" SET "is_current" = 'f' WHERE "id" = 1 [0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "spec_customer_emails" ("email", "is_current", "spec_customer_id", "status") VALUES (?, ?, ?, ?)  [["email", "foo@bar.com"], ["is_current", true], ["spec_customer_id", 1], ["status", "verified"]]
SQLite3::ConstraintException: column email is not unique: INSERT INTO "spec_customer_emails" ("email", "is_current", "spec_customer_id", "status") VALUES (?, ?, ?, ?)
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_types"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_suffixes"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_person_names"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_features"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_infos"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customers"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_emails"[0m
  [1m[35m (1.4ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (0.5ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (2.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (1.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "index_spec_customer_emails_on_email" ON "spec_customer_emails" ("email")[0m
  [1m[35mSpecStatus Load (0.1ms)[0m  SELECT "spec_statuses".* FROM "spec_statuses" 
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_customers" ("spec_status_id") VALUES (?)  [["spec_status_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 25 Nov 2013 15:13:29 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", nil], ["spec_customer_id", 1], ["spec_person_name_id", 1], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 15:13:29 UTC +00:00]]
  [1m[35mSpecCustomer Load (0.1ms)[0m  SELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSpecCustomerInfo Load (0.1ms)[0m  SELECT "spec_customer_infos".* FROM "spec_customer_infos" WHERE "spec_customer_infos"."spec_customer_id" = 1 AND "spec_customer_infos"."is_current" = 't' ORDER BY id DESC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_customer_emails" ("email", "is_current", "spec_customer_id", "status") VALUES (?, ?, ?, ?)  [["email", "foo@bar.com"], ["is_current", true], ["spec_customer_id", 1], ["status", "unverified"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "spec_customer_emails" SET "is_current" = 'f' WHERE "id" = 1 [0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_customer_emails" ("email", "is_current", "spec_customer_id", "status") VALUES (?, ?, ?, ?)  [["email", "foo@bar.com"], ["is_current", true], ["spec_customer_id", 1], ["status", "verified"]]
SQLite3::ConstraintException: column email is not unique: INSERT INTO "spec_customer_emails" ("email", "is_current", "spec_customer_id", "status") VALUES (?, ?, ?, ?)
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mUPDATE "spec_customer_emails" SET "is_current" = 'f' WHERE "id" = 1 [0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "spec_customer_emails" ("email", "is_current", "spec_customer_id", "status") VALUES (?, ?, ?, ?)  [["email", "foo@bar.com"], ["is_current", true], ["spec_customer_id", 1], ["status", "verified"]]
SQLite3::ConstraintException: column email is not unique: INSERT INTO "spec_customer_emails" ("email", "is_current", "spec_customer_id", "status") VALUES (?, ?, ?, ?)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mUPDATE "spec_customer_emails" SET "is_current" = 'f' WHERE "id" = 1 [0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_customer_emails" ("email", "is_current", "spec_customer_id", "status") VALUES (?, ?, ?, ?)  [["email", "foo@bar.com"], ["is_current", true], ["spec_customer_id", 1], ["status", "verified"]]
SQLite3::ConstraintException: column email is not unique: INSERT INTO "spec_customer_emails" ("email", "is_current", "spec_customer_id", "status") VALUES (?, ?, ?, ?)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mUPDATE "spec_customer_emails" SET "is_current" = 'f' WHERE "id" = 1 [0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_customer_emails" ("email", "is_current", "spec_customer_id", "status") VALUES (?, ?, ?, ?)  [["email", "foo@bar.com"], ["is_current", true], ["spec_customer_id", 1], ["status", "verified"]]
SQLite3::ConstraintException: column email is not unique: INSERT INTO "spec_customer_emails" ("email", "is_current", "spec_customer_id", "status") VALUES (?, ?, ?, ?)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_types"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_suffixes"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_person_names"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_features"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_infos"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customers"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_customer_emails"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_statuses"[0m
  [1m[35m (0.3ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (0.5ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (2.2ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (1.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "index_spec_customer_emails_on_email" ON "spec_customer_emails" ("email")[0m
  [1m[35mSpecStatus Load (0.1ms)[0m  SELECT "spec_statuses".* FROM "spec_statuses" 
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_customers" ("spec_status_id") VALUES (?)  [["spec_status_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 25 Nov 2013 15:16:48 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", nil], ["spec_customer_id", 1], ["spec_person_name_id", 1], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 15:16:48 UTC +00:00]]
  [1m[35mSpecCustomer Load (0.1ms)[0m  SELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSpecCustomerInfo Load (0.1ms)[0m  SELECT "spec_customer_infos".* FROM "spec_customer_infos" WHERE "spec_customer_infos"."spec_customer_id" = 1 AND "spec_customer_infos"."is_current" = 't' ORDER BY id DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_customer_emails" ("email", "is_current", "spec_customer_id", "status") VALUES (?, ?, ?, ?)  [["email", "foo@bar.com"], ["is_current", true], ["spec_customer_id", 1], ["status", "unverified"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "spec_customer_emails" SET "is_current" = 'f' WHERE "id" = 1 [0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "spec_customer_emails" ("email", "is_current", "spec_customer_id", "status") VALUES (?, ?, ?, ?)  [["email", "foo@bar.com"], ["is_current", true], ["spec_customer_id", 1], ["status", "verified"]]
SQLite3::ConstraintException: column email is not unique: INSERT INTO "spec_customer_emails" ("email", "is_current", "spec_customer_id", "status") VALUES (?, ?, ?, ?)
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mUPDATE "spec_customer_emails" SET "is_current" = 'f' WHERE "id" = 1 [0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_customer_emails" ("email", "is_current", "spec_customer_id", "status") VALUES (?, ?, ?, ?)  [["email", "foo@bar.com"], ["is_current", true], ["spec_customer_id", 1], ["status", "verified"]]
SQLite3::ConstraintException: column email is not unique: INSERT INTO "spec_customer_emails" ("email", "is_current", "spec_customer_id", "status") VALUES (?, ?, ?, ?)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mUPDATE "spec_customer_emails" SET "is_current" = 'f' WHERE "id" = 1 [0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_customer_emails" ("email", "is_current", "spec_customer_id", "status") VALUES (?, ?, ?, ?)  [["email", "foo@bar.com"], ["is_current", true], ["spec_customer_id", 1], ["status", "verified"]]
SQLite3::ConstraintException: column email is not unique: INSERT INTO "spec_customer_emails" ("email", "is_current", "spec_customer_id", "status") VALUES (?, ?, ?, ?)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_types"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_suffixes"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_person_names"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_features"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_customer_infos"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customers"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_emails"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_statuses"[0m
  [1m[35m (0.3ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (0.5ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (1.2ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (1.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "index_spec_customer_emails_on_email" ON "spec_customer_emails" ("email")[0m
  [1m[35mSpecStatus Load (0.1ms)[0m  SELECT "spec_statuses".* FROM "spec_statuses" 
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_customers" ("spec_status_id") VALUES (?)  [["spec_status_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.2ms)[0m  [1mINSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 25 Nov 2013 15:17:40 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", nil], ["spec_customer_id", 1], ["spec_person_name_id", 1], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 15:17:40 UTC +00:00]]
  [1m[35mSpecCustomer Load (0.1ms)[0m  SELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSpecCustomerInfo Load (0.1ms)[0m  SELECT "spec_customer_infos".* FROM "spec_customer_infos" WHERE "spec_customer_infos"."spec_customer_id" = 1 AND "spec_customer_infos"."is_current" = 't' ORDER BY id DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_customer_emails" ("email", "is_current", "spec_customer_id", "status") VALUES (?, ?, ?, ?)  [["email", "foo@bar.com"], ["is_current", true], ["spec_customer_id", 1], ["status", "unverified"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "spec_customer_emails" SET "is_current" = 'f' WHERE "id" = 1 [0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_customer_emails" ("email", "is_current", "spec_customer_id", "status") VALUES (?, ?, ?, ?)  [["email", "foo@bar.com"], ["is_current", true], ["spec_customer_id", 1], ["status", "verified"]]
SQLite3::ConstraintException: column email is not unique: INSERT INTO "spec_customer_emails" ("email", "is_current", "spec_customer_id", "status") VALUES (?, ?, ?, ?)
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_types"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_suffixes"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_person_names"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_features"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_infos"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customers"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_emails"[0m
  [1m[35m (0.7ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  select sqlite_version(*)
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (2.3ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) 
  [1m[36m (0.2ms)[0m  [1mCREATE UNIQUE INDEX "index_spec_customer_emails_on_email" ON "spec_customer_emails" ("email")[0m
  [1m[35mSpecStatus Load (0.1ms)[0m  SELECT "spec_statuses".* FROM "spec_statuses" 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_customers" ("spec_status_id") VALUES (?)  [["spec_status_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.7ms)[0m  [1mINSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 25 Nov 2013 15:21:37 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", nil], ["spec_customer_id", 1], ["spec_person_name_id", 1], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 15:21:37 UTC +00:00]]
  [1m[35mSpecCustomer Load (0.1ms)[0m  SELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSpecCustomerInfo Load (0.2ms)[0m  SELECT "spec_customer_infos".* FROM "spec_customer_infos" WHERE "spec_customer_infos"."spec_customer_id" = 1 AND "spec_customer_infos"."is_current" = 't' ORDER BY id DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "spec_customer_emails" ("email", "is_current", "spec_customer_id", "status") VALUES (?, ?, ?, ?)  [["email", "foo@bar.com"], ["is_current", true], ["spec_customer_id", 1], ["status", "unverified"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSpecCustomerEmail Load (0.1ms)[0m  SELECT "spec_customer_emails".* FROM "spec_customer_emails" 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "spec_customer_emails" SET "is_current" = 'f' WHERE "id" = 1 
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "spec_customer_emails" ("email", "is_current", "spec_customer_id", "status") VALUES (?, ?, ?, ?)[0m  [["email", "foo@bar.com"], ["is_current", true], ["spec_customer_id", 1], ["status", "verified"]]
SQLite3::ConstraintException: column email is not unique: INSERT INTO "spec_customer_emails" ("email", "is_current", "spec_customer_id", "status") VALUES (?, ?, ?, ?)
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "spec_customer_emails" SET "is_current" = 'f' WHERE "id" = 1 
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "spec_customer_emails" ("email", "is_current", "spec_customer_id", "status") VALUES (?, ?, ?, ?)[0m  [["email", "foo@bar.com"], ["is_current", false], ["spec_customer_id", 1], ["status", "verified"]]
SQLite3::ConstraintException: column email is not unique: INSERT INTO "spec_customer_emails" ("email", "is_current", "spec_customer_id", "status") VALUES (?, ?, ?, ?)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  UPDATE "spec_customer_emails" SET "is_current" = 'f' WHERE "id" = 1 
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_customer_emails" ("email", "is_current", "spec_customer_id", "status") VALUES (?, ?, ?, ?)[0m  [["email", "foo@bar.com"], ["is_current", true], ["spec_customer_id", 1], ["status", "verified"]]
SQLite3::ConstraintException: column email is not unique: INSERT INTO "spec_customer_emails" ("email", "is_current", "spec_customer_id", "status") VALUES (?, ?, ?, ?)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  UPDATE "spec_customer_emails" SET "is_current" = 'f' WHERE "id" = 1 
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_customer_emails" ("email", "is_current", "spec_customer_id", "status") VALUES (?, ?, ?, ?)[0m  [["email", "foo@bar.com"], ["is_current", true], ["spec_customer_id", 1], ["status", "verified"]]
SQLite3::ConstraintException: column email is not unique: INSERT INTO "spec_customer_emails" ("email", "is_current", "spec_customer_id", "status") VALUES (?, ?, ?, ?)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_types"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_suffixes"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_person_names"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_features"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_infos"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customers"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_emails"
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (1.2ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "index_spec_customer_emails_on_email" ON "spec_customer_emails" ("email")[0m
  [1m[35mSpecStatus Load (0.1ms)[0m  SELECT "spec_statuses".* FROM "spec_statuses" 
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_customers" ("spec_status_id") VALUES (?)  [["spec_status_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 25 Nov 2013 15:24:13 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", nil], ["spec_customer_id", 1], ["spec_person_name_id", 1], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 15:24:13 UTC +00:00]]
  [1m[35mSpecCustomer Load (0.1ms)[0m  SELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSpecCustomerInfo Load (0.1ms)[0m  SELECT "spec_customer_infos".* FROM "spec_customer_infos" WHERE "spec_customer_infos"."spec_customer_id" = 1 AND "spec_customer_infos"."is_current" = 't' ORDER BY id DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_customer_emails" ("email", "is_current", "spec_customer_id", "status") VALUES (?, ?, ?, ?)  [["email", "foo@bar.com"], ["is_current", true], ["spec_customer_id", 1], ["status", "unverified"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "spec_customer_emails" SET "is_current" = 'f' WHERE "id" = 1 [0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "spec_customer_emails" ("email", "is_current", "spec_customer_id", "status") VALUES (?, ?, ?, ?)  [["email", "foo@bar.com"], ["is_current", true], ["spec_customer_id", 1], ["status", "verified"]]
SQLite3::ConstraintException: column email is not unique: INSERT INTO "spec_customer_emails" ("email", "is_current", "spec_customer_id", "status") VALUES (?, ?, ?, ?)
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_customers"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_customer_emails"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_types"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_suffixes"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_person_names"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_features"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_infos"[0m
  [1m[35m (1.6ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (0.5ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (1.3ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (1.2ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "index_spec_customer_emails_on_email_and_is_current" ON "spec_customer_emails" ("email", "is_current")[0m
  [1m[35mSpecStatus Load (0.1ms)[0m  SELECT "spec_statuses".* FROM "spec_statuses" 
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_customers" ("spec_status_id") VALUES (?)  [["spec_status_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 25 Nov 2013 15:25:07 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", nil], ["spec_customer_id", 1], ["spec_person_name_id", 1], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 15:25:07 UTC +00:00]]
  [1m[35mSpecCustomer Load (0.1ms)[0m  SELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSpecCustomerInfo Load (0.1ms)[0m  SELECT "spec_customer_infos".* FROM "spec_customer_infos" WHERE "spec_customer_infos"."spec_customer_id" = 1 AND "spec_customer_infos"."is_current" = 't' ORDER BY id DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_customer_emails" ("email", "is_current", "spec_customer_id", "status") VALUES (?, ?, ?, ?)  [["email", "foo@bar.com"], ["is_current", true], ["spec_customer_id", 1], ["status", "unverified"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "spec_customer_emails" SET "is_current" = 'f' WHERE "id" = 1 [0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_customer_emails" ("email", "is_current", "spec_customer_id", "status") VALUES (?, ?, ?, ?)  [["email", "foo@bar.com"], ["is_current", true], ["spec_customer_id", 1], ["status", "verified"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_types"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_suffixes"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_person_names"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_features"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_infos"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customers"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_emails"[0m
  [1m[35m (1.2ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (1.3ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (1.2ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "index_spec_customer_emails_on_email_and_is_current" ON "spec_customer_emails" ("email", "is_current")[0m
  [1m[35mSpecStatus Load (0.1ms)[0m  SELECT "spec_statuses".* FROM "spec_statuses" 
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_customers" ("spec_status_id") VALUES (?)  [["spec_status_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 25 Nov 2013 15:25:24 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", nil], ["spec_customer_id", 1], ["spec_person_name_id", 1], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 15:25:24 UTC +00:00]]
  [1m[35mSpecCustomer Load (0.1ms)[0m  SELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSpecCustomerInfo Load (0.1ms)[0m  SELECT "spec_customer_infos".* FROM "spec_customer_infos" WHERE "spec_customer_infos"."spec_customer_id" = 1 AND "spec_customer_infos"."is_current" = 't' ORDER BY id DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_customer_emails" ("email", "is_current", "spec_customer_id", "status") VALUES (?, ?, ?, ?)  [["email", "foo@bar.com"], ["is_current", true], ["spec_customer_id", 1], ["status", "unverified"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSpecCustomerEmail Load (0.1ms)[0m  SELECT "spec_customer_emails".* FROM "spec_customer_emails" 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "spec_customer_emails" SET "is_current" = 'f' WHERE "id" = 1 
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_customer_emails" ("email", "is_current", "spec_customer_id", "status") VALUES (?, ?, ?, ?)[0m  [["email", "foo@bar.com"], ["is_current", true], ["spec_customer_id", 1], ["status", "verified"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSpecCustomerEmail Load (0.1ms)[0m  [1mSELECT "spec_customer_emails".* FROM "spec_customer_emails" [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_types"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_suffixes"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_person_names"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_features"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_infos"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customers"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_emails"[0m
  [1m[35m (0.3ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (1.2ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (1.4ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) 
  [1m[36m (0.2ms)[0m  [1mCREATE UNIQUE INDEX "index_spec_customer_emails_on_email_and_is_current" ON "spec_customer_emails" ("email", "is_current")[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Wed, 20 Nov 2013 15:25:59 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", nil], ["spec_customer_id", 1], ["spec_person_name_id", 1], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Wed, 20 Nov 2013 15:25:59 UTC +00:00]]
  [1m[35mSpecCustomer Load (0.1ms)[0m  SELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "spec_customer_infos" 
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecCustomer Load (0.1ms)[0m  SELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1
  [1m[36mSpecCustomer Load (0.1ms)[0m  [1mSELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  UPDATE "spec_customer_infos" SET "is_current" = 'f' , "lock_version" = 1 WHERE "id" = 1 AND "lock_version" = 0
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 25 Nov 2013 15:25:59 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", 1], ["spec_customer_id", nil], ["spec_person_name_id", 2], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 15:25:59 UTC +00:00]]
SQLite3::ConstraintException: spec_customer_infos.spec_customer_id may not be NULL: INSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_customer_emails"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customers"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_statuses"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_infos"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_features"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_person_names"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_types"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_suffixes"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "index_spec_customer_emails_on_email_and_is_current" ON "spec_customer_emails" ("email", "is_current")[0m
  [1m[35mSpecSuffix Load (0.1ms)[0m  SELECT "spec_suffixes".* FROM "spec_suffixes" 
  [1m[36mSpecPersonName Load (0.1ms)[0m  [1mSELECT "spec_person_names".* FROM "spec_person_names" WHERE "spec_person_names"."first_name" = 'John' AND "spec_person_names"."last_name" = 'Smith' AND "spec_person_names"."spec_suffix_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_person_names" ("first_name", "last_name", "spec_suffix_id") VALUES (?, ?, ?)[0m  [["first_name", "John"], ["last_name", "Smith"], ["spec_suffix_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "spec_person_names" [0m
  [1m[35mSpecPersonName Load (0.1ms)[0m  SELECT "spec_person_names".* FROM "spec_person_names" WHERE "spec_person_names"."first_name" = 'John' AND "spec_person_names"."last_name" = 'Smith' AND "spec_person_names"."spec_suffix_id" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "spec_person_names" [0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_types"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_suffixes"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_person_names"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_features"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_infos"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customers"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_emails"[0m
  [1m[35m (1.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Inactive"], ["name", "inactive"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Active"], ["name", "active"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Important"], ["name", "important"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", ""], ["name", "none"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", "Junior"], ["name", "jr"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE UNIQUE INDEX "index_spec_customer_emails_on_email_and_is_current" ON "spec_customer_emails" ("email", "is_current")
  [1m[36mSpecSuffix Load (0.1ms)[0m  [1mSELECT "spec_suffixes".* FROM "spec_suffixes" [0m
  [1m[35mSpecPersonName Load (0.1ms)[0m  SELECT "spec_person_names".* FROM "spec_person_names" WHERE "spec_person_names"."first_name" = 'John' AND "spec_person_names"."last_name" = 'Smith' AND "spec_person_names"."spec_suffix_id" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_person_names" ("first_name", "last_name", "spec_suffix_id") VALUES (?, ?, ?)  [["first_name", "John"], ["last_name", "Smith"], ["spec_suffix_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSpecPersonName Load (0.1ms)[0m  SELECT "spec_person_names".* FROM "spec_person_names" WHERE "spec_person_names"."first_name" = 'John' AND "spec_person_names"."last_name" = 'Smith' AND "spec_person_names"."spec_suffix_id" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_statuses"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_types"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_suffixes"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_person_names"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_features"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_infos"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customers"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_emails"
  [1m[36m (1.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "index_spec_customer_emails_on_email_and_is_current" ON "spec_customer_emails" ("email", "is_current")[0m
  [1m[35mSpecSuffix Load (0.1ms)[0m  SELECT "spec_suffixes".* FROM "spec_suffixes" 
  [1m[36mSpecPersonName Load (0.1ms)[0m  [1mSELECT "spec_person_names".* FROM "spec_person_names" WHERE "spec_person_names"."first_name" = 'John' AND "spec_person_names"."last_name" = 'Smith' AND "spec_person_names"."spec_suffix_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_person_names" ("first_name", "last_name", "spec_suffix_id") VALUES (?, ?, ?)[0m  [["first_name", "John"], ["last_name", "Smith"], ["spec_suffix_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "spec_person_names" [0m
  [1m[35mSpecPersonName Load (0.1ms)[0m  SELECT "spec_person_names".* FROM "spec_person_names" WHERE "spec_person_names"."first_name" = 'Alice' AND "spec_person_names"."last_name" = 'Smith' AND "spec_person_names"."spec_suffix_id" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_person_names" ("first_name", "last_name", "spec_suffix_id") VALUES (?, ?, ?)  [["first_name", "Alice"], ["last_name", "Smith"], ["spec_suffix_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "spec_person_names" 
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_statuses"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_types"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_suffixes"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_person_names"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_features"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_infos"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customers"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_emails"
  [1m[36m (1.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "index_spec_customer_emails_on_email_and_is_current" ON "spec_customer_emails" ("email", "is_current")[0m
  [1m[35mSpecSuffix Load (0.1ms)[0m  SELECT "spec_suffixes".* FROM "spec_suffixes" 
  [1m[36mSpecPersonName Load (0.1ms)[0m  [1mSELECT "spec_person_names".* FROM "spec_person_names" WHERE "spec_person_names"."first_name" = 'John' AND "spec_person_names"."last_name" = 'Smith' AND "spec_person_names"."spec_suffix_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_person_names" ("first_name", "last_name", "spec_suffix_id") VALUES (?, ?, ?)[0m  [["first_name", "John"], ["last_name", "Smith"], ["spec_suffix_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSpecPersonName Load (0.1ms)[0m  [1mSELECT "spec_person_names".* FROM "spec_person_names" WHERE "spec_person_names"."first_name" = 'Alice' AND "spec_person_names"."last_name" = 'Smith' AND "spec_person_names"."spec_suffix_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_person_names" ("first_name", "last_name", "spec_suffix_id") VALUES (?, ?, ?)[0m  [["first_name", "Alice"], ["last_name", "Smith"], ["spec_suffix_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecPersonName Load (0.1ms)[0m  SELECT "spec_person_names".* FROM "spec_person_names" WHERE "spec_person_names"."first_name" = 'John' AND "spec_person_names"."last_name" = 'Smith' AND "spec_person_names"."spec_suffix_id" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_types"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_suffixes"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_person_names"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_features"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_infos"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customers"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_emails"[0m
  [1m[35m (1.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Inactive"], ["name", "inactive"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Active"], ["name", "active"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Important"], ["name", "important"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", ""], ["name", "none"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", "Junior"], ["name", "jr"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE UNIQUE INDEX "index_spec_customer_emails_on_email_and_is_current" ON "spec_customer_emails" ("email", "is_current")
  [1m[36mSpecSuffix Load (0.1ms)[0m  [1mSELECT "spec_suffixes".* FROM "spec_suffixes" [0m
  [1m[35mSpecPersonName Load (0.1ms)[0m  SELECT "spec_person_names".* FROM "spec_person_names" WHERE "spec_person_names"."first_name" = 'John' AND "spec_person_names"."last_name" = 'Smith' AND "spec_person_names"."spec_suffix_id" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_person_names" ("first_name", "last_name", "spec_suffix_id") VALUES (?, ?, ?)  [["first_name", "John"], ["last_name", "Smith"], ["spec_suffix_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_types"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_suffixes"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_person_names"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_features"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_infos"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customers"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_emails"[0m
  [1m[35m (1.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Inactive"], ["name", "inactive"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Active"], ["name", "active"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Important"], ["name", "important"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", ""], ["name", "none"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", "Junior"], ["name", "jr"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE UNIQUE INDEX "index_spec_customer_emails_on_email_and_is_current" ON "spec_customer_emails" ("email", "is_current")
  [1m[36mSpecSuffix Load (0.1ms)[0m  [1mSELECT "spec_suffixes".* FROM "spec_suffixes" [0m
  [1m[35mSpecPersonName Load (0.1ms)[0m  SELECT "spec_person_names".* FROM "spec_person_names" WHERE "spec_person_names"."first_name" = 'John' AND "spec_person_names"."last_name" = 'Smith' AND "spec_person_names"."spec_suffix_id" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_person_names" ("first_name", "last_name", "spec_suffix_id") VALUES (?, ?, ?)  [["first_name", "John"], ["last_name", "Smith"], ["spec_suffix_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_types"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_suffixes"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_person_names"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_features"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_infos"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customers"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_emails"[0m
  [1m[35m (1.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Inactive"], ["name", "inactive"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Active"], ["name", "active"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Important"], ["name", "important"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", ""], ["name", "none"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", "Junior"], ["name", "jr"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE UNIQUE INDEX "index_spec_customer_emails_on_email_and_is_current" ON "spec_customer_emails" ("email", "is_current")
  [1m[36mSpecSuffix Load (0.1ms)[0m  [1mSELECT "spec_suffixes".* FROM "spec_suffixes" [0m
  [1m[35mSpecPersonName Load (0.1ms)[0m  SELECT "spec_person_names".* FROM "spec_person_names" WHERE "spec_person_names"."first_name" = 'John' AND "spec_person_names"."last_name" = 'Smith' AND "spec_person_names"."spec_suffix_id" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_person_names" ("first_name", "last_name", "spec_suffix_id") VALUES (?, ?, ?)  [["first_name", "John"], ["last_name", "Smith"], ["spec_suffix_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSpecCustomerFeature Load (0.1ms)[0m  SELECT "spec_customer_features".* FROM "spec_customer_features" WHERE "spec_customer_features"."feature_name" = 'Pays' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_customer_features" ("feature_name") VALUES (?)  [["feature_name", "Pays"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSpecCustomerFeature Load (0.1ms)[0m  SELECT "spec_customer_features".* FROM "spec_customer_features" WHERE "spec_customer_features"."feature_name" = 'Pays' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_statuses"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_types"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_suffixes"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_person_names"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_features"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_infos"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customers"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_emails"
  [1m[36m (1.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "index_spec_customer_emails_on_email_and_is_current" ON "spec_customer_emails" ("email", "is_current")[0m
  [1m[35mSpecSuffix Load (0.1ms)[0m  SELECT "spec_suffixes".* FROM "spec_suffixes" 
  [1m[36mSpecPersonName Load (0.1ms)[0m  [1mSELECT "spec_person_names".* FROM "spec_person_names" WHERE "spec_person_names"."first_name" = 'John' AND "spec_person_names"."last_name" = 'Smith' AND "spec_person_names"."spec_suffix_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_person_names" ("first_name", "last_name", "spec_suffix_id") VALUES (?, ?, ?)[0m  [["first_name", "John"], ["last_name", "Smith"], ["spec_suffix_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSpecCustomerFeature Load (0.1ms)[0m  [1mSELECT "spec_customer_features".* FROM "spec_customer_features" WHERE "spec_customer_features"."feature_name" = 'Pays' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_customer_features" ("feature_name") VALUES (?)[0m  [["feature_name", "Pays"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSpecCustomerFeature Load (0.1ms)[0m  [1mSELECT "spec_customer_features".* FROM "spec_customer_features" WHERE "spec_customer_features"."feature_name" = 'Fraud' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_customer_features" ("feature_name") VALUES (?)[0m  [["feature_name", "Fraud"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_statuses"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_types"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_suffixes"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_person_names"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_features"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_infos"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customers"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_emails"
  [1m[36m (0.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "index_spec_customer_emails_on_email_and_is_current" ON "spec_customer_emails" ("email", "is_current")[0m
  [1m[35mSpecSuffix Load (0.1ms)[0m  SELECT "spec_suffixes".* FROM "spec_suffixes" 
  [1m[36mSpecPersonName Load (0.1ms)[0m  [1mSELECT "spec_person_names".* FROM "spec_person_names" WHERE "spec_person_names"."first_name" = 'John' AND "spec_person_names"."last_name" = 'Smith' AND "spec_person_names"."spec_suffix_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_person_names" ("first_name", "last_name", "spec_suffix_id") VALUES (?, ?, ?)[0m  [["first_name", "John"], ["last_name", "Smith"], ["spec_suffix_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSpecCustomerFeature Load (0.1ms)[0m  [1mSELECT "spec_customer_features".* FROM "spec_customer_features" WHERE "spec_customer_features"."feature_name" = 'Pays' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_customer_features" ("feature_name") VALUES (?)[0m  [["feature_name", "Pays"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSpecCustomerFeature Load (0.1ms)[0m  [1mSELECT "spec_customer_features".* FROM "spec_customer_features" WHERE "spec_customer_features"."feature_name" = 'Cancelled' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_customer_features" ("feature_name") VALUES (?)[0m  [["feature_name", "Cancelled"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_statuses"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_types"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_suffixes"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_person_names"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_features"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_infos"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customers"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_emails"
  [1m[36m (1.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "index_spec_customer_emails_on_email_and_is_current" ON "spec_customer_emails" ("email", "is_current")[0m
  [1m[35mSpecSuffix Load (0.1ms)[0m  SELECT "spec_suffixes".* FROM "spec_suffixes" 
  [1m[36mSpecPersonName Load (0.1ms)[0m  [1mSELECT "spec_person_names".* FROM "spec_person_names" WHERE "spec_person_names"."first_name" = 'John' AND "spec_person_names"."last_name" = 'Smith' AND "spec_person_names"."spec_suffix_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_person_names" ("first_name", "last_name", "spec_suffix_id") VALUES (?, ?, ?)[0m  [["first_name", "John"], ["last_name", "Smith"], ["spec_suffix_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSpecCustomerFeature Load (0.1ms)[0m  [1mSELECT "spec_customer_features".* FROM "spec_customer_features" WHERE "spec_customer_features"."feature_name" = 'Pays' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_customer_features" ("feature_name") VALUES (?)[0m  [["feature_name", "Pays"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSpecCustomerFeature Load (0.1ms)[0m  [1mSELECT "spec_customer_features".* FROM "spec_customer_features" WHERE "spec_customer_features"."feature_name" = 'Returned' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_customer_features" ("feature_name") VALUES (?)[0m  [["feature_name", "Returned"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_statuses"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_types"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_suffixes"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_person_names"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_features"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_infos"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customers"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_emails"
  [1m[36m (1.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) 
  [1m[36m (0.2ms)[0m  [1mCREATE UNIQUE INDEX "index_spec_customer_emails_on_email_and_is_current" ON "spec_customer_emails" ("email", "is_current")[0m
  [1m[35mSpecStatus Load (0.1ms)[0m  SELECT "spec_statuses".* FROM "spec_statuses" 
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_customers" ("spec_status_id") VALUES (?)  [["spec_status_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 25 Nov 2013 15:26:01 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", nil], ["spec_customer_id", 1], ["spec_person_name_id", 1], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 15:26:01 UTC +00:00]]
  [1m[35mSpecCustomer Load (0.1ms)[0m  SELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSpecCustomerInfo Load (0.1ms)[0m  SELECT "spec_customer_infos".* FROM "spec_customer_infos" WHERE "spec_customer_infos"."spec_customer_id" = 1 AND "spec_customer_infos"."is_current" = 't' ORDER BY id DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "spec_customer_infos" [0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "spec_customer_infos" SET "is_current" = 'f' , "lock_version" = 1 WHERE "id" = 1 AND "lock_version" = 0[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["created_at", Mon, 25 Nov 2013 15:26:01 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", 1], ["spec_customer_id", 1], ["spec_person_name_id", 2], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 15:26:01 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "spec_customer_infos" 
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_statuses"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_types"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_suffixes"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_person_names"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_features"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_infos"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customers"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_emails"
  [1m[36m (1.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "index_spec_customer_emails_on_email_and_is_current" ON "spec_customer_emails" ("email", "is_current")[0m
  [1m[35mSpecStatus Load (0.1ms)[0m  SELECT "spec_statuses".* FROM "spec_statuses" 
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_customers" ("spec_status_id") VALUES (?)  [["spec_status_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 25 Nov 2013 15:26:01 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", nil], ["spec_customer_id", 1], ["spec_person_name_id", 1], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 15:26:01 UTC +00:00]]
  [1m[35mSpecCustomer Load (0.1ms)[0m  SELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSpecCustomerInfo Load (0.1ms)[0m  SELECT "spec_customer_infos".* FROM "spec_customer_infos" WHERE "spec_customer_infos"."spec_customer_id" = 1 AND "spec_customer_infos"."is_current" = 't' ORDER BY id DESC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "spec_customer_infos" SET "is_current" = 'f' , "lock_version" = 1 WHERE "id" = 1 AND "lock_version" = 0
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 25 Nov 2013 15:26:01 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", 1], ["spec_customer_id", 1], ["spec_person_name_id", 2], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 15:26:01 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_statuses"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_types"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_suffixes"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_person_names"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_features"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_infos"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customers"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_emails"
  [1m[36m (1.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "index_spec_customer_emails_on_email_and_is_current" ON "spec_customer_emails" ("email", "is_current")[0m
  [1m[35mSpecStatus Load (0.1ms)[0m  SELECT "spec_statuses".* FROM "spec_statuses" 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_customers" ("spec_status_id") VALUES (?)  [["spec_status_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 25 Nov 2013 15:26:01 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", nil], ["spec_customer_id", 1], ["spec_person_name_id", 1], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 15:26:01 UTC +00:00]]
  [1m[35mSpecCustomer Load (0.1ms)[0m  SELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSpecCustomerInfo Load (0.1ms)[0m  SELECT "spec_customer_infos".* FROM "spec_customer_infos" WHERE "spec_customer_infos"."spec_customer_id" = 1 AND "spec_customer_infos"."is_current" = 't' ORDER BY id DESC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "spec_customer_infos" SET "is_current" = 'f' , "lock_version" = 1 WHERE "id" = 1 AND "lock_version" = 0
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 25 Nov 2013 15:26:01 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", 1], ["spec_customer_id", 1], ["spec_person_name_id", 2], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 15:26:01 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSpecCustomerInfo Load (0.1ms)[0m  [1mSELECT "spec_customer_infos".* FROM "spec_customer_infos" WHERE "spec_customer_infos"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_types"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_suffixes"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_person_names"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_features"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_infos"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customers"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_emails"[0m
  [1m[35m (1.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Inactive"], ["name", "inactive"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Active"], ["name", "active"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Important"], ["name", "important"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", ""], ["name", "none"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", "Junior"], ["name", "jr"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE UNIQUE INDEX "index_spec_customer_emails_on_email_and_is_current" ON "spec_customer_emails" ("email", "is_current")
  [1m[36mSpecStatus Load (0.1ms)[0m  [1mSELECT "spec_statuses".* FROM "spec_statuses" [0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_customers" ("spec_status_id") VALUES (?)[0m  [["spec_status_id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["created_at", Mon, 25 Nov 2013 15:26:01 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", nil], ["spec_customer_id", 1], ["spec_person_name_id", 1], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 15:26:01 UTC +00:00]]
  [1m[36mSpecCustomer Load (0.1ms)[0m  [1mSELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSpecCustomerInfo Load (0.2ms)[0m  [1mSELECT "spec_customer_infos".* FROM "spec_customer_infos" WHERE "spec_customer_infos"."spec_customer_id" = 1 AND "spec_customer_infos"."is_current" = 't' ORDER BY id DESC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "spec_customer_infos" SET "is_current" = 'f' , "lock_version" = 1 WHERE "id" = 1 AND "lock_version" = 0[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["created_at", Mon, 25 Nov 2013 15:26:01 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", 1], ["spec_customer_id", 1], ["spec_person_name_id", 2], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 15:26:01 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_types"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_suffixes"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_emails"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_person_names"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customers"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_features"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_infos"[0m
  [1m[35m (1.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Inactive"], ["name", "inactive"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Active"], ["name", "active"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Important"], ["name", "important"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.2ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", ""], ["name", "none"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", "Junior"], ["name", "jr"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) [0m
  [1m[35m (0.2ms)[0m  CREATE UNIQUE INDEX "index_spec_customer_emails_on_email_and_is_current" ON "spec_customer_emails" ("email", "is_current")
  [1m[36mSpecStatus Load (0.1ms)[0m  [1mSELECT "spec_statuses".* FROM "spec_statuses" [0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_customers" ("spec_status_id") VALUES (?)[0m  [["spec_status_id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["created_at", Mon, 25 Nov 2013 15:26:01 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", nil], ["spec_customer_id", 1], ["spec_person_name_id", 1], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 15:26:01 UTC +00:00]]
  [1m[36mSpecCustomer Load (0.1ms)[0m  [1mSELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSpecCustomerInfo Load (0.1ms)[0m  [1mSELECT "spec_customer_infos".* FROM "spec_customer_infos" WHERE "spec_customer_infos"."spec_customer_id" = 1 AND "spec_customer_infos"."is_current" = 't' ORDER BY id DESC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "spec_customer_infos" SET "is_current" = 'f', "updated_at" = '2013-11-25 15:26:01.740445', "lock_version" = 1 WHERE ("spec_customer_infos"."id" = 1 AND "spec_customer_infos"."lock_version" = 0)[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["created_at", Mon, 25 Nov 2013 15:26:01 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", nil], ["spec_customer_id", 1], ["spec_person_name_id", 2], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 15:26:01 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_types"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_suffixes"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_emails"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_person_names"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customers"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_features"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_infos"[0m
  [1m[35m (1.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Inactive"], ["name", "inactive"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Active"], ["name", "active"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Important"], ["name", "important"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", ""], ["name", "none"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", "Junior"], ["name", "jr"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE UNIQUE INDEX "index_spec_customer_emails_on_email_and_is_current" ON "spec_customer_emails" ("email", "is_current")
  [1m[36mSpecStatus Load (0.1ms)[0m  [1mSELECT "spec_statuses".* FROM "spec_statuses" [0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_customers" ("spec_status_id") VALUES (?)[0m  [["spec_status_id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["created_at", Mon, 25 Nov 2013 15:26:01 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", nil], ["spec_customer_id", 1], ["spec_person_name_id", 1], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 15:26:01 UTC +00:00]]
  [1m[36mSpecCustomer Load (0.1ms)[0m  [1mSELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSpecCustomerInfo Load (0.1ms)[0m  [1mSELECT "spec_customer_infos".* FROM "spec_customer_infos" WHERE "spec_customer_infos"."spec_customer_id" = 1 AND "spec_customer_infos"."is_current" = 't' ORDER BY id DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_customer_emails" ("email", "is_current", "spec_customer_id", "status") VALUES (?, ?, ?, ?)[0m  [["email", "foo@bar.com"], ["is_current", true], ["spec_customer_id", 1], ["status", "unverified"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "spec_customer_emails" SET "is_current" = 'f' WHERE "id" = 1 
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_customer_emails" ("email", "is_current", "spec_customer_id", "status") VALUES (?, ?, ?, ?)[0m  [["email", "foo@bar.com"], ["is_current", true], ["spec_customer_id", 1], ["status", "verified"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_statuses"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_suffixes"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_types"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_customer_infos"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_features"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_person_names"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_emails"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customers"
  [1m[36m (1.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "index_spec_customer_emails_on_email_and_is_current" ON "spec_customer_emails" ("email", "is_current")[0m
  [1m[35mSpecStatus Load (0.1ms)[0m  SELECT "spec_statuses".* FROM "spec_statuses" 
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_customers" ("spec_status_id") VALUES (?)  [["spec_status_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 25 Nov 2013 15:26:04 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", nil], ["spec_customer_id", 1], ["spec_person_name_id", 1], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 15:26:04 UTC +00:00]]
  [1m[35mSpecCustomer Load (0.1ms)[0m  SELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSpecCustomerInfo Load (0.1ms)[0m  SELECT "spec_customer_infos".* FROM "spec_customer_infos" WHERE "spec_customer_infos"."spec_customer_id" = 1 AND "spec_customer_infos"."is_current" = 't' ORDER BY id DESC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["created_at", Mon, 16 Jul 2012 00:00:00 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", nil], ["spec_customer_id", 1], ["spec_person_name_id", 1], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 16 Jul 2012 00:00:00 UTC +00:00]]
  [1m[36mSpecCustomer Load (0.0ms)[0m  [1mSELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  UPDATE "spec_customer_infos" SET "is_current" = 'f', "updated_at" = '2012-07-16 00:00:00.000000', "lock_version" = 1 WHERE ("spec_customer_infos"."id" = 1 AND "spec_customer_infos"."lock_version" = 0)
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mUPDATE "spec_customer_infos" SET "is_current" = 'f' , "lock_version" = 1 WHERE "id" = 2 AND "lock_version" = 0[0m
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["created_at", Tue, 17 Jul 2012 08:10:15 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", 2], ["spec_customer_id", 1], ["spec_person_name_id", 2], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Tue, 17 Jul 2012 08:10:15 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_suffixes"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_emails"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_types"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customers"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_infos"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_features"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_person_names"[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Inactive"], ["name", "inactive"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Active"], ["name", "active"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Important"], ["name", "important"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", ""], ["name", "none"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", "Junior"], ["name", "jr"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE UNIQUE INDEX "index_spec_customer_emails_on_email_and_is_current" ON "spec_customer_emails" ("email", "is_current")
  [1m[36mSpecStatus Load (0.1ms)[0m  [1mSELECT "spec_statuses".* FROM "spec_statuses" [0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_customers" ("spec_status_id") VALUES (?)[0m  [["spec_status_id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["created_at", Mon, 25 Nov 2013 15:26:04 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", nil], ["spec_customer_id", 1], ["spec_person_name_id", 1], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 15:26:04 UTC +00:00]]
  [1m[36mSpecCustomer Load (0.1ms)[0m  [1mSELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSpecCustomerInfo Load (0.1ms)[0m  [1mSELECT "spec_customer_infos".* FROM "spec_customer_infos" WHERE "spec_customer_infos"."spec_customer_id" = 1 AND "spec_customer_infos"."is_current" = 't' ORDER BY id DESC LIMIT 1[0m
  [1m[35mSpecCustomer Load (0.1ms)[0m  SELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSpecCustomerInfo Load (0.1ms)[0m  [1mSELECT "spec_customer_infos".* FROM "spec_customer_infos" WHERE "spec_customer_infos"."spec_customer_id" = 1 AND "spec_customer_infos"."is_current" = 't' ORDER BY id DESC LIMIT 1[0m
  [1m[35mSpecCustomer Load (0.0ms)[0m  SELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSpecCustomerInfo Load (0.1ms)[0m  [1mSELECT "spec_customer_infos".* FROM "spec_customer_infos" WHERE "spec_customer_infos"."spec_customer_id" = 1 AND "spec_customer_infos"."is_current" = 't' ORDER BY id DESC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "spec_customer_infos" SET "is_current" = 'f' , "lock_version" = 1 WHERE "id" = 1 AND "lock_version" = 0[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["created_at", Mon, 25 Nov 2013 15:26:04 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", 1], ["spec_customer_id", 1], ["spec_person_name_id", 3], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 15:26:04 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "spec_customer_infos" SET "is_current" = 'f' , "lock_version" = 1 WHERE "id" = 1 AND "lock_version" = 0[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_statuses"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_suffixes"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_emails"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_types"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customers"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_infos"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_features"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_person_names"
  [1m[36m (1.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "index_spec_customer_emails_on_email_and_is_current" ON "spec_customer_emails" ("email", "is_current")[0m
  [1m[35mSpecStatus Load (0.1ms)[0m  SELECT "spec_statuses".* FROM "spec_statuses" 
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_customers" ("spec_status_id") VALUES (?)  [["spec_status_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 25 Nov 2013 15:26:04 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", nil], ["spec_customer_id", 1], ["spec_person_name_id", 1], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 15:26:04 UTC +00:00]]
  [1m[35mSpecCustomer Load (0.1ms)[0m  SELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSpecCustomerInfo Load (0.1ms)[0m  SELECT "spec_customer_infos".* FROM "spec_customer_infos" WHERE "spec_customer_infos"."spec_customer_id" = 1 AND "spec_customer_infos"."is_current" = 't' ORDER BY id DESC LIMIT 1
  [1m[36mSpecCustomer Load (0.1ms)[0m  [1mSELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSpecCustomerInfo Load (0.1ms)[0m  SELECT "spec_customer_infos".* FROM "spec_customer_infos" WHERE "spec_customer_infos"."spec_customer_id" = 1 AND "spec_customer_infos"."is_current" = 't' ORDER BY id DESC LIMIT 1
  [1m[36mSpecCustomer Load (0.0ms)[0m  [1mSELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSpecCustomerInfo Load (0.2ms)[0m  SELECT "spec_customer_infos".* FROM "spec_customer_infos" WHERE "spec_customer_infos"."spec_customer_id" = 1 AND "spec_customer_infos"."is_current" = 't' ORDER BY id DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_customer_emails" ("email", "is_current", "spec_customer_id", "status") VALUES (?, ?, ?, ?)  [["email", "foo@bar.com"], ["is_current", nil], ["spec_customer_id", 1], ["status", nil]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "spec_customer_emails" SET "is_current" = 'f' WHERE "id" = 1 [0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_customer_emails" ("email", "is_current", "spec_customer_id", "status") VALUES (?, ?, ?, ?)  [["email", "foo2@bar.com"], ["is_current", nil], ["spec_customer_id", 1], ["status", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_suffixes"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_customer_emails"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_types"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customers"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_infos"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_features"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_person_names"[0m
  [1m[35m (1.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  CREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Inactive"], ["name", "inactive"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Active"], ["name", "active"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Important"], ["name", "important"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", ""], ["name", "none"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", "Junior"], ["name", "jr"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE UNIQUE INDEX "index_spec_customer_emails_on_email_and_is_current" ON "spec_customer_emails" ("email", "is_current")
  [1m[36mSpecStatus Load (0.1ms)[0m  [1mSELECT "spec_statuses".* FROM "spec_statuses" [0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_customers" ("spec_status_id") VALUES (?)[0m  [["spec_status_id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["created_at", Mon, 25 Nov 2013 15:26:05 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", nil], ["spec_customer_id", 1], ["spec_person_name_id", 1], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 15:26:05 UTC +00:00]]
  [1m[36mSpecCustomer Load (0.1ms)[0m  [1mSELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSpecCustomerInfo Load (0.1ms)[0m  [1mSELECT "spec_customer_infos".* FROM "spec_customer_infos" WHERE "spec_customer_infos"."spec_customer_id" = 1 AND "spec_customer_infos"."is_current" = 't' ORDER BY id DESC LIMIT 1[0m
  [1m[35mSpecSuffix Load (0.1ms)[0m  SELECT "spec_suffixes".* FROM "spec_suffixes" 
  [1m[36mSpecPersonName Load (0.1ms)[0m  [1mSELECT "spec_person_names".* FROM "spec_person_names" WHERE "spec_person_names"."first_name" = 'John' AND "spec_person_names"."last_name" = 'Smith' AND "spec_person_names"."spec_suffix_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_person_names" ("first_name", "last_name", "spec_suffix_id") VALUES (?, ?, ?)[0m  [["first_name", "John"], ["last_name", "Smith"], ["spec_suffix_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSpecCustomerInfo Load (0.1ms)[0m  [1mSELECT "spec_customer_infos".* FROM "spec_customer_infos" WHERE "spec_customer_infos"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSpecPersonName Load (0.1ms)[0m  SELECT "spec_person_names".* FROM "spec_person_names" WHERE "spec_person_names"."id" = 1 LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecPersonName Load (0.1ms)[0m  SELECT "spec_person_names".* FROM "spec_person_names" WHERE "spec_person_names"."first_name" = 'Alice' AND "spec_person_names"."last_name" = 'Smith' AND "spec_person_names"."spec_suffix_id" IS NULL LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_person_names" ("first_name", "last_name", "spec_suffix_id") VALUES (?, ?, ?)[0m  [["first_name", "Alice"], ["last_name", "Smith"], ["spec_suffix_id", nil]]
  [1m[35m (0.1ms)[0m  UPDATE "spec_customer_infos" SET "is_current" = 'f' , "lock_version" = 1 WHERE "id" = 1 AND "lock_version" = 0
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 25 Nov 2013 15:26:05 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", 1], ["spec_customer_id", 1], ["spec_person_name_id", 2], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 15:26:05 UTC +00:00]]
  [1m[35mSpecCustomer Load (0.1ms)[0m  SELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSpecCustomerInfo Load (0.0ms)[0m  SELECT "spec_customer_infos".* FROM "spec_customer_infos" WHERE "spec_customer_infos"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_statuses"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_types"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_suffixes"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_emails"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customers"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_infos"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_features"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_person_names"
  [1m[36m (1.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "index_spec_customer_emails_on_email_and_is_current" ON "spec_customer_emails" ("email", "is_current")[0m
  [1m[35mSpecSuffix Load (0.1ms)[0m  SELECT "spec_suffixes".* FROM "spec_suffixes" 
  [1m[36mSpecStatus Load (0.1ms)[0m  [1mSELECT "spec_statuses".* FROM "spec_statuses" [0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_customers" ("spec_status_id") VALUES (?)[0m  [["spec_status_id", 1]]
  [1m[35mSpecPersonName Load (0.1ms)[0m  SELECT "spec_person_names".* FROM "spec_person_names" WHERE "spec_person_names"."first_name" = 'John' AND "spec_person_names"."last_name" = 'Smith' AND "spec_person_names"."spec_suffix_id" IS NULL LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_person_names" ("first_name", "last_name", "spec_suffix_id") VALUES (?, ?, ?)[0m  [["first_name", "John"], ["last_name", "Smith"], ["spec_suffix_id", nil]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["created_at", Mon, 25 Nov 2013 15:26:05 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", nil], ["spec_customer_id", 1], ["spec_person_name_id", 1], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 15:26:05 UTC +00:00]]
  [1m[36mSpecCustomer Load (0.1ms)[0m  [1mSELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_statuses"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_types"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_suffixes"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_emails"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customers"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_infos"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_features"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_person_names"
  [1m[36m (1.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "index_spec_customer_emails_on_email_and_is_current" ON "spec_customer_emails" ("email", "is_current")[0m
  [1m[35mSpecSuffix Load (0.1ms)[0m  SELECT "spec_suffixes".* FROM "spec_suffixes" 
  [1m[36mSpecStatus Load (0.1ms)[0m  [1mSELECT "spec_statuses".* FROM "spec_statuses" [0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_customers" ("spec_status_id") VALUES (?)[0m  [["spec_status_id", 1]]
  [1m[35mSpecPersonName Load (0.1ms)[0m  SELECT "spec_person_names".* FROM "spec_person_names" WHERE "spec_person_names"."first_name" = 'John' AND "spec_person_names"."last_name" = 'Smith' AND "spec_person_names"."spec_suffix_id" IS NULL LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_person_names" ("first_name", "last_name", "spec_suffix_id") VALUES (?, ?, ?)[0m  [["first_name", "John"], ["last_name", "Smith"], ["spec_suffix_id", nil]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["created_at", Mon, 25 Nov 2013 15:26:05 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", nil], ["spec_customer_id", 1], ["spec_person_name_id", 1], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 15:26:05 UTC +00:00]]
  [1m[36mSpecCustomer Load (0.1ms)[0m  [1mSELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_statuses"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_types"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_suffixes"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_emails"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customers"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_infos"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_features"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_person_names"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) 
  [1m[36m (0.2ms)[0m  [1mCREATE UNIQUE INDEX "index_spec_customer_emails_on_email_and_is_current" ON "spec_customer_emails" ("email", "is_current")[0m
  [1m[35mSpecSuffix Load (0.1ms)[0m  SELECT "spec_suffixes".* FROM "spec_suffixes" 
  [1m[36mSpecStatus Load (0.1ms)[0m  [1mSELECT "spec_statuses".* FROM "spec_statuses" [0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_customers" ("spec_status_id") VALUES (?)[0m  [["spec_status_id", 1]]
  [1m[35mSpecPersonName Load (0.1ms)[0m  SELECT "spec_person_names".* FROM "spec_person_names" WHERE "spec_person_names"."first_name" = 'John' AND "spec_person_names"."last_name" = 'Smith' AND "spec_person_names"."spec_suffix_id" IS NULL LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_person_names" ("first_name", "last_name", "spec_suffix_id") VALUES (?, ?, ?)[0m  [["first_name", "John"], ["last_name", "Smith"], ["spec_suffix_id", nil]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["created_at", Mon, 25 Nov 2013 15:26:05 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", nil], ["spec_customer_id", 1], ["spec_person_name_id", 1], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 15:26:05 UTC +00:00]]
  [1m[36mSpecCustomer Load (0.1ms)[0m  [1mSELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_statuses"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_types"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_suffixes"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_emails"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customers"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_infos"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_features"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_person_names"
  [1m[36m (0.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "index_spec_customer_emails_on_email_and_is_current" ON "spec_customer_emails" ("email", "is_current")[0m
  [1m[35mSpecSuffix Load (0.1ms)[0m  SELECT "spec_suffixes".* FROM "spec_suffixes" 
  [1m[36mSpecStatus Load (0.1ms)[0m  [1mSELECT "spec_statuses".* FROM "spec_statuses" [0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_customers" ("spec_status_id") VALUES (?)[0m  [["spec_status_id", 1]]
  [1m[35mSpecPersonName Load (0.1ms)[0m  SELECT "spec_person_names".* FROM "spec_person_names" WHERE "spec_person_names"."first_name" = 'John' AND "spec_person_names"."last_name" = 'Smith' AND "spec_person_names"."spec_suffix_id" IS NULL LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_person_names" ("first_name", "last_name", "spec_suffix_id") VALUES (?, ?, ?)[0m  [["first_name", "John"], ["last_name", "Smith"], ["spec_suffix_id", nil]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["created_at", Mon, 25 Nov 2013 15:26:05 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", nil], ["spec_customer_id", 1], ["spec_person_name_id", 1], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 15:26:05 UTC +00:00]]
  [1m[36mSpecCustomer Load (0.1ms)[0m  [1mSELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_statuses"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_types"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_infos"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_suffixes"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_emails"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customers"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_features"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_person_names"
  [1m[36m (1.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "index_spec_customer_emails_on_email_and_is_current" ON "spec_customer_emails" ("email", "is_current")[0m
  [1m[35mSpecSuffix Load (0.1ms)[0m  SELECT "spec_suffixes".* FROM "spec_suffixes" 
  [1m[36mSpecStatus Load (0.1ms)[0m  [1mSELECT "spec_statuses".* FROM "spec_statuses" [0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_customers" ("spec_status_id") VALUES (?)[0m  [["spec_status_id", 1]]
  [1m[35mSpecPersonName Load (0.1ms)[0m  SELECT "spec_person_names".* FROM "spec_person_names" WHERE "spec_person_names"."first_name" = 'John' AND "spec_person_names"."last_name" = 'Smith' AND "spec_person_names"."spec_suffix_id" IS NULL LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_person_names" ("first_name", "last_name", "spec_suffix_id") VALUES (?, ?, ?)[0m  [["first_name", "John"], ["last_name", "Smith"], ["spec_suffix_id", nil]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["created_at", Mon, 25 Nov 2013 15:26:05 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", nil], ["spec_customer_id", 1], ["spec_person_name_id", 1], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 15:26:05 UTC +00:00]]
  [1m[36mSpecCustomer Load (0.1ms)[0m  [1mSELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSpecType Load (0.1ms)[0m  [1mSELECT "spec_types".* FROM "spec_types" [0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_types"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_infos"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_suffixes"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_emails"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customers"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_features"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_person_names"[0m
  [1m[35m (1.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Inactive"], ["name", "inactive"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Active"], ["name", "active"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Important"], ["name", "important"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", ""], ["name", "none"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", "Junior"], ["name", "jr"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE UNIQUE INDEX "index_spec_customer_emails_on_email_and_is_current" ON "spec_customer_emails" ("email", "is_current")
  [1m[36mSpecSuffix Load (0.1ms)[0m  [1mSELECT "spec_suffixes".* FROM "spec_suffixes" [0m
  [1m[35mSpecStatus Load (0.1ms)[0m  SELECT "spec_statuses".* FROM "spec_statuses" 
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_customers" ("spec_status_id") VALUES (?)  [["spec_status_id", 1]]
  [1m[36mSpecPersonName Load (0.1ms)[0m  [1mSELECT "spec_person_names".* FROM "spec_person_names" WHERE "spec_person_names"."first_name" = 'John' AND "spec_person_names"."last_name" = 'Smith' AND "spec_person_names"."spec_suffix_id" IS NULL LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_person_names" ("first_name", "last_name", "spec_suffix_id") VALUES (?, ?, ?)  [["first_name", "John"], ["last_name", "Smith"], ["spec_suffix_id", nil]]
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 25 Nov 2013 15:26:06 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", nil], ["spec_customer_id", 1], ["spec_person_name_id", 1], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 15:26:06 UTC +00:00]]
  [1m[35mSpecCustomer Load (0.1ms)[0m  SELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_types"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_infos"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_suffixes"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_emails"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customers"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_features"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_person_names"[0m
  [1m[35m (12.5ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (1.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "index_spec_customer_emails_on_email_and_is_current" ON "spec_customer_emails" ("email", "is_current")[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Wed, 20 Nov 2013 15:26:26 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", nil], ["spec_customer_id", 1], ["spec_person_name_id", 1], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Wed, 20 Nov 2013 15:26:26 UTC +00:00]]
  [1m[35mSpecCustomer Load (0.1ms)[0m  SELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "spec_customer_infos" 
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecCustomer Load (0.1ms)[0m  SELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1
  [1m[36mSpecCustomer Load (0.0ms)[0m  [1mSELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  UPDATE "spec_customer_infos" SET "is_current" = 'f' , "lock_version" = 1 WHERE "id" = 1 AND "lock_version" = 0
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 25 Nov 2013 15:26:26 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", 1], ["spec_customer_id", nil], ["spec_person_name_id", 2], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 15:26:26 UTC +00:00]]
SQLite3::ConstraintException: spec_customer_infos.spec_customer_id may not be NULL: INSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_customer_emails"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customers"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_statuses"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_infos"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_features"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_person_names"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_types"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_suffixes"
  [1m[36m (1.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "index_spec_customer_emails_on_email_and_is_current" ON "spec_customer_emails" ("email", "is_current")[0m
  [1m[35mSpecSuffix Load (0.1ms)[0m  SELECT "spec_suffixes".* FROM "spec_suffixes" 
  [1m[36mSpecPersonName Load (0.1ms)[0m  [1mSELECT "spec_person_names".* FROM "spec_person_names" WHERE "spec_person_names"."first_name" = 'John' AND "spec_person_names"."last_name" = 'Smith' AND "spec_person_names"."spec_suffix_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_person_names" ("first_name", "last_name", "spec_suffix_id") VALUES (?, ?, ?)[0m  [["first_name", "John"], ["last_name", "Smith"], ["spec_suffix_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "spec_person_names" [0m
  [1m[35mSpecPersonName Load (0.1ms)[0m  SELECT "spec_person_names".* FROM "spec_person_names" WHERE "spec_person_names"."first_name" = 'John' AND "spec_person_names"."last_name" = 'Smith' AND "spec_person_names"."spec_suffix_id" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "spec_person_names" [0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_types"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_suffixes"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_person_names"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_features"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_infos"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customers"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_emails"[0m
  [1m[35m (1.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Inactive"], ["name", "inactive"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Active"], ["name", "active"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Important"], ["name", "important"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", ""], ["name", "none"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", "Junior"], ["name", "jr"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) [0m
  [1m[35m (0.2ms)[0m  CREATE UNIQUE INDEX "index_spec_customer_emails_on_email_and_is_current" ON "spec_customer_emails" ("email", "is_current")
  [1m[36mSpecSuffix Load (0.1ms)[0m  [1mSELECT "spec_suffixes".* FROM "spec_suffixes" [0m
  [1m[35mSpecPersonName Load (0.1ms)[0m  SELECT "spec_person_names".* FROM "spec_person_names" WHERE "spec_person_names"."first_name" = 'John' AND "spec_person_names"."last_name" = 'Smith' AND "spec_person_names"."spec_suffix_id" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_person_names" ("first_name", "last_name", "spec_suffix_id") VALUES (?, ?, ?)  [["first_name", "John"], ["last_name", "Smith"], ["spec_suffix_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSpecPersonName Load (0.1ms)[0m  SELECT "spec_person_names".* FROM "spec_person_names" WHERE "spec_person_names"."first_name" = 'John' AND "spec_person_names"."last_name" = 'Smith' AND "spec_person_names"."spec_suffix_id" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_statuses"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_types"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_suffixes"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_person_names"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_features"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_infos"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customers"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_emails"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "index_spec_customer_emails_on_email_and_is_current" ON "spec_customer_emails" ("email", "is_current")[0m
  [1m[35mSpecSuffix Load (0.1ms)[0m  SELECT "spec_suffixes".* FROM "spec_suffixes" 
  [1m[36mSpecPersonName Load (0.1ms)[0m  [1mSELECT "spec_person_names".* FROM "spec_person_names" WHERE "spec_person_names"."first_name" = 'John' AND "spec_person_names"."last_name" = 'Smith' AND "spec_person_names"."spec_suffix_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_person_names" ("first_name", "last_name", "spec_suffix_id") VALUES (?, ?, ?)[0m  [["first_name", "John"], ["last_name", "Smith"], ["spec_suffix_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "spec_person_names" [0m
  [1m[35mSpecPersonName Load (0.1ms)[0m  SELECT "spec_person_names".* FROM "spec_person_names" WHERE "spec_person_names"."first_name" = 'Alice' AND "spec_person_names"."last_name" = 'Smith' AND "spec_person_names"."spec_suffix_id" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_person_names" ("first_name", "last_name", "spec_suffix_id") VALUES (?, ?, ?)  [["first_name", "Alice"], ["last_name", "Smith"], ["spec_suffix_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "spec_person_names" 
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_statuses"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_types"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_suffixes"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_person_names"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_features"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_infos"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customers"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_emails"
  [1m[36m (1.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.3ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "index_spec_customer_emails_on_email_and_is_current" ON "spec_customer_emails" ("email", "is_current")[0m
  [1m[35mSpecSuffix Load (0.1ms)[0m  SELECT "spec_suffixes".* FROM "spec_suffixes" 
  [1m[36mSpecPersonName Load (0.1ms)[0m  [1mSELECT "spec_person_names".* FROM "spec_person_names" WHERE "spec_person_names"."first_name" = 'John' AND "spec_person_names"."last_name" = 'Smith' AND "spec_person_names"."spec_suffix_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_person_names" ("first_name", "last_name", "spec_suffix_id") VALUES (?, ?, ?)[0m  [["first_name", "John"], ["last_name", "Smith"], ["spec_suffix_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSpecPersonName Load (0.1ms)[0m  [1mSELECT "spec_person_names".* FROM "spec_person_names" WHERE "spec_person_names"."first_name" = 'Alice' AND "spec_person_names"."last_name" = 'Smith' AND "spec_person_names"."spec_suffix_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_person_names" ("first_name", "last_name", "spec_suffix_id") VALUES (?, ?, ?)[0m  [["first_name", "Alice"], ["last_name", "Smith"], ["spec_suffix_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecPersonName Load (0.1ms)[0m  SELECT "spec_person_names".* FROM "spec_person_names" WHERE "spec_person_names"."first_name" = 'John' AND "spec_person_names"."last_name" = 'Smith' AND "spec_person_names"."spec_suffix_id" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_types"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_suffixes"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_person_names"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_features"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_infos"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customers"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_emails"[0m
  [1m[35m (1.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Inactive"], ["name", "inactive"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Active"], ["name", "active"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Important"], ["name", "important"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", ""], ["name", "none"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", "Junior"], ["name", "jr"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE UNIQUE INDEX "index_spec_customer_emails_on_email_and_is_current" ON "spec_customer_emails" ("email", "is_current")
  [1m[36mSpecSuffix Load (0.1ms)[0m  [1mSELECT "spec_suffixes".* FROM "spec_suffixes" [0m
  [1m[35mSpecPersonName Load (0.1ms)[0m  SELECT "spec_person_names".* FROM "spec_person_names" WHERE "spec_person_names"."first_name" = 'John' AND "spec_person_names"."last_name" = 'Smith' AND "spec_person_names"."spec_suffix_id" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_person_names" ("first_name", "last_name", "spec_suffix_id") VALUES (?, ?, ?)  [["first_name", "John"], ["last_name", "Smith"], ["spec_suffix_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_types"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_suffixes"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_person_names"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_features"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_infos"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customers"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_emails"[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Inactive"], ["name", "inactive"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Active"], ["name", "active"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Important"], ["name", "important"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", ""], ["name", "none"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", "Junior"], ["name", "jr"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE UNIQUE INDEX "index_spec_customer_emails_on_email_and_is_current" ON "spec_customer_emails" ("email", "is_current")
  [1m[36mSpecSuffix Load (0.1ms)[0m  [1mSELECT "spec_suffixes".* FROM "spec_suffixes" [0m
  [1m[35mSpecPersonName Load (0.1ms)[0m  SELECT "spec_person_names".* FROM "spec_person_names" WHERE "spec_person_names"."first_name" = 'John' AND "spec_person_names"."last_name" = 'Smith' AND "spec_person_names"."spec_suffix_id" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_person_names" ("first_name", "last_name", "spec_suffix_id") VALUES (?, ?, ?)  [["first_name", "John"], ["last_name", "Smith"], ["spec_suffix_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_types"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_suffixes"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_person_names"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_features"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_infos"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customers"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_emails"[0m
  [1m[35m (1.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Inactive"], ["name", "inactive"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Active"], ["name", "active"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Important"], ["name", "important"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", ""], ["name", "none"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", "Junior"], ["name", "jr"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE UNIQUE INDEX "index_spec_customer_emails_on_email_and_is_current" ON "spec_customer_emails" ("email", "is_current")
  [1m[36mSpecSuffix Load (0.1ms)[0m  [1mSELECT "spec_suffixes".* FROM "spec_suffixes" [0m
  [1m[35mSpecPersonName Load (0.1ms)[0m  SELECT "spec_person_names".* FROM "spec_person_names" WHERE "spec_person_names"."first_name" = 'John' AND "spec_person_names"."last_name" = 'Smith' AND "spec_person_names"."spec_suffix_id" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_person_names" ("first_name", "last_name", "spec_suffix_id") VALUES (?, ?, ?)  [["first_name", "John"], ["last_name", "Smith"], ["spec_suffix_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSpecCustomerFeature Load (0.1ms)[0m  SELECT "spec_customer_features".* FROM "spec_customer_features" WHERE "spec_customer_features"."feature_name" = 'Pays' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_customer_features" ("feature_name") VALUES (?)  [["feature_name", "Pays"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSpecCustomerFeature Load (0.1ms)[0m  SELECT "spec_customer_features".* FROM "spec_customer_features" WHERE "spec_customer_features"."feature_name" = 'Pays' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_statuses"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_types"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_suffixes"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_person_names"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_features"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_infos"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customers"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_emails"
  [1m[36m (1.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "index_spec_customer_emails_on_email_and_is_current" ON "spec_customer_emails" ("email", "is_current")[0m
  [1m[35mSpecSuffix Load (0.1ms)[0m  SELECT "spec_suffixes".* FROM "spec_suffixes" 
  [1m[36mSpecPersonName Load (0.1ms)[0m  [1mSELECT "spec_person_names".* FROM "spec_person_names" WHERE "spec_person_names"."first_name" = 'John' AND "spec_person_names"."last_name" = 'Smith' AND "spec_person_names"."spec_suffix_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_person_names" ("first_name", "last_name", "spec_suffix_id") VALUES (?, ?, ?)[0m  [["first_name", "John"], ["last_name", "Smith"], ["spec_suffix_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSpecCustomerFeature Load (0.1ms)[0m  [1mSELECT "spec_customer_features".* FROM "spec_customer_features" WHERE "spec_customer_features"."feature_name" = 'Pays' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_customer_features" ("feature_name") VALUES (?)[0m  [["feature_name", "Pays"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSpecCustomerFeature Load (0.1ms)[0m  [1mSELECT "spec_customer_features".* FROM "spec_customer_features" WHERE "spec_customer_features"."feature_name" = 'Fraud' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_customer_features" ("feature_name") VALUES (?)[0m  [["feature_name", "Fraud"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_statuses"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_types"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_suffixes"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_person_names"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_features"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_infos"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customers"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_emails"
  [1m[36m (0.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "index_spec_customer_emails_on_email_and_is_current" ON "spec_customer_emails" ("email", "is_current")[0m
  [1m[35mSpecSuffix Load (0.1ms)[0m  SELECT "spec_suffixes".* FROM "spec_suffixes" 
  [1m[36mSpecPersonName Load (0.1ms)[0m  [1mSELECT "spec_person_names".* FROM "spec_person_names" WHERE "spec_person_names"."first_name" = 'John' AND "spec_person_names"."last_name" = 'Smith' AND "spec_person_names"."spec_suffix_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_person_names" ("first_name", "last_name", "spec_suffix_id") VALUES (?, ?, ?)[0m  [["first_name", "John"], ["last_name", "Smith"], ["spec_suffix_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSpecCustomerFeature Load (0.1ms)[0m  [1mSELECT "spec_customer_features".* FROM "spec_customer_features" WHERE "spec_customer_features"."feature_name" = 'Pays' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_customer_features" ("feature_name") VALUES (?)[0m  [["feature_name", "Pays"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSpecCustomerFeature Load (0.1ms)[0m  [1mSELECT "spec_customer_features".* FROM "spec_customer_features" WHERE "spec_customer_features"."feature_name" = 'Cancelled' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_customer_features" ("feature_name") VALUES (?)[0m  [["feature_name", "Cancelled"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_statuses"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_types"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_suffixes"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_person_names"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_features"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_infos"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customers"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_emails"
  [1m[36m (1.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "index_spec_customer_emails_on_email_and_is_current" ON "spec_customer_emails" ("email", "is_current")[0m
  [1m[35mSpecSuffix Load (0.1ms)[0m  SELECT "spec_suffixes".* FROM "spec_suffixes" 
  [1m[36mSpecPersonName Load (0.1ms)[0m  [1mSELECT "spec_person_names".* FROM "spec_person_names" WHERE "spec_person_names"."first_name" = 'John' AND "spec_person_names"."last_name" = 'Smith' AND "spec_person_names"."spec_suffix_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_person_names" ("first_name", "last_name", "spec_suffix_id") VALUES (?, ?, ?)[0m  [["first_name", "John"], ["last_name", "Smith"], ["spec_suffix_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSpecCustomerFeature Load (0.1ms)[0m  [1mSELECT "spec_customer_features".* FROM "spec_customer_features" WHERE "spec_customer_features"."feature_name" = 'Pays' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_customer_features" ("feature_name") VALUES (?)[0m  [["feature_name", "Pays"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSpecCustomerFeature Load (0.1ms)[0m  [1mSELECT "spec_customer_features".* FROM "spec_customer_features" WHERE "spec_customer_features"."feature_name" = 'Returned' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_customer_features" ("feature_name") VALUES (?)[0m  [["feature_name", "Returned"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_statuses"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_types"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_suffixes"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_person_names"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_features"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_infos"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customers"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_emails"
  [1m[36m (1.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "index_spec_customer_emails_on_email_and_is_current" ON "spec_customer_emails" ("email", "is_current")[0m
  [1m[35mSpecStatus Load (0.1ms)[0m  SELECT "spec_statuses".* FROM "spec_statuses" 
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_customers" ("spec_status_id") VALUES (?)  [["spec_status_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 25 Nov 2013 15:26:27 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", nil], ["spec_customer_id", 1], ["spec_person_name_id", 1], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 15:26:27 UTC +00:00]]
  [1m[35mSpecCustomer Load (0.1ms)[0m  SELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSpecCustomerInfo Load (0.1ms)[0m  SELECT "spec_customer_infos".* FROM "spec_customer_infos" WHERE "spec_customer_infos"."spec_customer_id" = 1 AND "spec_customer_infos"."is_current" = 't' ORDER BY id DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "spec_customer_infos" [0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "spec_customer_infos" SET "is_current" = 'f' , "lock_version" = 1 WHERE "id" = 1 AND "lock_version" = 0[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["created_at", Mon, 25 Nov 2013 15:26:27 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", 1], ["spec_customer_id", 1], ["spec_person_name_id", 2], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 15:26:27 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "spec_customer_infos" 
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_statuses"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_types"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_suffixes"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_person_names"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_features"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_infos"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customers"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_emails"
  [1m[36m (1.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "index_spec_customer_emails_on_email_and_is_current" ON "spec_customer_emails" ("email", "is_current")[0m
  [1m[35mSpecStatus Load (0.1ms)[0m  SELECT "spec_statuses".* FROM "spec_statuses" 
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_customers" ("spec_status_id") VALUES (?)  [["spec_status_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 25 Nov 2013 15:26:27 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", nil], ["spec_customer_id", 1], ["spec_person_name_id", 1], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 15:26:27 UTC +00:00]]
  [1m[35mSpecCustomer Load (0.1ms)[0m  SELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSpecCustomerInfo Load (0.1ms)[0m  SELECT "spec_customer_infos".* FROM "spec_customer_infos" WHERE "spec_customer_infos"."spec_customer_id" = 1 AND "spec_customer_infos"."is_current" = 't' ORDER BY id DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "spec_customer_infos" SET "is_current" = 'f' , "lock_version" = 1 WHERE "id" = 1 AND "lock_version" = 0
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 25 Nov 2013 15:26:28 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", 1], ["spec_customer_id", 1], ["spec_person_name_id", 2], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 15:26:28 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_statuses"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_types"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_suffixes"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_person_names"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_features"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_infos"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customers"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_emails"
  [1m[36m (1.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "index_spec_customer_emails_on_email_and_is_current" ON "spec_customer_emails" ("email", "is_current")[0m
  [1m[35mSpecStatus Load (0.1ms)[0m  SELECT "spec_statuses".* FROM "spec_statuses" 
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_customers" ("spec_status_id") VALUES (?)  [["spec_status_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 25 Nov 2013 15:26:28 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", nil], ["spec_customer_id", 1], ["spec_person_name_id", 1], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 15:26:28 UTC +00:00]]
  [1m[35mSpecCustomer Load (0.1ms)[0m  SELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSpecCustomerInfo Load (0.1ms)[0m  SELECT "spec_customer_infos".* FROM "spec_customer_infos" WHERE "spec_customer_infos"."spec_customer_id" = 1 AND "spec_customer_infos"."is_current" = 't' ORDER BY id DESC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "spec_customer_infos" SET "is_current" = 'f' , "lock_version" = 1 WHERE "id" = 1 AND "lock_version" = 0
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 25 Nov 2013 15:26:28 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", 1], ["spec_customer_id", 1], ["spec_person_name_id", 2], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 15:26:28 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSpecCustomerInfo Load (0.1ms)[0m  [1mSELECT "spec_customer_infos".* FROM "spec_customer_infos" WHERE "spec_customer_infos"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_types"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_suffixes"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_person_names"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_features"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_infos"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customers"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_emails"[0m
  [1m[35m (22.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Inactive"], ["name", "inactive"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Active"], ["name", "active"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Important"], ["name", "important"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", ""], ["name", "none"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", "Junior"], ["name", "jr"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) [0m
  [1m[35m (0.2ms)[0m  CREATE UNIQUE INDEX "index_spec_customer_emails_on_email_and_is_current" ON "spec_customer_emails" ("email", "is_current")
  [1m[36mSpecStatus Load (0.1ms)[0m  [1mSELECT "spec_statuses".* FROM "spec_statuses" [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_customers" ("spec_status_id") VALUES (?)[0m  [["spec_status_id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["created_at", Mon, 25 Nov 2013 15:26:28 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", nil], ["spec_customer_id", 1], ["spec_person_name_id", 1], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 15:26:28 UTC +00:00]]
  [1m[36mSpecCustomer Load (0.1ms)[0m  [1mSELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSpecCustomerInfo Load (0.1ms)[0m  [1mSELECT "spec_customer_infos".* FROM "spec_customer_infos" WHERE "spec_customer_infos"."spec_customer_id" = 1 AND "spec_customer_infos"."is_current" = 't' ORDER BY id DESC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "spec_customer_infos" SET "is_current" = 'f' , "lock_version" = 1 WHERE "id" = 1 AND "lock_version" = 0[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["created_at", Mon, 25 Nov 2013 15:26:28 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", 1], ["spec_customer_id", 1], ["spec_person_name_id", 2], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 15:26:28 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_types"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_suffixes"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_emails"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_person_names"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customers"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_customer_features"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_customer_infos"[0m
  [1m[35m (1.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Inactive"], ["name", "inactive"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Active"], ["name", "active"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Important"], ["name", "important"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", ""], ["name", "none"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", "Junior"], ["name", "jr"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) [0m
  [1m[35m (0.2ms)[0m  CREATE UNIQUE INDEX "index_spec_customer_emails_on_email_and_is_current" ON "spec_customer_emails" ("email", "is_current")
  [1m[36mSpecStatus Load (0.1ms)[0m  [1mSELECT "spec_statuses".* FROM "spec_statuses" [0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_customers" ("spec_status_id") VALUES (?)[0m  [["spec_status_id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["created_at", Mon, 25 Nov 2013 15:26:28 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", nil], ["spec_customer_id", 1], ["spec_person_name_id", 1], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 15:26:28 UTC +00:00]]
  [1m[36mSpecCustomer Load (0.1ms)[0m  [1mSELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSpecCustomerInfo Load (0.1ms)[0m  [1mSELECT "spec_customer_infos".* FROM "spec_customer_infos" WHERE "spec_customer_infos"."spec_customer_id" = 1 AND "spec_customer_infos"."is_current" = 't' ORDER BY id DESC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "spec_customer_infos" SET "is_current" = 'f', "updated_at" = '2013-11-25 15:26:28.544456', "lock_version" = 1 WHERE ("spec_customer_infos"."id" = 1 AND "spec_customer_infos"."lock_version" = 0)[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["created_at", Mon, 25 Nov 2013 15:26:28 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", nil], ["spec_customer_id", 1], ["spec_person_name_id", 2], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 15:26:28 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_types"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_suffixes"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_emails"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_person_names"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customers"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_features"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_infos"[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Inactive"], ["name", "inactive"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Active"], ["name", "active"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Important"], ["name", "important"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", ""], ["name", "none"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", "Junior"], ["name", "jr"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE UNIQUE INDEX "index_spec_customer_emails_on_email_and_is_current" ON "spec_customer_emails" ("email", "is_current")
  [1m[36mSpecStatus Load (0.1ms)[0m  [1mSELECT "spec_statuses".* FROM "spec_statuses" [0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_customers" ("spec_status_id") VALUES (?)[0m  [["spec_status_id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["created_at", Mon, 25 Nov 2013 15:26:28 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", nil], ["spec_customer_id", 1], ["spec_person_name_id", 1], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 15:26:28 UTC +00:00]]
  [1m[36mSpecCustomer Load (0.1ms)[0m  [1mSELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSpecCustomerInfo Load (0.1ms)[0m  [1mSELECT "spec_customer_infos".* FROM "spec_customer_infos" WHERE "spec_customer_infos"."spec_customer_id" = 1 AND "spec_customer_infos"."is_current" = 't' ORDER BY id DESC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_customer_emails" ("email", "is_current", "spec_customer_id", "status") VALUES (?, ?, ?, ?)[0m  [["email", "foo@bar.com"], ["is_current", true], ["spec_customer_id", 1], ["status", "unverified"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "spec_customer_emails" SET "is_current" = 'f' WHERE "id" = 1 
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_customer_emails" ("email", "is_current", "spec_customer_id", "status") VALUES (?, ?, ?, ?)[0m  [["email", "foo@bar.com"], ["is_current", true], ["spec_customer_id", 1], ["status", "verified"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_statuses"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_customer_emails"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_types"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_suffixes"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_infos"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_features"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_person_names"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customers"
  [1m[36m (1.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.2ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "index_spec_customer_emails_on_email_and_is_current" ON "spec_customer_emails" ("email", "is_current")[0m
  [1m[35mSpecStatus Load (0.1ms)[0m  SELECT "spec_statuses".* FROM "spec_statuses" 
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_customers" ("spec_status_id") VALUES (?)  [["spec_status_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 25 Nov 2013 15:26:28 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", nil], ["spec_customer_id", 1], ["spec_person_name_id", 1], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 15:26:28 UTC +00:00]]
  [1m[35mSpecCustomer Load (0.1ms)[0m  SELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSpecCustomerInfo Load (0.1ms)[0m  SELECT "spec_customer_infos".* FROM "spec_customer_infos" WHERE "spec_customer_infos"."spec_customer_id" = 1 AND "spec_customer_infos"."is_current" = 't' ORDER BY id DESC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["created_at", Mon, 16 Jul 2012 00:00:00 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", nil], ["spec_customer_id", 1], ["spec_person_name_id", 1], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 16 Jul 2012 00:00:00 UTC +00:00]]
  [1m[36mSpecCustomer Load (0.0ms)[0m  [1mSELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  UPDATE "spec_customer_infos" SET "is_current" = 'f', "updated_at" = '2012-07-16 00:00:00.000000', "lock_version" = 1 WHERE ("spec_customer_infos"."id" = 1 AND "spec_customer_infos"."lock_version" = 0)
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mUPDATE "spec_customer_infos" SET "is_current" = 'f' , "lock_version" = 1 WHERE "id" = 2 AND "lock_version" = 0[0m
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["created_at", Tue, 17 Jul 2012 08:10:15 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", 2], ["spec_customer_id", 1], ["spec_person_name_id", 2], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Tue, 17 Jul 2012 08:10:15 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_suffixes"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_infos"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_features"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_person_names"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_types"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_emails"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customers"[0m
  [1m[35m (1.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Inactive"], ["name", "inactive"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Active"], ["name", "active"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Important"], ["name", "important"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", ""], ["name", "none"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", "Junior"], ["name", "jr"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE UNIQUE INDEX "index_spec_customer_emails_on_email_and_is_current" ON "spec_customer_emails" ("email", "is_current")
  [1m[36mSpecStatus Load (0.1ms)[0m  [1mSELECT "spec_statuses".* FROM "spec_statuses" [0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_customers" ("spec_status_id") VALUES (?)[0m  [["spec_status_id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["created_at", Mon, 25 Nov 2013 15:26:29 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", nil], ["spec_customer_id", 1], ["spec_person_name_id", 1], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 15:26:29 UTC +00:00]]
  [1m[36mSpecCustomer Load (0.2ms)[0m  [1mSELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSpecCustomerInfo Load (0.1ms)[0m  [1mSELECT "spec_customer_infos".* FROM "spec_customer_infos" WHERE "spec_customer_infos"."spec_customer_id" = 1 AND "spec_customer_infos"."is_current" = 't' ORDER BY id DESC LIMIT 1[0m
  [1m[35mSpecCustomer Load (0.1ms)[0m  SELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSpecCustomerInfo Load (0.1ms)[0m  [1mSELECT "spec_customer_infos".* FROM "spec_customer_infos" WHERE "spec_customer_infos"."spec_customer_id" = 1 AND "spec_customer_infos"."is_current" = 't' ORDER BY id DESC LIMIT 1[0m
  [1m[35mSpecCustomer Load (0.0ms)[0m  SELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSpecCustomerInfo Load (0.1ms)[0m  [1mSELECT "spec_customer_infos".* FROM "spec_customer_infos" WHERE "spec_customer_infos"."spec_customer_id" = 1 AND "spec_customer_infos"."is_current" = 't' ORDER BY id DESC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "spec_customer_infos" SET "is_current" = 'f' , "lock_version" = 1 WHERE "id" = 1 AND "lock_version" = 0[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["created_at", Mon, 25 Nov 2013 15:26:29 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", 1], ["spec_customer_id", 1], ["spec_person_name_id", 3], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 15:26:29 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "spec_customer_infos" SET "is_current" = 'f' , "lock_version" = 1 WHERE "id" = 1 AND "lock_version" = 0[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_statuses"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_suffixes"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_infos"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_features"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_person_names"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_types"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_emails"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customers"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.3ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "index_spec_customer_emails_on_email_and_is_current" ON "spec_customer_emails" ("email", "is_current")[0m
  [1m[35mSpecStatus Load (0.1ms)[0m  SELECT "spec_statuses".* FROM "spec_statuses" 
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_customers" ("spec_status_id") VALUES (?)  [["spec_status_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 25 Nov 2013 15:26:29 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", nil], ["spec_customer_id", 1], ["spec_person_name_id", 1], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 15:26:29 UTC +00:00]]
  [1m[35mSpecCustomer Load (0.1ms)[0m  SELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSpecCustomerInfo Load (0.1ms)[0m  SELECT "spec_customer_infos".* FROM "spec_customer_infos" WHERE "spec_customer_infos"."spec_customer_id" = 1 AND "spec_customer_infos"."is_current" = 't' ORDER BY id DESC LIMIT 1
  [1m[36mSpecCustomer Load (0.1ms)[0m  [1mSELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSpecCustomerInfo Load (0.1ms)[0m  SELECT "spec_customer_infos".* FROM "spec_customer_infos" WHERE "spec_customer_infos"."spec_customer_id" = 1 AND "spec_customer_infos"."is_current" = 't' ORDER BY id DESC LIMIT 1
  [1m[36mSpecCustomer Load (0.0ms)[0m  [1mSELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSpecCustomerInfo Load (0.1ms)[0m  SELECT "spec_customer_infos".* FROM "spec_customer_infos" WHERE "spec_customer_infos"."spec_customer_id" = 1 AND "spec_customer_infos"."is_current" = 't' ORDER BY id DESC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "spec_customer_emails" ("email", "is_current", "spec_customer_id", "status") VALUES (?, ?, ?, ?)  [["email", "foo@bar.com"], ["is_current", nil], ["spec_customer_id", 1], ["status", nil]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "spec_customer_emails" SET "is_current" = 'f' WHERE "id" = 1 [0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_customer_emails" ("email", "is_current", "spec_customer_id", "status") VALUES (?, ?, ?, ?)  [["email", "foo2@bar.com"], ["is_current", nil], ["spec_customer_id", 1], ["status", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_suffixes"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_infos"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_features"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_person_names"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_types"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_emails"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customers"[0m
  [1m[35m (1.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Inactive"], ["name", "inactive"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Active"], ["name", "active"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Important"], ["name", "important"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", ""], ["name", "none"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", "Junior"], ["name", "jr"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE UNIQUE INDEX "index_spec_customer_emails_on_email_and_is_current" ON "spec_customer_emails" ("email", "is_current")
  [1m[36mSpecStatus Load (0.1ms)[0m  [1mSELECT "spec_statuses".* FROM "spec_statuses" [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_customers" ("spec_status_id") VALUES (?)[0m  [["spec_status_id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["created_at", Mon, 25 Nov 2013 15:26:29 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", nil], ["spec_customer_id", 1], ["spec_person_name_id", 1], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 15:26:29 UTC +00:00]]
  [1m[36mSpecCustomer Load (0.1ms)[0m  [1mSELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSpecCustomerInfo Load (0.1ms)[0m  [1mSELECT "spec_customer_infos".* FROM "spec_customer_infos" WHERE "spec_customer_infos"."spec_customer_id" = 1 AND "spec_customer_infos"."is_current" = 't' ORDER BY id DESC LIMIT 1[0m
  [1m[35mSpecSuffix Load (0.1ms)[0m  SELECT "spec_suffixes".* FROM "spec_suffixes" 
  [1m[36mSpecPersonName Load (0.1ms)[0m  [1mSELECT "spec_person_names".* FROM "spec_person_names" WHERE "spec_person_names"."first_name" = 'John' AND "spec_person_names"."last_name" = 'Smith' AND "spec_person_names"."spec_suffix_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_person_names" ("first_name", "last_name", "spec_suffix_id") VALUES (?, ?, ?)[0m  [["first_name", "John"], ["last_name", "Smith"], ["spec_suffix_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSpecCustomerInfo Load (0.2ms)[0m  [1mSELECT "spec_customer_infos".* FROM "spec_customer_infos" WHERE "spec_customer_infos"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSpecPersonName Load (0.1ms)[0m  SELECT "spec_person_names".* FROM "spec_person_names" WHERE "spec_person_names"."id" = 1 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecPersonName Load (0.1ms)[0m  SELECT "spec_person_names".* FROM "spec_person_names" WHERE "spec_person_names"."first_name" = 'Alice' AND "spec_person_names"."last_name" = 'Smith' AND "spec_person_names"."spec_suffix_id" IS NULL LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_person_names" ("first_name", "last_name", "spec_suffix_id") VALUES (?, ?, ?)[0m  [["first_name", "Alice"], ["last_name", "Smith"], ["spec_suffix_id", nil]]
  [1m[35m (0.1ms)[0m  UPDATE "spec_customer_infos" SET "is_current" = 'f' , "lock_version" = 1 WHERE "id" = 1 AND "lock_version" = 0
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 25 Nov 2013 15:26:29 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", 1], ["spec_customer_id", 1], ["spec_person_name_id", 2], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 15:26:29 UTC +00:00]]
  [1m[35mSpecCustomer Load (0.1ms)[0m  SELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSpecCustomerInfo Load (0.1ms)[0m  SELECT "spec_customer_infos".* FROM "spec_customer_infos" WHERE "spec_customer_infos"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_statuses"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_suffixes"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_infos"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_features"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_person_names"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_types"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_customer_emails"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customers"
  [1m[36m (0.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "index_spec_customer_emails_on_email_and_is_current" ON "spec_customer_emails" ("email", "is_current")[0m
  [1m[35mSpecSuffix Load (0.1ms)[0m  SELECT "spec_suffixes".* FROM "spec_suffixes" 
  [1m[36mSpecStatus Load (0.1ms)[0m  [1mSELECT "spec_statuses".* FROM "spec_statuses" [0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_customers" ("spec_status_id") VALUES (?)[0m  [["spec_status_id", 1]]
  [1m[35mSpecPersonName Load (0.1ms)[0m  SELECT "spec_person_names".* FROM "spec_person_names" WHERE "spec_person_names"."first_name" = 'John' AND "spec_person_names"."last_name" = 'Smith' AND "spec_person_names"."spec_suffix_id" IS NULL LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_person_names" ("first_name", "last_name", "spec_suffix_id") VALUES (?, ?, ?)[0m  [["first_name", "John"], ["last_name", "Smith"], ["spec_suffix_id", nil]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["created_at", Mon, 25 Nov 2013 15:26:29 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", nil], ["spec_customer_id", 1], ["spec_person_name_id", 1], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 15:26:29 UTC +00:00]]
  [1m[36mSpecCustomer Load (0.1ms)[0m  [1mSELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_statuses"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_suffixes"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_infos"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_features"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_person_names"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_types"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customers"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_emails"
  [1m[36m (1.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "index_spec_customer_emails_on_email_and_is_current" ON "spec_customer_emails" ("email", "is_current")[0m
  [1m[35mSpecSuffix Load (0.1ms)[0m  SELECT "spec_suffixes".* FROM "spec_suffixes" 
  [1m[36mSpecStatus Load (0.1ms)[0m  [1mSELECT "spec_statuses".* FROM "spec_statuses" [0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_customers" ("spec_status_id") VALUES (?)[0m  [["spec_status_id", 1]]
  [1m[35mSpecPersonName Load (0.1ms)[0m  SELECT "spec_person_names".* FROM "spec_person_names" WHERE "spec_person_names"."first_name" = 'John' AND "spec_person_names"."last_name" = 'Smith' AND "spec_person_names"."spec_suffix_id" IS NULL LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_person_names" ("first_name", "last_name", "spec_suffix_id") VALUES (?, ?, ?)[0m  [["first_name", "John"], ["last_name", "Smith"], ["spec_suffix_id", nil]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["created_at", Mon, 25 Nov 2013 15:26:29 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", nil], ["spec_customer_id", 1], ["spec_person_name_id", 1], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 15:26:29 UTC +00:00]]
  [1m[36mSpecCustomer Load (0.1ms)[0m  [1mSELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_statuses"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_suffixes"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customers"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_person_names"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_features"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_infos"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_types"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_emails"
  [1m[36m (0.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "index_spec_customer_emails_on_email_and_is_current" ON "spec_customer_emails" ("email", "is_current")[0m
  [1m[35mSpecSuffix Load (0.1ms)[0m  SELECT "spec_suffixes".* FROM "spec_suffixes" 
  [1m[36mSpecStatus Load (0.1ms)[0m  [1mSELECT "spec_statuses".* FROM "spec_statuses" [0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_customers" ("spec_status_id") VALUES (?)[0m  [["spec_status_id", 1]]
  [1m[35mSpecPersonName Load (0.1ms)[0m  SELECT "spec_person_names".* FROM "spec_person_names" WHERE "spec_person_names"."first_name" = 'John' AND "spec_person_names"."last_name" = 'Smith' AND "spec_person_names"."spec_suffix_id" IS NULL LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_person_names" ("first_name", "last_name", "spec_suffix_id") VALUES (?, ?, ?)[0m  [["first_name", "John"], ["last_name", "Smith"], ["spec_suffix_id", nil]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["created_at", Mon, 25 Nov 2013 15:26:30 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", nil], ["spec_customer_id", 1], ["spec_person_name_id", 1], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 15:26:30 UTC +00:00]]
  [1m[36mSpecCustomer Load (0.1ms)[0m  [1mSELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_statuses"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_suffixes"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customers"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_person_names"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_features"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_infos"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_types"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_emails"
  [1m[36m (1.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "index_spec_customer_emails_on_email_and_is_current" ON "spec_customer_emails" ("email", "is_current")[0m
  [1m[35mSpecSuffix Load (0.1ms)[0m  SELECT "spec_suffixes".* FROM "spec_suffixes" 
  [1m[36mSpecStatus Load (0.1ms)[0m  [1mSELECT "spec_statuses".* FROM "spec_statuses" [0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_customers" ("spec_status_id") VALUES (?)[0m  [["spec_status_id", 1]]
  [1m[35mSpecPersonName Load (0.1ms)[0m  SELECT "spec_person_names".* FROM "spec_person_names" WHERE "spec_person_names"."first_name" = 'John' AND "spec_person_names"."last_name" = 'Smith' AND "spec_person_names"."spec_suffix_id" IS NULL LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_person_names" ("first_name", "last_name", "spec_suffix_id") VALUES (?, ?, ?)[0m  [["first_name", "John"], ["last_name", "Smith"], ["spec_suffix_id", nil]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["created_at", Mon, 25 Nov 2013 15:26:30 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", nil], ["spec_customer_id", 1], ["spec_person_name_id", 1], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 15:26:30 UTC +00:00]]
  [1m[36mSpecCustomer Load (0.1ms)[0m  [1mSELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_statuses"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_suffixes"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customers"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_person_names"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_features"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_emails"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_infos"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_types"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "index_spec_customer_emails_on_email_and_is_current" ON "spec_customer_emails" ("email", "is_current")[0m
  [1m[35mSpecSuffix Load (0.1ms)[0m  SELECT "spec_suffixes".* FROM "spec_suffixes" 
  [1m[36mSpecStatus Load (0.1ms)[0m  [1mSELECT "spec_statuses".* FROM "spec_statuses" [0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_customers" ("spec_status_id") VALUES (?)[0m  [["spec_status_id", 1]]
  [1m[35mSpecPersonName Load (0.1ms)[0m  SELECT "spec_person_names".* FROM "spec_person_names" WHERE "spec_person_names"."first_name" = 'John' AND "spec_person_names"."last_name" = 'Smith' AND "spec_person_names"."spec_suffix_id" IS NULL LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_person_names" ("first_name", "last_name", "spec_suffix_id") VALUES (?, ?, ?)[0m  [["first_name", "John"], ["last_name", "Smith"], ["spec_suffix_id", nil]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["created_at", Mon, 25 Nov 2013 15:26:30 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", nil], ["spec_customer_id", 1], ["spec_person_name_id", 1], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 15:26:30 UTC +00:00]]
  [1m[36mSpecCustomer Load (0.1ms)[0m  [1mSELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSpecType Load (0.1ms)[0m  [1mSELECT "spec_types".* FROM "spec_types" [0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_types"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_suffixes"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customers"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_person_names"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_features"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_emails"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_infos"[0m
  [1m[35m (1.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Inactive"], ["name", "inactive"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Active"], ["name", "active"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Important"], ["name", "important"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", ""], ["name", "none"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", "Junior"], ["name", "jr"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE UNIQUE INDEX "index_spec_customer_emails_on_email_and_is_current" ON "spec_customer_emails" ("email", "is_current")
  [1m[36mSpecSuffix Load (0.1ms)[0m  [1mSELECT "spec_suffixes".* FROM "spec_suffixes" [0m
  [1m[35mSpecStatus Load (0.1ms)[0m  SELECT "spec_statuses".* FROM "spec_statuses" 
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_customers" ("spec_status_id") VALUES (?)  [["spec_status_id", 1]]
  [1m[36mSpecPersonName Load (0.1ms)[0m  [1mSELECT "spec_person_names".* FROM "spec_person_names" WHERE "spec_person_names"."first_name" = 'John' AND "spec_person_names"."last_name" = 'Smith' AND "spec_person_names"."spec_suffix_id" IS NULL LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_person_names" ("first_name", "last_name", "spec_suffix_id") VALUES (?, ?, ?)  [["first_name", "John"], ["last_name", "Smith"], ["spec_suffix_id", nil]]
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 25 Nov 2013 15:26:30 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", nil], ["spec_customer_id", 1], ["spec_person_name_id", 1], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 15:26:30 UTC +00:00]]
  [1m[35mSpecCustomer Load (0.1ms)[0m  SELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_types"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_suffixes"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customers"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_person_names"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_features"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_emails"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_infos"[0m
  [1m[35m (1.1ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_posts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_author_id" integer, "body" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_authors" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_post_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_post_id" integer, "ip" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_comments" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_post_id" integer, "body" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (2.5ms)[0m  INSERT INTO "spec_authors" ("name") VALUES (?)  [["name", "John"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (2.7ms)[0m  [1mINSERT INTO "spec_posts" ("body", "spec_author_id") VALUES (?, ?)[0m  [["body", "Post Body"], ["spec_author_id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_comments" ("body", "spec_post_id") VALUES (?, ?)  [["body", "Fabulous!"], ["spec_post_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_post_infos" ("ip", "spec_post_id") VALUES (?, ?)[0m  [["ip", "127.0.0.1"], ["spec_post_id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSpecPostInfo Load (0.1ms)[0m  [1mSELECT "spec_post_infos".* FROM "spec_post_infos" WHERE "spec_post_infos"."spec_post_id" = 1 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_posts"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_authors"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_post_infos"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_comments"[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "spec_posts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_author_id" integer, "body" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_authors" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_post_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_post_id" integer, "ip" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_comments" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_post_id" integer, "body" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "spec_authors" ("name") VALUES (?)[0m  [["name", "John"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_posts" ("body", "spec_author_id") VALUES (?, ?)  [["body", "Post Body"], ["spec_author_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_comments" ("body", "spec_post_id") VALUES (?, ?)[0m  [["body", "Fabulous!"], ["spec_post_id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_post_infos" ("ip", "spec_post_id") VALUES (?, ?)  [["ip", "127.0.0.1"], ["spec_post_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSpecPostInfo Load (0.1ms)[0m  SELECT "spec_post_infos".* FROM "spec_post_infos" WHERE "spec_post_infos"."spec_post_id" = 1 LIMIT 1
  [1m[36mSpecPost Load (0.1ms)[0m  [1mSELECT "spec_posts".* FROM "spec_posts" LIMIT 1[0m
  [1m[35mSpecComment Load (0.2ms)[0m  SELECT "spec_comments".* FROM "spec_comments" WHERE "spec_comments"."spec_post_id" IN (1)
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_posts"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_authors"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_post_infos"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_comments"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spec_posts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_author_id" integer, "body" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_authors" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_post_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_post_id" integer, "ip" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_comments" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_post_id" integer, "body" varchar(255)) 
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "spec_authors" ("name") VALUES (?)  [["name", "John"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_posts" ("body", "spec_author_id") VALUES (?, ?)[0m  [["body", "Post Body"], ["spec_author_id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_comments" ("body", "spec_post_id") VALUES (?, ?)  [["body", "Fabulous!"], ["spec_post_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_post_infos" ("ip", "spec_post_id") VALUES (?, ?)[0m  [["ip", "127.0.0.1"], ["spec_post_id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSpecPostInfo Load (0.1ms)[0m  [1mSELECT "spec_post_infos".* FROM "spec_post_infos" WHERE "spec_post_infos"."spec_post_id" = 1 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_authors"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_post_infos"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_comments"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_posts"[0m
  [1m[35m (1.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "spec_posts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_author_id" integer, "body" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_authors" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_post_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_post_id" integer, "ip" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_comments" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_post_id" integer, "body" varchar(255)) [0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "spec_authors" ("name") VALUES (?)[0m  [["name", "John"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_posts" ("body", "spec_author_id") VALUES (?, ?)  [["body", "Post Body"], ["spec_author_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_comments" ("body", "spec_post_id") VALUES (?, ?)[0m  [["body", "Fabulous!"], ["spec_post_id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_post_infos" ("ip", "spec_post_id") VALUES (?, ?)  [["ip", "127.0.0.1"], ["spec_post_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSpecPostInfo Load (0.1ms)[0m  SELECT "spec_post_infos".* FROM "spec_post_infos" WHERE "spec_post_infos"."spec_post_id" = 1 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_authors"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_post_infos"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_comments"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_posts"
  [1m[36m (1.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spec_posts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_author_id" integer, "body" varchar(255)) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_authors" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_post_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_post_id" integer, "ip" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_comments" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_post_id" integer, "body" varchar(255)) 
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "spec_authors" ("name") VALUES (?)  [["name", "John"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_posts" ("body", "spec_author_id") VALUES (?, ?)[0m  [["body", "Post Body"], ["spec_author_id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_comments" ("body", "spec_post_id") VALUES (?, ?)  [["body", "Fabulous!"], ["spec_post_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "spec_post_infos" ("ip", "spec_post_id") VALUES (?, ?)[0m  [["ip", "127.0.0.1"], ["spec_post_id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSpecPostInfo Load (0.1ms)[0m  [1mSELECT "spec_post_infos".* FROM "spec_post_infos" WHERE "spec_post_infos"."spec_post_id" = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_authors"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_post_infos"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_comments"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_posts"[0m
  [1m[35m (1.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "spec_posts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_author_id" integer, "body" varchar(255)) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spec_authors" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_post_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_post_id" integer, "ip" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_comments" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_post_id" integer, "body" varchar(255)) [0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "spec_authors" ("name") VALUES (?)[0m  [["name", "John"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_posts" ("body", "spec_author_id") VALUES (?, ?)  [["body", "Post Body"], ["spec_author_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_comments" ("body", "spec_post_id") VALUES (?, ?)[0m  [["body", "Fabulous!"], ["spec_post_id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_post_infos" ("ip", "spec_post_id") VALUES (?, ?)  [["ip", "127.0.0.1"], ["spec_post_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSpecPostInfo Load (0.1ms)[0m  SELECT "spec_post_infos".* FROM "spec_post_infos" WHERE "spec_post_infos"."spec_post_id" = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_authors"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_post_infos"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_comments"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_posts"
  [1m[36m (1.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spec_posts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_author_id" integer, "body" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_authors" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_post_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_post_id" integer, "ip" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_comments" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_post_id" integer, "body" varchar(255)) 
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "spec_authors" ("name") VALUES (?)  [["name", "John"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_posts" ("body", "spec_author_id") VALUES (?, ?)[0m  [["body", "Post Body"], ["spec_author_id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_comments" ("body", "spec_post_id") VALUES (?, ?)  [["body", "Fabulous!"], ["spec_post_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_post_infos" ("ip", "spec_post_id") VALUES (?, ?)[0m  [["ip", "127.0.0.1"], ["spec_post_id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSpecPostInfo Load (0.1ms)[0m  [1mSELECT "spec_post_infos".* FROM "spec_post_infos" WHERE "spec_post_infos"."spec_post_id" = 1 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_authors"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_post_infos"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_comments"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_posts"[0m
  [1m[35m (1.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "spec_posts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_author_id" integer, "body" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_authors" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_post_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_post_id" integer, "ip" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_comments" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_post_id" integer, "body" varchar(255)) [0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "spec_authors" ("name") VALUES (?)[0m  [["name", "John"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_posts" ("body", "spec_author_id") VALUES (?, ?)  [["body", "Post Body"], ["spec_author_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_comments" ("body", "spec_post_id") VALUES (?, ?)[0m  [["body", "Fabulous!"], ["spec_post_id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_post_infos" ("ip", "spec_post_id") VALUES (?, ?)  [["ip", "127.0.0.1"], ["spec_post_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSpecPostInfo Load (0.1ms)[0m  SELECT "spec_post_infos".* FROM "spec_post_infos" WHERE "spec_post_infos"."spec_post_id" = 1 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_authors"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_post_infos"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_comments"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_posts"
  [1m[36m (1.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spec_posts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_author_id" integer, "body" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_authors" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_post_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_post_id" integer, "ip" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_comments" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_post_id" integer, "body" varchar(255)) 
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "spec_authors" ("name") VALUES (?)  [["name", "John"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_posts" ("body", "spec_author_id") VALUES (?, ?)[0m  [["body", "Post Body"], ["spec_author_id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_comments" ("body", "spec_post_id") VALUES (?, ?)  [["body", "Fabulous!"], ["spec_post_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_post_infos" ("ip", "spec_post_id") VALUES (?, ?)[0m  [["ip", "127.0.0.1"], ["spec_post_id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSpecPostInfo Load (0.1ms)[0m  [1mSELECT "spec_post_infos".* FROM "spec_post_infos" WHERE "spec_post_infos"."spec_post_id" = 1 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_authors"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_post_infos"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_comments"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_posts"[0m
  [1m[35m (1.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "spec_posts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_author_id" integer, "body" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_authors" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_post_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_post_id" integer, "ip" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_comments" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_post_id" integer, "body" varchar(255)) [0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "spec_authors" ("name") VALUES (?)[0m  [["name", "John"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_posts" ("body", "spec_author_id") VALUES (?, ?)  [["body", "Post Body"], ["spec_author_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_comments" ("body", "spec_post_id") VALUES (?, ?)[0m  [["body", "Fabulous!"], ["spec_post_id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_post_infos" ("ip", "spec_post_id") VALUES (?, ?)  [["ip", "127.0.0.1"], ["spec_post_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSpecPostInfo Load (0.1ms)[0m  SELECT "spec_post_infos".* FROM "spec_post_infos" WHERE "spec_post_infos"."spec_post_id" = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_authors"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_post_infos"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_comments"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_posts"
  [1m[36m (1.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spec_posts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_author_id" integer, "body" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_authors" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_post_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_post_id" integer, "ip" varchar(255)) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_comments" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_post_id" integer, "body" varchar(255)) 
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "spec_authors" ("name") VALUES (?)  [["name", "John"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_posts" ("body", "spec_author_id") VALUES (?, ?)[0m  [["body", "Post Body"], ["spec_author_id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_comments" ("body", "spec_post_id") VALUES (?, ?)  [["body", "Fabulous!"], ["spec_post_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_post_infos" ("ip", "spec_post_id") VALUES (?, ?)[0m  [["ip", "127.0.0.1"], ["spec_post_id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSpecPostInfo Load (0.1ms)[0m  [1mSELECT "spec_post_infos".* FROM "spec_post_infos" WHERE "spec_post_infos"."spec_post_id" = 1 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_authors"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_post_infos"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_comments"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_posts"[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "spec_posts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_author_id" integer, "body" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_authors" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_post_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_post_id" integer, "ip" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_comments" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_post_id" integer, "body" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "spec_authors" ("name") VALUES (?)[0m  [["name", "John"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_posts" ("body", "spec_author_id") VALUES (?, ?)  [["body", "Post Body"], ["spec_author_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_comments" ("body", "spec_post_id") VALUES (?, ?)[0m  [["body", "Fabulous!"], ["spec_post_id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_post_infos" ("ip", "spec_post_id") VALUES (?, ?)  [["ip", "127.0.0.1"], ["spec_post_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSpecPostInfo Load (0.1ms)[0m  SELECT "spec_post_infos".* FROM "spec_post_infos" WHERE "spec_post_infos"."spec_post_id" = 1 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_authors"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_post_infos"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_comments"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_posts"
  [1m[36m (1.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spec_posts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_author_id" integer, "body" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_authors" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_post_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_post_id" integer, "ip" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_comments" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_post_id" integer, "body" varchar(255)) 
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "spec_authors" ("name") VALUES (?)  [["name", "John"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_posts" ("body", "spec_author_id") VALUES (?, ?)[0m  [["body", "Post Body"], ["spec_author_id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_comments" ("body", "spec_post_id") VALUES (?, ?)  [["body", "Fabulous!"], ["spec_post_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_post_infos" ("ip", "spec_post_id") VALUES (?, ?)[0m  [["ip", "127.0.0.1"], ["spec_post_id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSpecPostInfo Load (0.1ms)[0m  [1mSELECT "spec_post_infos".* FROM "spec_post_infos" WHERE "spec_post_infos"."spec_post_id" = 1 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_authors"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_post_infos"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_comments"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_posts"[0m
  [1m[35m (1.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "spec_posts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_author_id" integer, "body" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_authors" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_post_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_post_id" integer, "ip" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_comments" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_post_id" integer, "body" varchar(255)) [0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "spec_authors" ("name") VALUES (?)[0m  [["name", "John"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_posts" ("body", "spec_author_id") VALUES (?, ?)  [["body", "Post Body"], ["spec_author_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_comments" ("body", "spec_post_id") VALUES (?, ?)[0m  [["body", "Fabulous!"], ["spec_post_id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_post_infos" ("ip", "spec_post_id") VALUES (?, ?)  [["ip", "127.0.0.1"], ["spec_post_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSpecPostInfo Load (0.1ms)[0m  SELECT "spec_post_infos".* FROM "spec_post_infos" WHERE "spec_post_infos"."spec_post_id" = 1 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_authors"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_post_infos"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_comments"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_posts"
  [1m[36m (1.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spec_posts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_author_id" integer, "body" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_authors" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_post_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_post_id" integer, "ip" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_comments" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_post_id" integer, "body" varchar(255)) 
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "spec_authors" ("name") VALUES (?)  [["name", "John"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_posts" ("body", "spec_author_id") VALUES (?, ?)[0m  [["body", "Post Body"], ["spec_author_id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_comments" ("body", "spec_post_id") VALUES (?, ?)  [["body", "Fabulous!"], ["spec_post_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_post_infos" ("ip", "spec_post_id") VALUES (?, ?)[0m  [["ip", "127.0.0.1"], ["spec_post_id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSpecPostInfo Load (0.1ms)[0m  [1mSELECT "spec_post_infos".* FROM "spec_post_infos" WHERE "spec_post_infos"."spec_post_id" = 1 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_authors"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_post_infos"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_comments"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_posts"[0m
  [1m[35m (1.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "spec_posts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_author_id" integer, "body" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_authors" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_post_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_post_id" integer, "ip" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_comments" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_post_id" integer, "body" varchar(255)) [0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "spec_authors" ("name") VALUES (?)[0m  [["name", "John"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_posts" ("body", "spec_author_id") VALUES (?, ?)  [["body", "Post Body"], ["spec_author_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_comments" ("body", "spec_post_id") VALUES (?, ?)[0m  [["body", "Fabulous!"], ["spec_post_id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_post_infos" ("ip", "spec_post_id") VALUES (?, ?)  [["ip", "127.0.0.1"], ["spec_post_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSpecPostInfo Load (0.1ms)[0m  SELECT "spec_post_infos".* FROM "spec_post_infos" WHERE "spec_post_infos"."spec_post_id" = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_authors"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_post_infos"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_comments"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_posts"
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spec_posts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_author_id" integer, "body" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_authors" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_post_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_post_id" integer, "ip" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_comments" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_post_id" integer, "body" varchar(255)) 
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "spec_authors" ("name") VALUES (?)  [["name", "John"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_posts" ("body", "spec_author_id") VALUES (?, ?)[0m  [["body", "Post Body"], ["spec_author_id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_comments" ("body", "spec_post_id") VALUES (?, ?)  [["body", "Fabulous!"], ["spec_post_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_post_infos" ("ip", "spec_post_id") VALUES (?, ?)[0m  [["ip", "127.0.0.1"], ["spec_post_id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSpecPostInfo Load (0.1ms)[0m  [1mSELECT "spec_post_infos".* FROM "spec_post_infos" WHERE "spec_post_infos"."spec_post_id" = 1 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_authors"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_post_infos"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_comments"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_posts"[0m
  [1m[35m (0.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "spec_posts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_author_id" integer, "body" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_authors" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_post_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_post_id" integer, "ip" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_comments" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_post_id" integer, "body" varchar(255)) [0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "spec_authors" ("name") VALUES (?)[0m  [["name", "John"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_posts" ("body", "spec_author_id") VALUES (?, ?)  [["body", "Post Body"], ["spec_author_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_comments" ("body", "spec_post_id") VALUES (?, ?)[0m  [["body", "Fabulous!"], ["spec_post_id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_post_infos" ("ip", "spec_post_id") VALUES (?, ?)  [["ip", "127.0.0.1"], ["spec_post_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSpecPostInfo Load (0.1ms)[0m  SELECT "spec_post_infos".* FROM "spec_post_infos" WHERE "spec_post_infos"."spec_post_id" = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_authors"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_post_infos"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_comments"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_posts"
  [1m[36m (1.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spec_posts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_author_id" integer, "body" varchar(255)) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_authors" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_post_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_post_id" integer, "ip" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_comments" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_post_id" integer, "body" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "spec_authors" ("name") VALUES (?)  [["name", "John"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_posts" ("body", "spec_author_id") VALUES (?, ?)[0m  [["body", "Post Body"], ["spec_author_id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_comments" ("body", "spec_post_id") VALUES (?, ?)  [["body", "Fabulous!"], ["spec_post_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_post_infos" ("ip", "spec_post_id") VALUES (?, ?)[0m  [["ip", "127.0.0.1"], ["spec_post_id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSpecPostInfo Load (0.1ms)[0m  [1mSELECT "spec_post_infos".* FROM "spec_post_infos" WHERE "spec_post_infos"."spec_post_id" = 1 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_authors"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_post_infos"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_comments"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_posts"[0m
  [1m[35m (1.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Inactive"], ["name", "inactive"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Active"], ["name", "active"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Important"], ["name", "important"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", ""], ["name", "none"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", "Junior"], ["name", "jr"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE UNIQUE INDEX "index_spec_customer_emails_on_email_and_is_current" ON "spec_customer_emails" ("email", "is_current")
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["created_at", Wed, 20 Nov 2013 15:30:57 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", nil], ["spec_customer_id", 1], ["spec_person_name_id", 1], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Wed, 20 Nov 2013 15:30:57 UTC +00:00]]
  [1m[36mSpecCustomer Load (0.1ms)[0m  [1mSELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "spec_customer_infos" [0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecCustomer Load (0.1ms)[0m  [1mSELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1[0m
  [1m[35mSpecCustomer Load (0.0ms)[0m  SELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mUPDATE "spec_customer_infos" SET "is_current" = 'f' , "lock_version" = 1 WHERE "id" = 1 AND "lock_version" = 0[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["created_at", Mon, 25 Nov 2013 15:30:57 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", 1], ["spec_customer_id", nil], ["spec_person_name_id", 2], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 15:30:57 UTC +00:00]]
SQLite3::ConstraintException: spec_customer_infos.spec_customer_id may not be NULL: INSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_types"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_suffixes"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_person_names"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_features"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_infos"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_emails"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customers"[0m
  [1m[35m (1.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Inactive"], ["name", "inactive"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Active"], ["name", "active"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Important"], ["name", "important"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.3ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", ""], ["name", "none"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", "Junior"], ["name", "jr"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE UNIQUE INDEX "index_spec_customer_emails_on_email_and_is_current" ON "spec_customer_emails" ("email", "is_current")
  [1m[36mSpecSuffix Load (0.1ms)[0m  [1mSELECT "spec_suffixes".* FROM "spec_suffixes" [0m
  [1m[35mSpecPersonName Load (0.1ms)[0m  SELECT "spec_person_names".* FROM "spec_person_names" WHERE "spec_person_names"."first_name" = 'John' AND "spec_person_names"."last_name" = 'Smith' AND "spec_person_names"."spec_suffix_id" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_person_names" ("first_name", "last_name", "spec_suffix_id") VALUES (?, ?, ?)  [["first_name", "John"], ["last_name", "Smith"], ["spec_suffix_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "spec_person_names" 
  [1m[36mSpecPersonName Load (0.2ms)[0m  [1mSELECT "spec_person_names".* FROM "spec_person_names" WHERE "spec_person_names"."first_name" = 'John' AND "spec_person_names"."last_name" = 'Smith' AND "spec_person_names"."spec_suffix_id" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "spec_person_names" 
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_statuses"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_types"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_suffixes"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_person_names"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_features"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_infos"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customers"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_emails"
  [1m[36m (1.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "index_spec_customer_emails_on_email_and_is_current" ON "spec_customer_emails" ("email", "is_current")[0m
  [1m[35mSpecSuffix Load (0.1ms)[0m  SELECT "spec_suffixes".* FROM "spec_suffixes" 
  [1m[36mSpecPersonName Load (0.1ms)[0m  [1mSELECT "spec_person_names".* FROM "spec_person_names" WHERE "spec_person_names"."first_name" = 'John' AND "spec_person_names"."last_name" = 'Smith' AND "spec_person_names"."spec_suffix_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_person_names" ("first_name", "last_name", "spec_suffix_id") VALUES (?, ?, ?)[0m  [["first_name", "John"], ["last_name", "Smith"], ["spec_suffix_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSpecPersonName Load (0.1ms)[0m  [1mSELECT "spec_person_names".* FROM "spec_person_names" WHERE "spec_person_names"."first_name" = 'John' AND "spec_person_names"."last_name" = 'Smith' AND "spec_person_names"."spec_suffix_id" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_types"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_suffixes"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_person_names"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_features"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_infos"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customers"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_emails"[0m
  [1m[35m (1.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Inactive"], ["name", "inactive"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Active"], ["name", "active"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Important"], ["name", "important"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", ""], ["name", "none"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", "Junior"], ["name", "jr"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE UNIQUE INDEX "index_spec_customer_emails_on_email_and_is_current" ON "spec_customer_emails" ("email", "is_current")
  [1m[36mSpecSuffix Load (0.1ms)[0m  [1mSELECT "spec_suffixes".* FROM "spec_suffixes" [0m
  [1m[35mSpecPersonName Load (0.1ms)[0m  SELECT "spec_person_names".* FROM "spec_person_names" WHERE "spec_person_names"."first_name" = 'John' AND "spec_person_names"."last_name" = 'Smith' AND "spec_person_names"."spec_suffix_id" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_person_names" ("first_name", "last_name", "spec_suffix_id") VALUES (?, ?, ?)  [["first_name", "John"], ["last_name", "Smith"], ["spec_suffix_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "spec_person_names" 
  [1m[36mSpecPersonName Load (0.1ms)[0m  [1mSELECT "spec_person_names".* FROM "spec_person_names" WHERE "spec_person_names"."first_name" = 'Alice' AND "spec_person_names"."last_name" = 'Smith' AND "spec_person_names"."spec_suffix_id" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_person_names" ("first_name", "last_name", "spec_suffix_id") VALUES (?, ?, ?)[0m  [["first_name", "Alice"], ["last_name", "Smith"], ["spec_suffix_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "spec_person_names" [0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_types"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_suffixes"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_person_names"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_features"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_infos"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_emails"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customers"[0m
  [1m[35m (1.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Inactive"], ["name", "inactive"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Active"], ["name", "active"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Important"], ["name", "important"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", ""], ["name", "none"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", "Junior"], ["name", "jr"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE UNIQUE INDEX "index_spec_customer_emails_on_email_and_is_current" ON "spec_customer_emails" ("email", "is_current")
  [1m[36mSpecSuffix Load (0.1ms)[0m  [1mSELECT "spec_suffixes".* FROM "spec_suffixes" [0m
  [1m[35mSpecPersonName Load (0.1ms)[0m  SELECT "spec_person_names".* FROM "spec_person_names" WHERE "spec_person_names"."first_name" = 'John' AND "spec_person_names"."last_name" = 'Smith' AND "spec_person_names"."spec_suffix_id" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_person_names" ("first_name", "last_name", "spec_suffix_id") VALUES (?, ?, ?)  [["first_name", "John"], ["last_name", "Smith"], ["spec_suffix_id", nil]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSpecPersonName Load (0.1ms)[0m  SELECT "spec_person_names".* FROM "spec_person_names" WHERE "spec_person_names"."first_name" = 'Alice' AND "spec_person_names"."last_name" = 'Smith' AND "spec_person_names"."spec_suffix_id" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_person_names" ("first_name", "last_name", "spec_suffix_id") VALUES (?, ?, ?)  [["first_name", "Alice"], ["last_name", "Smith"], ["spec_suffix_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecPersonName Load (0.1ms)[0m  [1mSELECT "spec_person_names".* FROM "spec_person_names" WHERE "spec_person_names"."first_name" = 'John' AND "spec_person_names"."last_name" = 'Smith' AND "spec_person_names"."spec_suffix_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_statuses"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_types"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_suffixes"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_person_names"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_features"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_infos"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_emails"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customers"
  [1m[36m (1.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "index_spec_customer_emails_on_email_and_is_current" ON "spec_customer_emails" ("email", "is_current")[0m
  [1m[35mSpecSuffix Load (0.1ms)[0m  SELECT "spec_suffixes".* FROM "spec_suffixes" 
  [1m[36mSpecPersonName Load (0.1ms)[0m  [1mSELECT "spec_person_names".* FROM "spec_person_names" WHERE "spec_person_names"."first_name" = 'John' AND "spec_person_names"."last_name" = 'Smith' AND "spec_person_names"."spec_suffix_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_person_names" ("first_name", "last_name", "spec_suffix_id") VALUES (?, ?, ?)[0m  [["first_name", "John"], ["last_name", "Smith"], ["spec_suffix_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_statuses"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_types"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_suffixes"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_person_names"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_features"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_infos"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_emails"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customers"
  [1m[36m (1.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "index_spec_customer_emails_on_email_and_is_current" ON "spec_customer_emails" ("email", "is_current")[0m
  [1m[35mSpecSuffix Load (0.1ms)[0m  SELECT "spec_suffixes".* FROM "spec_suffixes" 
  [1m[36mSpecPersonName Load (0.1ms)[0m  [1mSELECT "spec_person_names".* FROM "spec_person_names" WHERE "spec_person_names"."first_name" = 'John' AND "spec_person_names"."last_name" = 'Smith' AND "spec_person_names"."spec_suffix_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_person_names" ("first_name", "last_name", "spec_suffix_id") VALUES (?, ?, ?)[0m  [["first_name", "John"], ["last_name", "Smith"], ["spec_suffix_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_statuses"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_types"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_suffixes"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_person_names"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_features"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_infos"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_emails"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customers"
  [1m[36m (1.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "index_spec_customer_emails_on_email_and_is_current" ON "spec_customer_emails" ("email", "is_current")[0m
  [1m[35mSpecSuffix Load (0.1ms)[0m  SELECT "spec_suffixes".* FROM "spec_suffixes" 
  [1m[36mSpecPersonName Load (0.1ms)[0m  [1mSELECT "spec_person_names".* FROM "spec_person_names" WHERE "spec_person_names"."first_name" = 'John' AND "spec_person_names"."last_name" = 'Smith' AND "spec_person_names"."spec_suffix_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_person_names" ("first_name", "last_name", "spec_suffix_id") VALUES (?, ?, ?)[0m  [["first_name", "John"], ["last_name", "Smith"], ["spec_suffix_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSpecCustomerFeature Load (0.1ms)[0m  [1mSELECT "spec_customer_features".* FROM "spec_customer_features" WHERE "spec_customer_features"."feature_name" = 'Pays' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_customer_features" ("feature_name") VALUES (?)[0m  [["feature_name", "Pays"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSpecCustomerFeature Load (0.1ms)[0m  [1mSELECT "spec_customer_features".* FROM "spec_customer_features" WHERE "spec_customer_features"."feature_name" = 'Pays' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_customer_emails"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customers"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_types"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_suffixes"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_person_names"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_features"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_infos"[0m
  [1m[35m (1.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Inactive"], ["name", "inactive"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Active"], ["name", "active"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Important"], ["name", "important"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", ""], ["name", "none"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", "Junior"], ["name", "jr"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE UNIQUE INDEX "index_spec_customer_emails_on_email_and_is_current" ON "spec_customer_emails" ("email", "is_current")
  [1m[36mSpecSuffix Load (0.1ms)[0m  [1mSELECT "spec_suffixes".* FROM "spec_suffixes" [0m
  [1m[35mSpecPersonName Load (0.1ms)[0m  SELECT "spec_person_names".* FROM "spec_person_names" WHERE "spec_person_names"."first_name" = 'John' AND "spec_person_names"."last_name" = 'Smith' AND "spec_person_names"."spec_suffix_id" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_person_names" ("first_name", "last_name", "spec_suffix_id") VALUES (?, ?, ?)  [["first_name", "John"], ["last_name", "Smith"], ["spec_suffix_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSpecCustomerFeature Load (0.1ms)[0m  SELECT "spec_customer_features".* FROM "spec_customer_features" WHERE "spec_customer_features"."feature_name" = 'Pays' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_customer_features" ("feature_name") VALUES (?)  [["feature_name", "Pays"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSpecCustomerFeature Load (0.1ms)[0m  SELECT "spec_customer_features".* FROM "spec_customer_features" WHERE "spec_customer_features"."feature_name" = 'Fraud' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_customer_features" ("feature_name") VALUES (?)  [["feature_name", "Fraud"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_emails"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customers"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_types"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_suffixes"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_person_names"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_features"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_infos"[0m
  [1m[35m (1.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Inactive"], ["name", "inactive"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Active"], ["name", "active"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Important"], ["name", "important"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", ""], ["name", "none"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", "Junior"], ["name", "jr"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE UNIQUE INDEX "index_spec_customer_emails_on_email_and_is_current" ON "spec_customer_emails" ("email", "is_current")
  [1m[36mSpecSuffix Load (0.1ms)[0m  [1mSELECT "spec_suffixes".* FROM "spec_suffixes" [0m
  [1m[35mSpecPersonName Load (0.1ms)[0m  SELECT "spec_person_names".* FROM "spec_person_names" WHERE "spec_person_names"."first_name" = 'John' AND "spec_person_names"."last_name" = 'Smith' AND "spec_person_names"."spec_suffix_id" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_person_names" ("first_name", "last_name", "spec_suffix_id") VALUES (?, ?, ?)  [["first_name", "John"], ["last_name", "Smith"], ["spec_suffix_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSpecCustomerFeature Load (0.1ms)[0m  SELECT "spec_customer_features".* FROM "spec_customer_features" WHERE "spec_customer_features"."feature_name" = 'Pays' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_customer_features" ("feature_name") VALUES (?)  [["feature_name", "Pays"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSpecCustomerFeature Load (0.1ms)[0m  SELECT "spec_customer_features".* FROM "spec_customer_features" WHERE "spec_customer_features"."feature_name" = 'Cancelled' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_customer_features" ("feature_name") VALUES (?)  [["feature_name", "Cancelled"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (35.7ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_infos"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_types"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_person_names"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_emails"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customers"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_features"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_suffixes"[0m
  [1m[35m (1.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Inactive"], ["name", "inactive"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Active"], ["name", "active"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Important"], ["name", "important"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", ""], ["name", "none"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", "Junior"], ["name", "jr"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE UNIQUE INDEX "index_spec_customer_emails_on_email_and_is_current" ON "spec_customer_emails" ("email", "is_current")
  [1m[36mSpecSuffix Load (0.1ms)[0m  [1mSELECT "spec_suffixes".* FROM "spec_suffixes" [0m
  [1m[35mSpecPersonName Load (0.1ms)[0m  SELECT "spec_person_names".* FROM "spec_person_names" WHERE "spec_person_names"."first_name" = 'John' AND "spec_person_names"."last_name" = 'Smith' AND "spec_person_names"."spec_suffix_id" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_person_names" ("first_name", "last_name", "spec_suffix_id") VALUES (?, ?, ?)  [["first_name", "John"], ["last_name", "Smith"], ["spec_suffix_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSpecCustomerFeature Load (0.1ms)[0m  SELECT "spec_customer_features".* FROM "spec_customer_features" WHERE "spec_customer_features"."feature_name" = 'Pays' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_customer_features" ("feature_name") VALUES (?)  [["feature_name", "Pays"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSpecCustomerFeature Load (0.1ms)[0m  SELECT "spec_customer_features".* FROM "spec_customer_features" WHERE "spec_customer_features"."feature_name" = 'Returned' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_customer_features" ("feature_name") VALUES (?)  [["feature_name", "Returned"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_infos"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_emails"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customers"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_types"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_person_names"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_features"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_suffixes"[0m
  [1m[35m (1.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Inactive"], ["name", "inactive"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Active"], ["name", "active"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Important"], ["name", "important"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", ""], ["name", "none"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", "Junior"], ["name", "jr"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE UNIQUE INDEX "index_spec_customer_emails_on_email_and_is_current" ON "spec_customer_emails" ("email", "is_current")
  [1m[36mSpecStatus Load (0.1ms)[0m  [1mSELECT "spec_statuses".* FROM "spec_statuses" [0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_customers" ("spec_status_id") VALUES (?)[0m  [["spec_status_id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["created_at", Mon, 25 Nov 2013 15:30:58 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", nil], ["spec_customer_id", 1], ["spec_person_name_id", 1], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 15:30:58 UTC +00:00]]
  [1m[36mSpecCustomer Load (0.1ms)[0m  [1mSELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSpecCustomerInfo Load (0.1ms)[0m  [1mSELECT "spec_customer_infos".* FROM "spec_customer_infos" WHERE "spec_customer_infos"."spec_customer_id" = 1 AND "spec_customer_infos"."is_current" = 't' ORDER BY id DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "spec_customer_infos" 
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "spec_customer_infos" SET "is_current" = 'f' , "lock_version" = 1 WHERE "id" = 1 AND "lock_version" = 0
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 25 Nov 2013 15:30:58 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", 1], ["spec_customer_id", 1], ["spec_person_name_id", 2], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 15:30:58 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "spec_customer_infos" [0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_infos"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_suffixes"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_emails"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customers"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_types"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_person_names"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_features"[0m
  [1m[35m (1.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Inactive"], ["name", "inactive"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Active"], ["name", "active"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Important"], ["name", "important"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", ""], ["name", "none"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", "Junior"], ["name", "jr"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE UNIQUE INDEX "index_spec_customer_emails_on_email_and_is_current" ON "spec_customer_emails" ("email", "is_current")
  [1m[36mSpecStatus Load (0.1ms)[0m  [1mSELECT "spec_statuses".* FROM "spec_statuses" [0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_customers" ("spec_status_id") VALUES (?)[0m  [["spec_status_id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["created_at", Mon, 25 Nov 2013 15:30:58 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", nil], ["spec_customer_id", 1], ["spec_person_name_id", 1], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 15:30:58 UTC +00:00]]
  [1m[36mSpecCustomer Load (0.1ms)[0m  [1mSELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSpecCustomerInfo Load (0.1ms)[0m  [1mSELECT "spec_customer_infos".* FROM "spec_customer_infos" WHERE "spec_customer_infos"."spec_customer_id" = 1 AND "spec_customer_infos"."is_current" = 't' ORDER BY id DESC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "spec_customer_infos" SET "is_current" = 'f' , "lock_version" = 1 WHERE "id" = 1 AND "lock_version" = 0[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["created_at", Mon, 25 Nov 2013 15:30:59 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", 1], ["spec_customer_id", 1], ["spec_person_name_id", 2], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 15:30:59 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_customer_emails"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_infos"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_suffixes"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customers"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_types"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_person_names"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_features"[0m
  [1m[35m (1.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Inactive"], ["name", "inactive"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Active"], ["name", "active"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Important"], ["name", "important"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", ""], ["name", "none"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", "Junior"], ["name", "jr"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE UNIQUE INDEX "index_spec_customer_emails_on_email_and_is_current" ON "spec_customer_emails" ("email", "is_current")
  [1m[36mSpecStatus Load (0.1ms)[0m  [1mSELECT "spec_statuses".* FROM "spec_statuses" [0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_customers" ("spec_status_id") VALUES (?)[0m  [["spec_status_id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["created_at", Mon, 25 Nov 2013 15:30:59 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", nil], ["spec_customer_id", 1], ["spec_person_name_id", 1], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 15:30:59 UTC +00:00]]
  [1m[36mSpecCustomer Load (0.1ms)[0m  [1mSELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSpecCustomerInfo Load (0.1ms)[0m  [1mSELECT "spec_customer_infos".* FROM "spec_customer_infos" WHERE "spec_customer_infos"."spec_customer_id" = 1 AND "spec_customer_infos"."is_current" = 't' ORDER BY id DESC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "spec_customer_infos" SET "is_current" = 'f' , "lock_version" = 1 WHERE "id" = 1 AND "lock_version" = 0[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["created_at", Mon, 25 Nov 2013 15:30:59 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", 1], ["spec_customer_id", 1], ["spec_person_name_id", 2], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 15:30:59 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSpecCustomerInfo Load (0.1ms)[0m  SELECT "spec_customer_infos".* FROM "spec_customer_infos" WHERE "spec_customer_infos"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_statuses"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_customer_emails"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_infos"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_types"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_suffixes"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_person_names"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customers"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_features"
  [1m[36m (0.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "index_spec_customer_emails_on_email_and_is_current" ON "spec_customer_emails" ("email", "is_current")[0m
  [1m[35mSpecStatus Load (0.1ms)[0m  SELECT "spec_statuses".* FROM "spec_statuses" 
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_customers" ("spec_status_id") VALUES (?)  [["spec_status_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 25 Nov 2013 15:30:59 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", nil], ["spec_customer_id", 1], ["spec_person_name_id", 1], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 15:30:59 UTC +00:00]]
  [1m[35mSpecCustomer Load (0.1ms)[0m  SELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSpecCustomerInfo Load (0.1ms)[0m  SELECT "spec_customer_infos".* FROM "spec_customer_infos" WHERE "spec_customer_infos"."spec_customer_id" = 1 AND "spec_customer_infos"."is_current" = 't' ORDER BY id DESC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "spec_customer_infos" SET "is_current" = 'f' , "lock_version" = 1 WHERE "id" = 1 AND "lock_version" = 0
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 25 Nov 2013 15:30:59 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", 1], ["spec_customer_id", 1], ["spec_person_name_id", 2], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 15:30:59 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_statuses"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_emails"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_infos"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_types"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_suffixes"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_person_names"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customers"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_features"
  [1m[36m (1.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "index_spec_customer_emails_on_email_and_is_current" ON "spec_customer_emails" ("email", "is_current")[0m
  [1m[35mSpecStatus Load (0.1ms)[0m  SELECT "spec_statuses".* FROM "spec_statuses" 
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_customers" ("spec_status_id") VALUES (?)  [["spec_status_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 25 Nov 2013 15:30:59 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", nil], ["spec_customer_id", 1], ["spec_person_name_id", 1], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 15:30:59 UTC +00:00]]
  [1m[35mSpecCustomer Load (0.1ms)[0m  SELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSpecCustomerInfo Load (0.1ms)[0m  SELECT "spec_customer_infos".* FROM "spec_customer_infos" WHERE "spec_customer_infos"."spec_customer_id" = 1 AND "spec_customer_infos"."is_current" = 't' ORDER BY id DESC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "spec_customer_infos" SET "is_current" = 'f', "updated_at" = '2013-11-25 15:30:59.475260', "lock_version" = 1 WHERE ("spec_customer_infos"."id" = 1 AND "spec_customer_infos"."lock_version" = 0)
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 25 Nov 2013 15:30:59 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", nil], ["spec_customer_id", 1], ["spec_person_name_id", 2], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 15:30:59 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_statuses"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_infos"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_emails"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_types"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_suffixes"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_person_names"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customers"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_features"
  [1m[36m (1.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.3ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "index_spec_customer_emails_on_email_and_is_current" ON "spec_customer_emails" ("email", "is_current")[0m
  [1m[35mSpecStatus Load (0.1ms)[0m  SELECT "spec_statuses".* FROM "spec_statuses" 
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_customers" ("spec_status_id") VALUES (?)  [["spec_status_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 25 Nov 2013 15:30:59 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", nil], ["spec_customer_id", 1], ["spec_person_name_id", 1], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 15:30:59 UTC +00:00]]
  [1m[35mSpecCustomer Load (0.1ms)[0m  SELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSpecCustomerInfo Load (0.1ms)[0m  SELECT "spec_customer_infos".* FROM "spec_customer_infos" WHERE "spec_customer_infos"."spec_customer_id" = 1 AND "spec_customer_infos"."is_current" = 't' ORDER BY id DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_customer_emails" ("email", "is_current", "spec_customer_id", "status") VALUES (?, ?, ?, ?)  [["email", "foo@bar.com"], ["is_current", true], ["spec_customer_id", 1], ["status", "unverified"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "spec_customer_emails" SET "is_current" = 'f' WHERE "id" = 1 [0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_customer_emails" ("email", "is_current", "spec_customer_id", "status") VALUES (?, ?, ?, ?)  [["email", "foo@bar.com"], ["is_current", true], ["spec_customer_id", 1], ["status", "verified"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_infos"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_emails"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_types"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_suffixes"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_person_names"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customers"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_features"[0m
  [1m[35m (1.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Inactive"], ["name", "inactive"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Active"], ["name", "active"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Important"], ["name", "important"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", ""], ["name", "none"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", "Junior"], ["name", "jr"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE UNIQUE INDEX "index_spec_customer_emails_on_email_and_is_current" ON "spec_customer_emails" ("email", "is_current")
  [1m[36mSpecStatus Load (0.1ms)[0m  [1mSELECT "spec_statuses".* FROM "spec_statuses" [0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_customers" ("spec_status_id") VALUES (?)[0m  [["spec_status_id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["created_at", Mon, 25 Nov 2013 15:30:59 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", nil], ["spec_customer_id", 1], ["spec_person_name_id", 1], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 15:30:59 UTC +00:00]]
  [1m[36mSpecCustomer Load (0.1ms)[0m  [1mSELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSpecCustomerInfo Load (0.1ms)[0m  [1mSELECT "spec_customer_infos".* FROM "spec_customer_infos" WHERE "spec_customer_infos"."spec_customer_id" = 1 AND "spec_customer_infos"."is_current" = 't' ORDER BY id DESC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 16 Jul 2012 00:00:00 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", nil], ["spec_customer_id", 1], ["spec_person_name_id", 1], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 16 Jul 2012 00:00:00 UTC +00:00]]
  [1m[35mSpecCustomer Load (0.0ms)[0m  SELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mUPDATE "spec_customer_infos" SET "is_current" = 'f', "updated_at" = '2012-07-16 00:00:00.000000', "lock_version" = 1 WHERE ("spec_customer_infos"."id" = 1 AND "spec_customer_infos"."lock_version" = 0)[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  UPDATE "spec_customer_infos" SET "is_current" = 'f' , "lock_version" = 1 WHERE "id" = 2 AND "lock_version" = 0
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Tue, 17 Jul 2012 08:10:15 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", 2], ["spec_customer_id", 1], ["spec_person_name_id", 2], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Tue, 17 Jul 2012 08:10:15 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_statuses"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_infos"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_suffixes"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_emails"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_types"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_person_names"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customers"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_features"
  [1m[36m (1.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "index_spec_customer_emails_on_email_and_is_current" ON "spec_customer_emails" ("email", "is_current")[0m
  [1m[35mSpecStatus Load (0.1ms)[0m  SELECT "spec_statuses".* FROM "spec_statuses" 
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_customers" ("spec_status_id") VALUES (?)  [["spec_status_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 25 Nov 2013 15:30:59 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", nil], ["spec_customer_id", 1], ["spec_person_name_id", 1], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 15:30:59 UTC +00:00]]
  [1m[35mSpecCustomer Load (0.1ms)[0m  SELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSpecCustomerInfo Load (0.2ms)[0m  SELECT "spec_customer_infos".* FROM "spec_customer_infos" WHERE "spec_customer_infos"."spec_customer_id" = 1 AND "spec_customer_infos"."is_current" = 't' ORDER BY id DESC LIMIT 1
  [1m[36mSpecCustomer Load (0.1ms)[0m  [1mSELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSpecCustomerInfo Load (0.1ms)[0m  SELECT "spec_customer_infos".* FROM "spec_customer_infos" WHERE "spec_customer_infos"."spec_customer_id" = 1 AND "spec_customer_infos"."is_current" = 't' ORDER BY id DESC LIMIT 1
  [1m[36mSpecCustomer Load (0.0ms)[0m  [1mSELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSpecCustomerInfo Load (0.1ms)[0m  SELECT "spec_customer_infos".* FROM "spec_customer_infos" WHERE "spec_customer_infos"."spec_customer_id" = 1 AND "spec_customer_infos"."is_current" = 't' ORDER BY id DESC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "spec_customer_infos" SET "is_current" = 'f' , "lock_version" = 1 WHERE "id" = 1 AND "lock_version" = 0
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 25 Nov 2013 15:31:00 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", 1], ["spec_customer_id", 1], ["spec_person_name_id", 3], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 15:31:00 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "spec_customer_infos" SET "is_current" = 'f' , "lock_version" = 1 WHERE "id" = 1 AND "lock_version" = 0
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_infos"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_suffixes"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_emails"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_types"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_person_names"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customers"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_features"[0m
  [1m[35m (1.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Inactive"], ["name", "inactive"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Active"], ["name", "active"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Important"], ["name", "important"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", ""], ["name", "none"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", "Junior"], ["name", "jr"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE UNIQUE INDEX "index_spec_customer_emails_on_email_and_is_current" ON "spec_customer_emails" ("email", "is_current")
  [1m[36mSpecStatus Load (0.1ms)[0m  [1mSELECT "spec_statuses".* FROM "spec_statuses" [0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_customers" ("spec_status_id") VALUES (?)[0m  [["spec_status_id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["created_at", Mon, 25 Nov 2013 15:31:00 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", nil], ["spec_customer_id", 1], ["spec_person_name_id", 1], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 15:31:00 UTC +00:00]]
  [1m[36mSpecCustomer Load (0.1ms)[0m  [1mSELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSpecCustomerInfo Load (0.1ms)[0m  [1mSELECT "spec_customer_infos".* FROM "spec_customer_infos" WHERE "spec_customer_infos"."spec_customer_id" = 1 AND "spec_customer_infos"."is_current" = 't' ORDER BY id DESC LIMIT 1[0m
  [1m[35mSpecCustomer Load (0.1ms)[0m  SELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSpecCustomerInfo Load (0.1ms)[0m  [1mSELECT "spec_customer_infos".* FROM "spec_customer_infos" WHERE "spec_customer_infos"."spec_customer_id" = 1 AND "spec_customer_infos"."is_current" = 't' ORDER BY id DESC LIMIT 1[0m
  [1m[35mSpecCustomer Load (0.0ms)[0m  SELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSpecCustomerInfo Load (0.1ms)[0m  [1mSELECT "spec_customer_infos".* FROM "spec_customer_infos" WHERE "spec_customer_infos"."spec_customer_id" = 1 AND "spec_customer_infos"."is_current" = 't' ORDER BY id DESC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_customer_emails" ("email", "is_current", "spec_customer_id", "status") VALUES (?, ?, ?, ?)[0m  [["email", "foo@bar.com"], ["is_current", nil], ["spec_customer_id", 1], ["status", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "spec_customer_emails" SET "is_current" = 'f' WHERE "id" = 1 
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_customer_emails" ("email", "is_current", "spec_customer_id", "status") VALUES (?, ?, ?, ?)[0m  [["email", "foo2@bar.com"], ["is_current", nil], ["spec_customer_id", 1], ["status", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_statuses"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_infos"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_suffixes"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_emails"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_types"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_person_names"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customers"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_features"
  [1m[36m (1.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "index_spec_customer_emails_on_email_and_is_current" ON "spec_customer_emails" ("email", "is_current")[0m
  [1m[35mSpecStatus Load (0.1ms)[0m  SELECT "spec_statuses".* FROM "spec_statuses" 
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_customers" ("spec_status_id") VALUES (?)  [["spec_status_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 25 Nov 2013 15:31:00 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", nil], ["spec_customer_id", 1], ["spec_person_name_id", 1], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 15:31:00 UTC +00:00]]
  [1m[35mSpecCustomer Load (0.1ms)[0m  SELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSpecCustomerInfo Load (0.1ms)[0m  SELECT "spec_customer_infos".* FROM "spec_customer_infos" WHERE "spec_customer_infos"."spec_customer_id" = 1 AND "spec_customer_infos"."is_current" = 't' ORDER BY id DESC LIMIT 1
  [1m[36mSpecSuffix Load (0.1ms)[0m  [1mSELECT "spec_suffixes".* FROM "spec_suffixes" [0m
  [1m[35mSpecPersonName Load (0.1ms)[0m  SELECT "spec_person_names".* FROM "spec_person_names" WHERE "spec_person_names"."first_name" = 'John' AND "spec_person_names"."last_name" = 'Smith' AND "spec_person_names"."spec_suffix_id" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_person_names" ("first_name", "last_name", "spec_suffix_id") VALUES (?, ?, ?)  [["first_name", "John"], ["last_name", "Smith"], ["spec_suffix_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSpecCustomerInfo Load (0.1ms)[0m  SELECT "spec_customer_infos".* FROM "spec_customer_infos" WHERE "spec_customer_infos"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSpecPersonName Load (0.1ms)[0m  [1mSELECT "spec_person_names".* FROM "spec_person_names" WHERE "spec_person_names"."id" = 1 LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecPersonName Load (0.1ms)[0m  [1mSELECT "spec_person_names".* FROM "spec_person_names" WHERE "spec_person_names"."first_name" = 'Alice' AND "spec_person_names"."last_name" = 'Smith' AND "spec_person_names"."spec_suffix_id" IS NULL LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_person_names" ("first_name", "last_name", "spec_suffix_id") VALUES (?, ?, ?)  [["first_name", "Alice"], ["last_name", "Smith"], ["spec_suffix_id", nil]]
  [1m[36m (0.1ms)[0m  [1mUPDATE "spec_customer_infos" SET "is_current" = 'f' , "lock_version" = 1 WHERE "id" = 1 AND "lock_version" = 0[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["created_at", Mon, 25 Nov 2013 15:31:00 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", 1], ["spec_customer_id", 1], ["spec_person_name_id", 2], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 15:31:00 UTC +00:00]]
  [1m[36mSpecCustomer Load (0.1ms)[0m  [1mSELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSpecCustomerInfo Load (0.1ms)[0m  [1mSELECT "spec_customer_infos".* FROM "spec_customer_infos" WHERE "spec_customer_infos"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_infos"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_suffixes"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_emails"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_types"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_person_names"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_customers"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_features"[0m
  [1m[35m (1.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.6ms)[0m  CREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Inactive"], ["name", "inactive"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Active"], ["name", "active"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Important"], ["name", "important"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", ""], ["name", "none"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", "Junior"], ["name", "jr"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE UNIQUE INDEX "index_spec_customer_emails_on_email_and_is_current" ON "spec_customer_emails" ("email", "is_current")
  [1m[36mSpecSuffix Load (0.1ms)[0m  [1mSELECT "spec_suffixes".* FROM "spec_suffixes" [0m
  [1m[35mSpecStatus Load (0.1ms)[0m  SELECT "spec_statuses".* FROM "spec_statuses" 
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_customers" ("spec_status_id") VALUES (?)  [["spec_status_id", 1]]
  [1m[36mSpecPersonName Load (0.1ms)[0m  [1mSELECT "spec_person_names".* FROM "spec_person_names" WHERE "spec_person_names"."first_name" = 'John' AND "spec_person_names"."last_name" = 'Smith' AND "spec_person_names"."spec_suffix_id" IS NULL LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_person_names" ("first_name", "last_name", "spec_suffix_id") VALUES (?, ?, ?)  [["first_name", "John"], ["last_name", "Smith"], ["spec_suffix_id", nil]]
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 25 Nov 2013 15:31:00 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", nil], ["spec_customer_id", 1], ["spec_person_name_id", 1], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 15:31:00 UTC +00:00]]
  [1m[35mSpecCustomer Load (0.1ms)[0m  SELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_infos"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_suffixes"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_emails"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_person_names"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_types"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customers"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_features"[0m
  [1m[35m (1.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Inactive"], ["name", "inactive"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Active"], ["name", "active"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Important"], ["name", "important"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", ""], ["name", "none"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", "Junior"], ["name", "jr"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE UNIQUE INDEX "index_spec_customer_emails_on_email_and_is_current" ON "spec_customer_emails" ("email", "is_current")
  [1m[36mSpecSuffix Load (0.1ms)[0m  [1mSELECT "spec_suffixes".* FROM "spec_suffixes" [0m
  [1m[35mSpecStatus Load (0.1ms)[0m  SELECT "spec_statuses".* FROM "spec_statuses" 
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_customers" ("spec_status_id") VALUES (?)  [["spec_status_id", 1]]
  [1m[36mSpecPersonName Load (0.1ms)[0m  [1mSELECT "spec_person_names".* FROM "spec_person_names" WHERE "spec_person_names"."first_name" = 'John' AND "spec_person_names"."last_name" = 'Smith' AND "spec_person_names"."spec_suffix_id" IS NULL LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_person_names" ("first_name", "last_name", "spec_suffix_id") VALUES (?, ?, ?)  [["first_name", "John"], ["last_name", "Smith"], ["spec_suffix_id", nil]]
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 25 Nov 2013 15:31:00 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", nil], ["spec_customer_id", 1], ["spec_person_name_id", 1], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 15:31:00 UTC +00:00]]
  [1m[35mSpecCustomer Load (0.1ms)[0m  SELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_infos"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_suffixes"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_emails"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_person_names"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_types"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customers"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_features"[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Inactive"], ["name", "inactive"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Active"], ["name", "active"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Important"], ["name", "important"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", ""], ["name", "none"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", "Junior"], ["name", "jr"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE UNIQUE INDEX "index_spec_customer_emails_on_email_and_is_current" ON "spec_customer_emails" ("email", "is_current")
  [1m[36mSpecSuffix Load (0.1ms)[0m  [1mSELECT "spec_suffixes".* FROM "spec_suffixes" [0m
  [1m[35mSpecStatus Load (0.1ms)[0m  SELECT "spec_statuses".* FROM "spec_statuses" 
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_customers" ("spec_status_id") VALUES (?)  [["spec_status_id", 1]]
  [1m[36mSpecPersonName Load (0.1ms)[0m  [1mSELECT "spec_person_names".* FROM "spec_person_names" WHERE "spec_person_names"."first_name" = 'John' AND "spec_person_names"."last_name" = 'Smith' AND "spec_person_names"."spec_suffix_id" IS NULL LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_person_names" ("first_name", "last_name", "spec_suffix_id") VALUES (?, ?, ?)  [["first_name", "John"], ["last_name", "Smith"], ["spec_suffix_id", nil]]
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 25 Nov 2013 15:31:00 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", nil], ["spec_customer_id", 1], ["spec_person_name_id", 1], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 15:31:00 UTC +00:00]]
  [1m[35mSpecCustomer Load (0.1ms)[0m  SELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (42.6ms)[0m  [1mDROP TABLE "spec_customer_infos"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_suffixes"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customers"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_emails"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_person_names"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_types"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_features"[0m
  [1m[35m (1.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Inactive"], ["name", "inactive"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Active"], ["name", "active"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Important"], ["name", "important"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", ""], ["name", "none"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", "Junior"], ["name", "jr"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE UNIQUE INDEX "index_spec_customer_emails_on_email_and_is_current" ON "spec_customer_emails" ("email", "is_current")
  [1m[36mSpecSuffix Load (0.1ms)[0m  [1mSELECT "spec_suffixes".* FROM "spec_suffixes" [0m
  [1m[35mSpecStatus Load (0.1ms)[0m  SELECT "spec_statuses".* FROM "spec_statuses" 
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_customers" ("spec_status_id") VALUES (?)  [["spec_status_id", 1]]
  [1m[36mSpecPersonName Load (0.1ms)[0m  [1mSELECT "spec_person_names".* FROM "spec_person_names" WHERE "spec_person_names"."first_name" = 'John' AND "spec_person_names"."last_name" = 'Smith' AND "spec_person_names"."spec_suffix_id" IS NULL LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_person_names" ("first_name", "last_name", "spec_suffix_id") VALUES (?, ?, ?)  [["first_name", "John"], ["last_name", "Smith"], ["spec_suffix_id", nil]]
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 25 Nov 2013 15:31:01 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", nil], ["spec_customer_id", 1], ["spec_person_name_id", 1], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 15:31:01 UTC +00:00]]
  [1m[35mSpecCustomer Load (0.1ms)[0m  SELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_infos"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_suffixes"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customers"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_emails"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_person_names"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_types"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_features"[0m
  [1m[35m (1.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Inactive"], ["name", "inactive"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Active"], ["name", "active"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Important"], ["name", "important"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", ""], ["name", "none"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", "Junior"], ["name", "jr"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE UNIQUE INDEX "index_spec_customer_emails_on_email_and_is_current" ON "spec_customer_emails" ("email", "is_current")
  [1m[36mSpecSuffix Load (0.1ms)[0m  [1mSELECT "spec_suffixes".* FROM "spec_suffixes" [0m
  [1m[35mSpecStatus Load (0.1ms)[0m  SELECT "spec_statuses".* FROM "spec_statuses" 
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_customers" ("spec_status_id") VALUES (?)  [["spec_status_id", 1]]
  [1m[36mSpecPersonName Load (0.1ms)[0m  [1mSELECT "spec_person_names".* FROM "spec_person_names" WHERE "spec_person_names"."first_name" = 'John' AND "spec_person_names"."last_name" = 'Smith' AND "spec_person_names"."spec_suffix_id" IS NULL LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_person_names" ("first_name", "last_name", "spec_suffix_id") VALUES (?, ?, ?)  [["first_name", "John"], ["last_name", "Smith"], ["spec_suffix_id", nil]]
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 25 Nov 2013 15:31:01 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", nil], ["spec_customer_id", 1], ["spec_person_name_id", 1], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 15:31:01 UTC +00:00]]
  [1m[35mSpecCustomer Load (0.1ms)[0m  SELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSpecType Load (0.1ms)[0m  SELECT "spec_types".* FROM "spec_types" 
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_statuses"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_infos"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_suffixes"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customers"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_emails"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_person_names"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_types"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_features"
  [1m[36m (1.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "index_spec_customer_emails_on_email_and_is_current" ON "spec_customer_emails" ("email", "is_current")[0m
  [1m[35mSpecSuffix Load (0.1ms)[0m  SELECT "spec_suffixes".* FROM "spec_suffixes" 
  [1m[36mSpecStatus Load (0.1ms)[0m  [1mSELECT "spec_statuses".* FROM "spec_statuses" [0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_customers" ("spec_status_id") VALUES (?)[0m  [["spec_status_id", 1]]
  [1m[35mSpecPersonName Load (0.2ms)[0m  SELECT "spec_person_names".* FROM "spec_person_names" WHERE "spec_person_names"."first_name" = 'John' AND "spec_person_names"."last_name" = 'Smith' AND "spec_person_names"."spec_suffix_id" IS NULL LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_person_names" ("first_name", "last_name", "spec_suffix_id") VALUES (?, ?, ?)[0m  [["first_name", "John"], ["last_name", "Smith"], ["spec_suffix_id", nil]]
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["created_at", Mon, 25 Nov 2013 15:31:01 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", nil], ["spec_customer_id", 1], ["spec_person_name_id", 1], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 15:31:01 UTC +00:00]]
  [1m[36mSpecCustomer Load (0.3ms)[0m  [1mSELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mDROP TABLE "spec_statuses"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_infos"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_suffixes"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customers"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_emails"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_person_names"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_types"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_features"
  [1m[36m (1.1ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  select sqlite_version(*)
  [1m[36m (0.5ms)[0m  [1mCREATE TABLE "spec_posts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_author_id" integer, "body" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_authors" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_post_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_post_id" integer, "ip" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_comments" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_post_id" integer, "body" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (2.3ms)[0m  INSERT INTO "spec_authors" ("name") VALUES (?)  [["name", "John"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (2.7ms)[0m  [1mINSERT INTO "spec_posts" ("body", "spec_author_id") VALUES (?, ?)[0m  [["body", "Post Body"], ["spec_author_id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_comments" ("body", "spec_post_id") VALUES (?, ?)  [["body", "Fabulous!"], ["spec_post_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_post_infos" ("ip", "spec_post_id") VALUES (?, ?)[0m  [["ip", "127.0.0.1"], ["spec_post_id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSpecPostInfo Load (0.1ms)[0m  [1mSELECT "spec_post_infos".* FROM "spec_post_infos" WHERE "spec_post_infos"."spec_post_id" = 1 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  CREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Inactive"], ["name", "inactive"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Active"], ["name", "active"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Important"], ["name", "important"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", ""], ["name", "none"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", "Junior"], ["name", "jr"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE UNIQUE INDEX "index_spec_customer_emails_on_email_and_is_current" ON "spec_customer_emails" ("email", "is_current")
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["created_at", Wed, 20 Nov 2013 15:52:23 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", nil], ["spec_customer_id", 1], ["spec_person_name_id", 1], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Wed, 20 Nov 2013 15:52:23 UTC +00:00]]
  [1m[36mSpecCustomer Load (0.1ms)[0m  [1mSELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "spec_customer_infos" [0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecCustomer Load (0.1ms)[0m  [1mSELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1[0m
  [1m[35mSpecCustomer Load (0.1ms)[0m  SELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mUPDATE "spec_customer_infos" SET "is_current" = 'f' , "lock_version" = 1 WHERE "id" = 1 AND "lock_version" = 0[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["created_at", Mon, 25 Nov 2013 15:52:24 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", 1], ["spec_customer_id", nil], ["spec_person_name_id", 2], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 15:52:24 UTC +00:00]]
SQLite3::ConstraintException: spec_customer_infos.spec_customer_id may not be NULL: INSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (1.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_posts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_author_id" integer, "body" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_authors" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_post_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_post_id" integer, "ip" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_comments" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_post_id" integer, "body" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (2.9ms)[0m  INSERT INTO "spec_authors" ("name") VALUES (?)  [["name", "John"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.3ms)[0m  [1mINSERT INTO "spec_posts" ("body", "spec_author_id") VALUES (?, ?)[0m  [["body", "Post Body"], ["spec_author_id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_comments" ("body", "spec_post_id") VALUES (?, ?)  [["body", "Fabulous!"], ["spec_post_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_post_infos" ("ip", "spec_post_id") VALUES (?, ?)[0m  [["ip", "127.0.0.1"], ["spec_post_id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSpecPostInfo Load (0.1ms)[0m  [1mSELECT "spec_post_infos".* FROM "spec_post_infos" WHERE "spec_post_infos"."spec_post_id" = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_posts"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_authors"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_post_infos"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_comments"[0m
  [1m[35m (1.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "spec_posts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_author_id" integer, "body" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_authors" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_post_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_post_id" integer, "ip" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_comments" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_post_id" integer, "body" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "spec_authors" ("name") VALUES (?)[0m  [["name", "John"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_posts" ("body", "spec_author_id") VALUES (?, ?)  [["body", "Post Body"], ["spec_author_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_comments" ("body", "spec_post_id") VALUES (?, ?)[0m  [["body", "Fabulous!"], ["spec_post_id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_post_infos" ("ip", "spec_post_id") VALUES (?, ?)  [["ip", "127.0.0.1"], ["spec_post_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSpecPostInfo Load (0.2ms)[0m  SELECT "spec_post_infos".* FROM "spec_post_infos" WHERE "spec_post_infos"."spec_post_id" = 1 LIMIT 1
  [1m[36mSpecPost Load (0.1ms)[0m  [1mSELECT "spec_posts".* FROM "spec_posts" LIMIT 1[0m
  [1m[35mSpecComment Load (0.2ms)[0m  SELECT "spec_comments".* FROM "spec_comments" WHERE "spec_comments"."spec_post_id" IN (1)
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_posts"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_authors"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_post_infos"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_comments"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spec_posts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_author_id" integer, "body" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_authors" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_post_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_post_id" integer, "ip" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_comments" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_post_id" integer, "body" varchar(255)) 
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "spec_authors" ("name") VALUES (?)  [["name", "John"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_posts" ("body", "spec_author_id") VALUES (?, ?)[0m  [["body", "Post Body"], ["spec_author_id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_comments" ("body", "spec_post_id") VALUES (?, ?)  [["body", "Fabulous!"], ["spec_post_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_post_infos" ("ip", "spec_post_id") VALUES (?, ?)[0m  [["ip", "127.0.0.1"], ["spec_post_id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSpecPostInfo Load (0.1ms)[0m  [1mSELECT "spec_post_infos".* FROM "spec_post_infos" WHERE "spec_post_infos"."spec_post_id" = 1 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_authors"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_post_infos"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_comments"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_posts"[0m
  [1m[35m (0.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "spec_posts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_author_id" integer, "body" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_authors" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_post_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_post_id" integer, "ip" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_comments" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_post_id" integer, "body" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "spec_authors" ("name") VALUES (?)[0m  [["name", "John"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_posts" ("body", "spec_author_id") VALUES (?, ?)  [["body", "Post Body"], ["spec_author_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_comments" ("body", "spec_post_id") VALUES (?, ?)[0m  [["body", "Fabulous!"], ["spec_post_id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_post_infos" ("ip", "spec_post_id") VALUES (?, ?)  [["ip", "127.0.0.1"], ["spec_post_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSpecPostInfo Load (0.1ms)[0m  SELECT "spec_post_infos".* FROM "spec_post_infos" WHERE "spec_post_infos"."spec_post_id" = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_authors"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_post_infos"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_comments"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_posts"
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spec_posts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_author_id" integer, "body" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_authors" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_post_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_post_id" integer, "ip" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_comments" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_post_id" integer, "body" varchar(255)) 
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "spec_authors" ("name") VALUES (?)  [["name", "John"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_posts" ("body", "spec_author_id") VALUES (?, ?)[0m  [["body", "Post Body"], ["spec_author_id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_comments" ("body", "spec_post_id") VALUES (?, ?)  [["body", "Fabulous!"], ["spec_post_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_post_infos" ("ip", "spec_post_id") VALUES (?, ?)[0m  [["ip", "127.0.0.1"], ["spec_post_id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSpecPostInfo Load (0.1ms)[0m  [1mSELECT "spec_post_infos".* FROM "spec_post_infos" WHERE "spec_post_infos"."spec_post_id" = 1 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_authors"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_post_infos"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_comments"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_posts"[0m
  [1m[35m (1.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "spec_posts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_author_id" integer, "body" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_authors" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_post_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_post_id" integer, "ip" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_comments" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_post_id" integer, "body" varchar(255)) [0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "spec_authors" ("name") VALUES (?)[0m  [["name", "John"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_posts" ("body", "spec_author_id") VALUES (?, ?)  [["body", "Post Body"], ["spec_author_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_comments" ("body", "spec_post_id") VALUES (?, ?)[0m  [["body", "Fabulous!"], ["spec_post_id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_post_infos" ("ip", "spec_post_id") VALUES (?, ?)  [["ip", "127.0.0.1"], ["spec_post_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSpecPostInfo Load (0.1ms)[0m  SELECT "spec_post_infos".* FROM "spec_post_infos" WHERE "spec_post_infos"."spec_post_id" = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_authors"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_post_infos"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_comments"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_posts"
  [1m[36m (0.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spec_posts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_author_id" integer, "body" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_authors" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_post_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_post_id" integer, "ip" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_comments" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_post_id" integer, "body" varchar(255)) 
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "spec_authors" ("name") VALUES (?)  [["name", "John"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_posts" ("body", "spec_author_id") VALUES (?, ?)[0m  [["body", "Post Body"], ["spec_author_id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_comments" ("body", "spec_post_id") VALUES (?, ?)  [["body", "Fabulous!"], ["spec_post_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_post_infos" ("ip", "spec_post_id") VALUES (?, ?)[0m  [["ip", "127.0.0.1"], ["spec_post_id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSpecPostInfo Load (0.1ms)[0m  [1mSELECT "spec_post_infos".* FROM "spec_post_infos" WHERE "spec_post_infos"."spec_post_id" = 1 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_authors"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_post_infos"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_comments"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_posts"[0m
  [1m[35m (1.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "spec_posts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_author_id" integer, "body" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_authors" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_post_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_post_id" integer, "ip" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_comments" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_post_id" integer, "body" varchar(255)) [0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "spec_authors" ("name") VALUES (?)[0m  [["name", "John"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_posts" ("body", "spec_author_id") VALUES (?, ?)  [["body", "Post Body"], ["spec_author_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_comments" ("body", "spec_post_id") VALUES (?, ?)[0m  [["body", "Fabulous!"], ["spec_post_id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_post_infos" ("ip", "spec_post_id") VALUES (?, ?)  [["ip", "127.0.0.1"], ["spec_post_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSpecPostInfo Load (0.1ms)[0m  SELECT "spec_post_infos".* FROM "spec_post_infos" WHERE "spec_post_infos"."spec_post_id" = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_authors"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_post_infos"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_comments"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_posts"
  [1m[36m (1.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spec_posts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_author_id" integer, "body" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_authors" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_post_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_post_id" integer, "ip" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_comments" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_post_id" integer, "body" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "spec_authors" ("name") VALUES (?)  [["name", "John"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_posts" ("body", "spec_author_id") VALUES (?, ?)[0m  [["body", "Post Body"], ["spec_author_id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_comments" ("body", "spec_post_id") VALUES (?, ?)  [["body", "Fabulous!"], ["spec_post_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_post_infos" ("ip", "spec_post_id") VALUES (?, ?)[0m  [["ip", "127.0.0.1"], ["spec_post_id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSpecPostInfo Load (0.1ms)[0m  [1mSELECT "spec_post_infos".* FROM "spec_post_infos" WHERE "spec_post_infos"."spec_post_id" = 1 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_authors"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_post_infos"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_comments"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_posts"[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "spec_posts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_author_id" integer, "body" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_authors" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_post_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_post_id" integer, "ip" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_comments" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_post_id" integer, "body" varchar(255)) [0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "spec_authors" ("name") VALUES (?)[0m  [["name", "John"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_posts" ("body", "spec_author_id") VALUES (?, ?)  [["body", "Post Body"], ["spec_author_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_comments" ("body", "spec_post_id") VALUES (?, ?)[0m  [["body", "Fabulous!"], ["spec_post_id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_post_infos" ("ip", "spec_post_id") VALUES (?, ?)  [["ip", "127.0.0.1"], ["spec_post_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSpecPostInfo Load (0.1ms)[0m  SELECT "spec_post_infos".* FROM "spec_post_infos" WHERE "spec_post_infos"."spec_post_id" = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_authors"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_post_infos"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_comments"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_posts"
  [1m[36m (1.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spec_posts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_author_id" integer, "body" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_authors" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_post_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_post_id" integer, "ip" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_comments" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_post_id" integer, "body" varchar(255)) 
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "spec_authors" ("name") VALUES (?)  [["name", "John"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_posts" ("body", "spec_author_id") VALUES (?, ?)[0m  [["body", "Post Body"], ["spec_author_id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_comments" ("body", "spec_post_id") VALUES (?, ?)  [["body", "Fabulous!"], ["spec_post_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_post_infos" ("ip", "spec_post_id") VALUES (?, ?)[0m  [["ip", "127.0.0.1"], ["spec_post_id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSpecPostInfo Load (0.1ms)[0m  [1mSELECT "spec_post_infos".* FROM "spec_post_infos" WHERE "spec_post_infos"."spec_post_id" = 1 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_authors"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_post_infos"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_comments"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_posts"[0m
  [1m[35m (1.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "spec_posts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_author_id" integer, "body" varchar(255)) 
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spec_authors" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_post_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_post_id" integer, "ip" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_comments" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_post_id" integer, "body" varchar(255)) [0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "spec_authors" ("name") VALUES (?)[0m  [["name", "John"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_posts" ("body", "spec_author_id") VALUES (?, ?)  [["body", "Post Body"], ["spec_author_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_comments" ("body", "spec_post_id") VALUES (?, ?)[0m  [["body", "Fabulous!"], ["spec_post_id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_post_infos" ("ip", "spec_post_id") VALUES (?, ?)  [["ip", "127.0.0.1"], ["spec_post_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSpecPostInfo Load (0.1ms)[0m  SELECT "spec_post_infos".* FROM "spec_post_infos" WHERE "spec_post_infos"."spec_post_id" = 1 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mDROP TABLE "spec_authors"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_post_infos"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_comments"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_posts"
  [1m[36m (1.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spec_posts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_author_id" integer, "body" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_authors" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_post_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_post_id" integer, "ip" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_comments" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_post_id" integer, "body" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "spec_authors" ("name") VALUES (?)  [["name", "John"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_posts" ("body", "spec_author_id") VALUES (?, ?)[0m  [["body", "Post Body"], ["spec_author_id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_comments" ("body", "spec_post_id") VALUES (?, ?)  [["body", "Fabulous!"], ["spec_post_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_post_infos" ("ip", "spec_post_id") VALUES (?, ?)[0m  [["ip", "127.0.0.1"], ["spec_post_id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSpecPostInfo Load (0.1ms)[0m  [1mSELECT "spec_post_infos".* FROM "spec_post_infos" WHERE "spec_post_infos"."spec_post_id" = 1 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_authors"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_post_infos"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_comments"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_posts"[0m
  [1m[35m (1.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "spec_posts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_author_id" integer, "body" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_authors" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_post_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_post_id" integer, "ip" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_comments" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_post_id" integer, "body" varchar(255)) [0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "spec_authors" ("name") VALUES (?)[0m  [["name", "John"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_posts" ("body", "spec_author_id") VALUES (?, ?)  [["body", "Post Body"], ["spec_author_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_comments" ("body", "spec_post_id") VALUES (?, ?)[0m  [["body", "Fabulous!"], ["spec_post_id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_post_infos" ("ip", "spec_post_id") VALUES (?, ?)  [["ip", "127.0.0.1"], ["spec_post_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSpecPostInfo Load (0.1ms)[0m  SELECT "spec_post_infos".* FROM "spec_post_infos" WHERE "spec_post_infos"."spec_post_id" = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_authors"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_post_infos"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_comments"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_posts"
  [1m[36m (1.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spec_posts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_author_id" integer, "body" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_authors" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_post_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_post_id" integer, "ip" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_comments" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_post_id" integer, "body" varchar(255)) 
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "spec_authors" ("name") VALUES (?)  [["name", "John"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_posts" ("body", "spec_author_id") VALUES (?, ?)[0m  [["body", "Post Body"], ["spec_author_id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_comments" ("body", "spec_post_id") VALUES (?, ?)  [["body", "Fabulous!"], ["spec_post_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_post_infos" ("ip", "spec_post_id") VALUES (?, ?)[0m  [["ip", "127.0.0.1"], ["spec_post_id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSpecPostInfo Load (0.1ms)[0m  [1mSELECT "spec_post_infos".* FROM "spec_post_infos" WHERE "spec_post_infos"."spec_post_id" = 1 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_authors"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_post_infos"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_comments"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_posts"[0m
  [1m[35m (1.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "spec_posts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_author_id" integer, "body" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_authors" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_post_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_post_id" integer, "ip" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_comments" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_post_id" integer, "body" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "spec_authors" ("name") VALUES (?)[0m  [["name", "John"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_posts" ("body", "spec_author_id") VALUES (?, ?)  [["body", "Post Body"], ["spec_author_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_comments" ("body", "spec_post_id") VALUES (?, ?)[0m  [["body", "Fabulous!"], ["spec_post_id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_post_infos" ("ip", "spec_post_id") VALUES (?, ?)  [["ip", "127.0.0.1"], ["spec_post_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSpecPostInfo Load (0.1ms)[0m  SELECT "spec_post_infos".* FROM "spec_post_infos" WHERE "spec_post_infos"."spec_post_id" = 1 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_authors"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_post_infos"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_comments"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_posts"
  [1m[36m (1.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spec_posts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_author_id" integer, "body" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_authors" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_post_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_post_id" integer, "ip" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_comments" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_post_id" integer, "body" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "spec_authors" ("name") VALUES (?)  [["name", "John"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_posts" ("body", "spec_author_id") VALUES (?, ?)[0m  [["body", "Post Body"], ["spec_author_id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_comments" ("body", "spec_post_id") VALUES (?, ?)  [["body", "Fabulous!"], ["spec_post_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_post_infos" ("ip", "spec_post_id") VALUES (?, ?)[0m  [["ip", "127.0.0.1"], ["spec_post_id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSpecPostInfo Load (0.1ms)[0m  [1mSELECT "spec_post_infos".* FROM "spec_post_infos" WHERE "spec_post_infos"."spec_post_id" = 1 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_authors"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_post_infos"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_comments"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_posts"[0m
  [1m[35m (0.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "spec_posts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_author_id" integer, "body" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_authors" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_post_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_post_id" integer, "ip" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_comments" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_post_id" integer, "body" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "spec_authors" ("name") VALUES (?)[0m  [["name", "John"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_posts" ("body", "spec_author_id") VALUES (?, ?)  [["body", "Post Body"], ["spec_author_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_comments" ("body", "spec_post_id") VALUES (?, ?)[0m  [["body", "Fabulous!"], ["spec_post_id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_post_infos" ("ip", "spec_post_id") VALUES (?, ?)  [["ip", "127.0.0.1"], ["spec_post_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSpecPostInfo Load (0.1ms)[0m  SELECT "spec_post_infos".* FROM "spec_post_infos" WHERE "spec_post_infos"."spec_post_id" = 1 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_authors"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_post_infos"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_comments"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_posts"
  [1m[36m (1.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spec_posts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_author_id" integer, "body" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_authors" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_post_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_post_id" integer, "ip" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_comments" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_post_id" integer, "body" varchar(255)) 
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "spec_authors" ("name") VALUES (?)  [["name", "John"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_posts" ("body", "spec_author_id") VALUES (?, ?)[0m  [["body", "Post Body"], ["spec_author_id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_comments" ("body", "spec_post_id") VALUES (?, ?)  [["body", "Fabulous!"], ["spec_post_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_post_infos" ("ip", "spec_post_id") VALUES (?, ?)[0m  [["ip", "127.0.0.1"], ["spec_post_id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSpecPostInfo Load (0.1ms)[0m  [1mSELECT "spec_post_infos".* FROM "spec_post_infos" WHERE "spec_post_infos"."spec_post_id" = 1 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_authors"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_post_infos"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_comments"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_posts"[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Inactive"], ["name", "inactive"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Active"], ["name", "active"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Important"], ["name", "important"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", ""], ["name", "none"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", "Junior"], ["name", "jr"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE UNIQUE INDEX "index_spec_customer_emails_on_email_and_is_current" ON "spec_customer_emails" ("email", "is_current")
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["created_at", Wed, 20 Nov 2013 15:52:57 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", nil], ["spec_customer_id", 1], ["spec_person_name_id", 1], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Wed, 20 Nov 2013 15:52:57 UTC +00:00]]
  [1m[36mSpecCustomer Load (0.1ms)[0m  [1mSELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "spec_customer_infos" [0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecCustomer Load (0.1ms)[0m  [1mSELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1[0m
  [1m[35mSpecCustomer Load (0.0ms)[0m  SELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mUPDATE "spec_customer_infos" SET "is_current" = 'f' , "lock_version" = 1 WHERE "id" = 1 AND "lock_version" = 0[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["created_at", Mon, 25 Nov 2013 15:52:57 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", 1], ["spec_customer_id", nil], ["spec_person_name_id", 2], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 15:52:57 UTC +00:00]]
SQLite3::ConstraintException: spec_customer_infos.spec_customer_id may not be NULL: INSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_types"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_suffixes"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_person_names"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_features"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_infos"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_emails"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customers"[0m
  [1m[35m (1.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Inactive"], ["name", "inactive"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Active"], ["name", "active"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Important"], ["name", "important"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", ""], ["name", "none"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", "Junior"], ["name", "jr"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE UNIQUE INDEX "index_spec_customer_emails_on_email_and_is_current" ON "spec_customer_emails" ("email", "is_current")
  [1m[36mSpecSuffix Load (0.1ms)[0m  [1mSELECT "spec_suffixes".* FROM "spec_suffixes" [0m
  [1m[35mSpecPersonName Load (0.1ms)[0m  SELECT "spec_person_names".* FROM "spec_person_names" WHERE "spec_person_names"."first_name" = 'John' AND "spec_person_names"."last_name" = 'Smith' AND "spec_person_names"."spec_suffix_id" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_person_names" ("first_name", "last_name", "spec_suffix_id") VALUES (?, ?, ?)  [["first_name", "John"], ["last_name", "Smith"], ["spec_suffix_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "spec_person_names" 
  [1m[36mSpecPersonName Load (0.1ms)[0m  [1mSELECT "spec_person_names".* FROM "spec_person_names" WHERE "spec_person_names"."first_name" = 'John' AND "spec_person_names"."last_name" = 'Smith' AND "spec_person_names"."spec_suffix_id" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "spec_person_names" 
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_statuses"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_types"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_suffixes"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_person_names"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_features"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_infos"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customers"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_emails"
  [1m[36m (1.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "index_spec_customer_emails_on_email_and_is_current" ON "spec_customer_emails" ("email", "is_current")[0m
  [1m[35mSpecSuffix Load (0.1ms)[0m  SELECT "spec_suffixes".* FROM "spec_suffixes" 
  [1m[36mSpecPersonName Load (0.1ms)[0m  [1mSELECT "spec_person_names".* FROM "spec_person_names" WHERE "spec_person_names"."first_name" = 'John' AND "spec_person_names"."last_name" = 'Smith' AND "spec_person_names"."spec_suffix_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_person_names" ("first_name", "last_name", "spec_suffix_id") VALUES (?, ?, ?)[0m  [["first_name", "John"], ["last_name", "Smith"], ["spec_suffix_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSpecPersonName Load (0.1ms)[0m  [1mSELECT "spec_person_names".* FROM "spec_person_names" WHERE "spec_person_names"."first_name" = 'John' AND "spec_person_names"."last_name" = 'Smith' AND "spec_person_names"."spec_suffix_id" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_types"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_suffixes"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_person_names"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_features"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_infos"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customers"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_emails"[0m
  [1m[35m (1.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Inactive"], ["name", "inactive"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Active"], ["name", "active"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Important"], ["name", "important"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", ""], ["name", "none"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", "Junior"], ["name", "jr"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE UNIQUE INDEX "index_spec_customer_emails_on_email_and_is_current" ON "spec_customer_emails" ("email", "is_current")
  [1m[36mSpecSuffix Load (0.1ms)[0m  [1mSELECT "spec_suffixes".* FROM "spec_suffixes" [0m
  [1m[35mSpecPersonName Load (0.1ms)[0m  SELECT "spec_person_names".* FROM "spec_person_names" WHERE "spec_person_names"."first_name" = 'John' AND "spec_person_names"."last_name" = 'Smith' AND "spec_person_names"."spec_suffix_id" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_person_names" ("first_name", "last_name", "spec_suffix_id") VALUES (?, ?, ?)  [["first_name", "John"], ["last_name", "Smith"], ["spec_suffix_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "spec_person_names" 
  [1m[36mSpecPersonName Load (0.1ms)[0m  [1mSELECT "spec_person_names".* FROM "spec_person_names" WHERE "spec_person_names"."first_name" = 'Alice' AND "spec_person_names"."last_name" = 'Smith' AND "spec_person_names"."spec_suffix_id" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_person_names" ("first_name", "last_name", "spec_suffix_id") VALUES (?, ?, ?)[0m  [["first_name", "Alice"], ["last_name", "Smith"], ["spec_suffix_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "spec_person_names" [0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_types"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_suffixes"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_person_names"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_features"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_infos"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_emails"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customers"[0m
  [1m[35m (1.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Inactive"], ["name", "inactive"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Active"], ["name", "active"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Important"], ["name", "important"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", ""], ["name", "none"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", "Junior"], ["name", "jr"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE UNIQUE INDEX "index_spec_customer_emails_on_email_and_is_current" ON "spec_customer_emails" ("email", "is_current")
  [1m[36mSpecSuffix Load (0.1ms)[0m  [1mSELECT "spec_suffixes".* FROM "spec_suffixes" [0m
  [1m[35mSpecPersonName Load (0.1ms)[0m  SELECT "spec_person_names".* FROM "spec_person_names" WHERE "spec_person_names"."first_name" = 'John' AND "spec_person_names"."last_name" = 'Smith' AND "spec_person_names"."spec_suffix_id" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_person_names" ("first_name", "last_name", "spec_suffix_id") VALUES (?, ?, ?)  [["first_name", "John"], ["last_name", "Smith"], ["spec_suffix_id", nil]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSpecPersonName Load (0.1ms)[0m  SELECT "spec_person_names".* FROM "spec_person_names" WHERE "spec_person_names"."first_name" = 'Alice' AND "spec_person_names"."last_name" = 'Smith' AND "spec_person_names"."spec_suffix_id" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_person_names" ("first_name", "last_name", "spec_suffix_id") VALUES (?, ?, ?)  [["first_name", "Alice"], ["last_name", "Smith"], ["spec_suffix_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecPersonName Load (0.1ms)[0m  [1mSELECT "spec_person_names".* FROM "spec_person_names" WHERE "spec_person_names"."first_name" = 'John' AND "spec_person_names"."last_name" = 'Smith' AND "spec_person_names"."spec_suffix_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_statuses"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_types"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_suffixes"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_person_names"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_features"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_infos"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_emails"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customers"
  [1m[36m (1.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "index_spec_customer_emails_on_email_and_is_current" ON "spec_customer_emails" ("email", "is_current")[0m
  [1m[35mSpecSuffix Load (0.1ms)[0m  SELECT "spec_suffixes".* FROM "spec_suffixes" 
  [1m[36mSpecPersonName Load (0.1ms)[0m  [1mSELECT "spec_person_names".* FROM "spec_person_names" WHERE "spec_person_names"."first_name" = 'John' AND "spec_person_names"."last_name" = 'Smith' AND "spec_person_names"."spec_suffix_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_person_names" ("first_name", "last_name", "spec_suffix_id") VALUES (?, ?, ?)[0m  [["first_name", "John"], ["last_name", "Smith"], ["spec_suffix_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_statuses"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_types"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_suffixes"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_person_names"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_features"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_infos"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_emails"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customers"
  [1m[36m (0.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "index_spec_customer_emails_on_email_and_is_current" ON "spec_customer_emails" ("email", "is_current")[0m
  [1m[35mSpecSuffix Load (0.1ms)[0m  SELECT "spec_suffixes".* FROM "spec_suffixes" 
  [1m[36mSpecPersonName Load (0.1ms)[0m  [1mSELECT "spec_person_names".* FROM "spec_person_names" WHERE "spec_person_names"."first_name" = 'John' AND "spec_person_names"."last_name" = 'Smith' AND "spec_person_names"."spec_suffix_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_person_names" ("first_name", "last_name", "spec_suffix_id") VALUES (?, ?, ?)[0m  [["first_name", "John"], ["last_name", "Smith"], ["spec_suffix_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_statuses"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_types"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_suffixes"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_person_names"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_features"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_infos"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_emails"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customers"
  [1m[36m (1.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "index_spec_customer_emails_on_email_and_is_current" ON "spec_customer_emails" ("email", "is_current")[0m
  [1m[35mSpecSuffix Load (0.1ms)[0m  SELECT "spec_suffixes".* FROM "spec_suffixes" 
  [1m[36mSpecPersonName Load (0.1ms)[0m  [1mSELECT "spec_person_names".* FROM "spec_person_names" WHERE "spec_person_names"."first_name" = 'John' AND "spec_person_names"."last_name" = 'Smith' AND "spec_person_names"."spec_suffix_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_person_names" ("first_name", "last_name", "spec_suffix_id") VALUES (?, ?, ?)[0m  [["first_name", "John"], ["last_name", "Smith"], ["spec_suffix_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSpecCustomerFeature Load (0.1ms)[0m  [1mSELECT "spec_customer_features".* FROM "spec_customer_features" WHERE "spec_customer_features"."feature_name" = 'Pays' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_customer_features" ("feature_name") VALUES (?)[0m  [["feature_name", "Pays"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSpecCustomerFeature Load (0.1ms)[0m  [1mSELECT "spec_customer_features".* FROM "spec_customer_features" WHERE "spec_customer_features"."feature_name" = 'Pays' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (30.2ms)[0m  [1mDROP TABLE "spec_customer_emails"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_types"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_suffixes"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_person_names"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_features"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_infos"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customers"[0m
  [1m[35m (1.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Inactive"], ["name", "inactive"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Active"], ["name", "active"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Important"], ["name", "important"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", ""], ["name", "none"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", "Junior"], ["name", "jr"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) [0m
  [1m[35m (0.2ms)[0m  CREATE UNIQUE INDEX "index_spec_customer_emails_on_email_and_is_current" ON "spec_customer_emails" ("email", "is_current")
  [1m[36mSpecSuffix Load (0.1ms)[0m  [1mSELECT "spec_suffixes".* FROM "spec_suffixes" [0m
  [1m[35mSpecPersonName Load (0.1ms)[0m  SELECT "spec_person_names".* FROM "spec_person_names" WHERE "spec_person_names"."first_name" = 'John' AND "spec_person_names"."last_name" = 'Smith' AND "spec_person_names"."spec_suffix_id" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_person_names" ("first_name", "last_name", "spec_suffix_id") VALUES (?, ?, ?)  [["first_name", "John"], ["last_name", "Smith"], ["spec_suffix_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSpecCustomerFeature Load (0.1ms)[0m  SELECT "spec_customer_features".* FROM "spec_customer_features" WHERE "spec_customer_features"."feature_name" = 'Pays' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_customer_features" ("feature_name") VALUES (?)  [["feature_name", "Pays"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSpecCustomerFeature Load (0.1ms)[0m  SELECT "spec_customer_features".* FROM "spec_customer_features" WHERE "spec_customer_features"."feature_name" = 'Fraud' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_customer_features" ("feature_name") VALUES (?)  [["feature_name", "Fraud"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_emails"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_types"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_suffixes"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_person_names"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_features"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_infos"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customers"[0m
  [1m[35m (0.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Inactive"], ["name", "inactive"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Active"], ["name", "active"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Important"], ["name", "important"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", ""], ["name", "none"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", "Junior"], ["name", "jr"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE UNIQUE INDEX "index_spec_customer_emails_on_email_and_is_current" ON "spec_customer_emails" ("email", "is_current")
  [1m[36mSpecSuffix Load (0.1ms)[0m  [1mSELECT "spec_suffixes".* FROM "spec_suffixes" [0m
  [1m[35mSpecPersonName Load (0.1ms)[0m  SELECT "spec_person_names".* FROM "spec_person_names" WHERE "spec_person_names"."first_name" = 'John' AND "spec_person_names"."last_name" = 'Smith' AND "spec_person_names"."spec_suffix_id" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_person_names" ("first_name", "last_name", "spec_suffix_id") VALUES (?, ?, ?)  [["first_name", "John"], ["last_name", "Smith"], ["spec_suffix_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSpecCustomerFeature Load (0.1ms)[0m  SELECT "spec_customer_features".* FROM "spec_customer_features" WHERE "spec_customer_features"."feature_name" = 'Pays' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_customer_features" ("feature_name") VALUES (?)  [["feature_name", "Pays"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSpecCustomerFeature Load (0.1ms)[0m  SELECT "spec_customer_features".* FROM "spec_customer_features" WHERE "spec_customer_features"."feature_name" = 'Cancelled' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_customer_features" ("feature_name") VALUES (?)  [["feature_name", "Cancelled"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (33.7ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customers"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_emails"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_suffixes"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_features"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_infos"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_person_names"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_types"[0m
  [1m[35m (1.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Inactive"], ["name", "inactive"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Active"], ["name", "active"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Important"], ["name", "important"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", ""], ["name", "none"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", "Junior"], ["name", "jr"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE UNIQUE INDEX "index_spec_customer_emails_on_email_and_is_current" ON "spec_customer_emails" ("email", "is_current")
  [1m[36mSpecSuffix Load (0.1ms)[0m  [1mSELECT "spec_suffixes".* FROM "spec_suffixes" [0m
  [1m[35mSpecPersonName Load (0.1ms)[0m  SELECT "spec_person_names".* FROM "spec_person_names" WHERE "spec_person_names"."first_name" = 'John' AND "spec_person_names"."last_name" = 'Smith' AND "spec_person_names"."spec_suffix_id" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_person_names" ("first_name", "last_name", "spec_suffix_id") VALUES (?, ?, ?)  [["first_name", "John"], ["last_name", "Smith"], ["spec_suffix_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSpecCustomerFeature Load (0.1ms)[0m  SELECT "spec_customer_features".* FROM "spec_customer_features" WHERE "spec_customer_features"."feature_name" = 'Pays' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_customer_features" ("feature_name") VALUES (?)  [["feature_name", "Pays"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSpecCustomerFeature Load (0.1ms)[0m  SELECT "spec_customer_features".* FROM "spec_customer_features" WHERE "spec_customer_features"."feature_name" = 'Returned' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_customer_features" ("feature_name") VALUES (?)  [["feature_name", "Returned"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customers"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_emails"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_suffixes"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_features"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_infos"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_person_names"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_types"[0m
  [1m[35m (1.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Inactive"], ["name", "inactive"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Active"], ["name", "active"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Important"], ["name", "important"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", ""], ["name", "none"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", "Junior"], ["name", "jr"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) [0m
  [1m[35m (0.2ms)[0m  CREATE UNIQUE INDEX "index_spec_customer_emails_on_email_and_is_current" ON "spec_customer_emails" ("email", "is_current")
  [1m[36mSpecStatus Load (0.1ms)[0m  [1mSELECT "spec_statuses".* FROM "spec_statuses" [0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_customers" ("spec_status_id") VALUES (?)[0m  [["spec_status_id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["created_at", Mon, 25 Nov 2013 15:52:59 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", nil], ["spec_customer_id", 1], ["spec_person_name_id", 1], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 15:52:59 UTC +00:00]]
  [1m[36mSpecCustomer Load (0.1ms)[0m  [1mSELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSpecCustomerInfo Load (0.1ms)[0m  [1mSELECT "spec_customer_infos".* FROM "spec_customer_infos" WHERE "spec_customer_infos"."spec_customer_id" = 1 AND "spec_customer_infos"."is_current" = 't' ORDER BY id DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "spec_customer_infos" 
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "spec_customer_infos" SET "is_current" = 'f' , "lock_version" = 1 WHERE "id" = 1 AND "lock_version" = 0
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 25 Nov 2013 15:52:59 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", 1], ["spec_customer_id", 1], ["spec_person_name_id", 2], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 15:52:59 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "spec_customer_infos" [0m
  [1m[35m (34.7ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customers"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_emails"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_person_names"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_suffixes"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_infos"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_features"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_types"[0m
  [1m[35m (1.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Inactive"], ["name", "inactive"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Active"], ["name", "active"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Important"], ["name", "important"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", ""], ["name", "none"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", "Junior"], ["name", "jr"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE UNIQUE INDEX "index_spec_customer_emails_on_email_and_is_current" ON "spec_customer_emails" ("email", "is_current")
  [1m[36mSpecStatus Load (0.1ms)[0m  [1mSELECT "spec_statuses".* FROM "spec_statuses" [0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_customers" ("spec_status_id") VALUES (?)[0m  [["spec_status_id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["created_at", Mon, 25 Nov 2013 15:52:59 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", nil], ["spec_customer_id", 1], ["spec_person_name_id", 1], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 15:52:59 UTC +00:00]]
  [1m[36mSpecCustomer Load (0.1ms)[0m  [1mSELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSpecCustomerInfo Load (0.1ms)[0m  [1mSELECT "spec_customer_infos".* FROM "spec_customer_infos" WHERE "spec_customer_infos"."spec_customer_id" = 1 AND "spec_customer_infos"."is_current" = 't' ORDER BY id DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "spec_customer_infos" SET "is_current" = 'f' , "lock_version" = 1 WHERE "id" = 1 AND "lock_version" = 0[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["created_at", Mon, 25 Nov 2013 15:52:59 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", 1], ["spec_customer_id", 1], ["spec_person_name_id", 2], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 15:52:59 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customers"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_emails"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_person_names"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_suffixes"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_infos"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_features"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_types"[0m
  [1m[35m (1.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Inactive"], ["name", "inactive"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Active"], ["name", "active"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Important"], ["name", "important"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", ""], ["name", "none"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", "Junior"], ["name", "jr"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE UNIQUE INDEX "index_spec_customer_emails_on_email_and_is_current" ON "spec_customer_emails" ("email", "is_current")
  [1m[36mSpecStatus Load (0.1ms)[0m  [1mSELECT "spec_statuses".* FROM "spec_statuses" [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_customers" ("spec_status_id") VALUES (?)[0m  [["spec_status_id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["created_at", Mon, 25 Nov 2013 15:53:00 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", nil], ["spec_customer_id", 1], ["spec_person_name_id", 1], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 15:53:00 UTC +00:00]]
  [1m[36mSpecCustomer Load (0.1ms)[0m  [1mSELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSpecCustomerInfo Load (0.1ms)[0m  [1mSELECT "spec_customer_infos".* FROM "spec_customer_infos" WHERE "spec_customer_infos"."spec_customer_id" = 1 AND "spec_customer_infos"."is_current" = 't' ORDER BY id DESC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "spec_customer_infos" SET "is_current" = 'f' , "lock_version" = 1 WHERE "id" = 1 AND "lock_version" = 0[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["created_at", Mon, 25 Nov 2013 15:53:00 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", 1], ["spec_customer_id", 1], ["spec_person_name_id", 2], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 15:53:00 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSpecCustomerInfo Load (0.1ms)[0m  SELECT "spec_customer_infos".* FROM "spec_customer_infos" WHERE "spec_customer_infos"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_statuses"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_person_names"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_infos"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_emails"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customers"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_features"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_suffixes"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_types"
  [1m[36m (0.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "index_spec_customer_emails_on_email_and_is_current" ON "spec_customer_emails" ("email", "is_current")[0m
  [1m[35mSpecStatus Load (0.1ms)[0m  SELECT "spec_statuses".* FROM "spec_statuses" 
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_customers" ("spec_status_id") VALUES (?)  [["spec_status_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 25 Nov 2013 15:53:00 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", nil], ["spec_customer_id", 1], ["spec_person_name_id", 1], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 15:53:00 UTC +00:00]]
  [1m[35mSpecCustomer Load (0.1ms)[0m  SELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSpecCustomerInfo Load (0.1ms)[0m  SELECT "spec_customer_infos".* FROM "spec_customer_infos" WHERE "spec_customer_infos"."spec_customer_id" = 1 AND "spec_customer_infos"."is_current" = 't' ORDER BY id DESC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "spec_customer_infos" SET "is_current" = 'f' , "lock_version" = 1 WHERE "id" = 1 AND "lock_version" = 0
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 25 Nov 2013 15:53:00 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", 1], ["spec_customer_id", 1], ["spec_person_name_id", 2], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 15:53:00 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_statuses"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_person_names"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_infos"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_emails"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customers"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_features"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_suffixes"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_types"
  [1m[36m (1.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "index_spec_customer_emails_on_email_and_is_current" ON "spec_customer_emails" ("email", "is_current")[0m
  [1m[35mSpecStatus Load (0.1ms)[0m  SELECT "spec_statuses".* FROM "spec_statuses" 
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_customers" ("spec_status_id") VALUES (?)  [["spec_status_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 25 Nov 2013 15:53:00 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", nil], ["spec_customer_id", 1], ["spec_person_name_id", 1], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 15:53:00 UTC +00:00]]
  [1m[35mSpecCustomer Load (0.1ms)[0m  SELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSpecCustomerInfo Load (0.1ms)[0m  SELECT "spec_customer_infos".* FROM "spec_customer_infos" WHERE "spec_customer_infos"."spec_customer_id" = 1 AND "spec_customer_infos"."is_current" = 't' ORDER BY id DESC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "spec_customer_infos" SET "is_current" = 'f', "updated_at" = '2013-11-25 15:53:00.396742', "lock_version" = 1 WHERE ("spec_customer_infos"."id" = 1 AND "spec_customer_infos"."lock_version" = 0)
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 25 Nov 2013 15:53:00 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", nil], ["spec_customer_id", 1], ["spec_person_name_id", 2], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 15:53:00 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_statuses"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_customers"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_person_names"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_infos"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_emails"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_suffixes"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_features"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_types"
  [1m[36m (0.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "index_spec_customer_emails_on_email_and_is_current" ON "spec_customer_emails" ("email", "is_current")[0m
  [1m[35mSpecStatus Load (0.1ms)[0m  SELECT "spec_statuses".* FROM "spec_statuses" 
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_customers" ("spec_status_id") VALUES (?)  [["spec_status_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 25 Nov 2013 15:53:00 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", nil], ["spec_customer_id", 1], ["spec_person_name_id", 1], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 15:53:00 UTC +00:00]]
  [1m[35mSpecCustomer Load (0.1ms)[0m  SELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSpecCustomerInfo Load (0.1ms)[0m  SELECT "spec_customer_infos".* FROM "spec_customer_infos" WHERE "spec_customer_infos"."spec_customer_id" = 1 AND "spec_customer_infos"."is_current" = 't' ORDER BY id DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_customer_emails" ("email", "is_current", "spec_customer_id", "status") VALUES (?, ?, ?, ?)  [["email", "foo@bar.com"], ["is_current", true], ["spec_customer_id", 1], ["status", "unverified"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "spec_customer_emails" SET "is_current" = 'f' WHERE "id" = 1 [0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_customer_emails" ("email", "is_current", "spec_customer_id", "status") VALUES (?, ?, ?, ?)  [["email", "foo@bar.com"], ["is_current", true], ["spec_customer_id", 1], ["status", "verified"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customers"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_person_names"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_infos"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_emails"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_suffixes"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_features"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_types"[0m
  [1m[35m (1.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Inactive"], ["name", "inactive"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Active"], ["name", "active"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Important"], ["name", "important"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", ""], ["name", "none"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", "Junior"], ["name", "jr"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE UNIQUE INDEX "index_spec_customer_emails_on_email_and_is_current" ON "spec_customer_emails" ("email", "is_current")
  [1m[36mSpecStatus Load (0.1ms)[0m  [1mSELECT "spec_statuses".* FROM "spec_statuses" [0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_customers" ("spec_status_id") VALUES (?)[0m  [["spec_status_id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["created_at", Mon, 25 Nov 2013 15:53:00 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", nil], ["spec_customer_id", 1], ["spec_person_name_id", 1], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 15:53:00 UTC +00:00]]
  [1m[36mSpecCustomer Load (0.1ms)[0m  [1mSELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSpecCustomerInfo Load (0.1ms)[0m  [1mSELECT "spec_customer_infos".* FROM "spec_customer_infos" WHERE "spec_customer_infos"."spec_customer_id" = 1 AND "spec_customer_infos"."is_current" = 't' ORDER BY id DESC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 16 Jul 2012 00:00:00 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", nil], ["spec_customer_id", 1], ["spec_person_name_id", 1], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 16 Jul 2012 00:00:00 UTC +00:00]]
  [1m[35mSpecCustomer Load (0.0ms)[0m  SELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mUPDATE "spec_customer_infos" SET "is_current" = 'f', "updated_at" = '2012-07-16 00:00:00.000000', "lock_version" = 1 WHERE ("spec_customer_infos"."id" = 1 AND "spec_customer_infos"."lock_version" = 0)[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  UPDATE "spec_customer_infos" SET "is_current" = 'f' , "lock_version" = 1 WHERE "id" = 2 AND "lock_version" = 0
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Tue, 17 Jul 2012 08:10:15 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", 2], ["spec_customer_id", 1], ["spec_person_name_id", 2], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Tue, 17 Jul 2012 08:10:15 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_statuses"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customers"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_person_names"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_infos"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_emails"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_types"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_suffixes"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_features"
  [1m[36m (1.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "index_spec_customer_emails_on_email_and_is_current" ON "spec_customer_emails" ("email", "is_current")[0m
  [1m[35mSpecStatus Load (0.1ms)[0m  SELECT "spec_statuses".* FROM "spec_statuses" 
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_customers" ("spec_status_id") VALUES (?)  [["spec_status_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 25 Nov 2013 15:53:00 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", nil], ["spec_customer_id", 1], ["spec_person_name_id", 1], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 15:53:00 UTC +00:00]]
  [1m[35mSpecCustomer Load (0.1ms)[0m  SELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSpecCustomerInfo Load (0.1ms)[0m  SELECT "spec_customer_infos".* FROM "spec_customer_infos" WHERE "spec_customer_infos"."spec_customer_id" = 1 AND "spec_customer_infos"."is_current" = 't' ORDER BY id DESC LIMIT 1
  [1m[36mSpecCustomer Load (0.1ms)[0m  [1mSELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSpecCustomerInfo Load (0.1ms)[0m  SELECT "spec_customer_infos".* FROM "spec_customer_infos" WHERE "spec_customer_infos"."spec_customer_id" = 1 AND "spec_customer_infos"."is_current" = 't' ORDER BY id DESC LIMIT 1
  [1m[36mSpecCustomer Load (0.0ms)[0m  [1mSELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSpecCustomerInfo Load (0.1ms)[0m  SELECT "spec_customer_infos".* FROM "spec_customer_infos" WHERE "spec_customer_infos"."spec_customer_id" = 1 AND "spec_customer_infos"."is_current" = 't' ORDER BY id DESC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "spec_customer_infos" SET "is_current" = 'f' , "lock_version" = 1 WHERE "id" = 1 AND "lock_version" = 0
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 25 Nov 2013 15:53:00 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", 1], ["spec_customer_id", 1], ["spec_person_name_id", 3], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 15:53:00 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "spec_customer_infos" SET "is_current" = 'f' , "lock_version" = 1 WHERE "id" = 1 AND "lock_version" = 0
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customers"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_person_names"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_infos"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_emails"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_types"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_suffixes"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_features"[0m
  [1m[35m (1.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Inactive"], ["name", "inactive"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Active"], ["name", "active"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Important"], ["name", "important"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", ""], ["name", "none"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", "Junior"], ["name", "jr"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE UNIQUE INDEX "index_spec_customer_emails_on_email_and_is_current" ON "spec_customer_emails" ("email", "is_current")
  [1m[36mSpecStatus Load (0.1ms)[0m  [1mSELECT "spec_statuses".* FROM "spec_statuses" [0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_customers" ("spec_status_id") VALUES (?)[0m  [["spec_status_id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["created_at", Mon, 25 Nov 2013 15:53:01 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", nil], ["spec_customer_id", 1], ["spec_person_name_id", 1], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 15:53:01 UTC +00:00]]
  [1m[36mSpecCustomer Load (0.1ms)[0m  [1mSELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSpecCustomerInfo Load (0.1ms)[0m  [1mSELECT "spec_customer_infos".* FROM "spec_customer_infos" WHERE "spec_customer_infos"."spec_customer_id" = 1 AND "spec_customer_infos"."is_current" = 't' ORDER BY id DESC LIMIT 1[0m
  [1m[35mSpecCustomer Load (0.1ms)[0m  SELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSpecCustomerInfo Load (0.1ms)[0m  [1mSELECT "spec_customer_infos".* FROM "spec_customer_infos" WHERE "spec_customer_infos"."spec_customer_id" = 1 AND "spec_customer_infos"."is_current" = 't' ORDER BY id DESC LIMIT 1[0m
  [1m[35mSpecCustomer Load (0.1ms)[0m  SELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSpecCustomerInfo Load (0.1ms)[0m  [1mSELECT "spec_customer_infos".* FROM "spec_customer_infos" WHERE "spec_customer_infos"."spec_customer_id" = 1 AND "spec_customer_infos"."is_current" = 't' ORDER BY id DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_customer_emails" ("email", "is_current", "spec_customer_id", "status") VALUES (?, ?, ?, ?)[0m  [["email", "foo@bar.com"], ["is_current", nil], ["spec_customer_id", 1], ["status", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "spec_customer_emails" SET "is_current" = 'f' WHERE "id" = 1 
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_customer_emails" ("email", "is_current", "spec_customer_id", "status") VALUES (?, ?, ?, ?)[0m  [["email", "foo2@bar.com"], ["is_current", nil], ["spec_customer_id", 1], ["status", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_statuses"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_person_names"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customers"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_customer_infos"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_emails"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_features"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_types"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_suffixes"
  [1m[36m (1.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) 
  [1m[36m (0.4ms)[0m  [1mCREATE UNIQUE INDEX "index_spec_customer_emails_on_email_and_is_current" ON "spec_customer_emails" ("email", "is_current")[0m
  [1m[35mSpecStatus Load (0.1ms)[0m  SELECT "spec_statuses".* FROM "spec_statuses" 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_customers" ("spec_status_id") VALUES (?)  [["spec_status_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 25 Nov 2013 15:53:01 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", nil], ["spec_customer_id", 1], ["spec_person_name_id", 1], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 15:53:01 UTC +00:00]]
  [1m[35mSpecCustomer Load (0.1ms)[0m  SELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSpecCustomerInfo Load (0.1ms)[0m  SELECT "spec_customer_infos".* FROM "spec_customer_infos" WHERE "spec_customer_infos"."spec_customer_id" = 1 AND "spec_customer_infos"."is_current" = 't' ORDER BY id DESC LIMIT 1
  [1m[36mSpecSuffix Load (0.1ms)[0m  [1mSELECT "spec_suffixes".* FROM "spec_suffixes" [0m
  [1m[35mSpecPersonName Load (0.1ms)[0m  SELECT "spec_person_names".* FROM "spec_person_names" WHERE "spec_person_names"."first_name" = 'John' AND "spec_person_names"."last_name" = 'Smith' AND "spec_person_names"."spec_suffix_id" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_person_names" ("first_name", "last_name", "spec_suffix_id") VALUES (?, ?, ?)  [["first_name", "John"], ["last_name", "Smith"], ["spec_suffix_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSpecCustomerInfo Load (0.1ms)[0m  SELECT "spec_customer_infos".* FROM "spec_customer_infos" WHERE "spec_customer_infos"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSpecPersonName Load (0.1ms)[0m  [1mSELECT "spec_person_names".* FROM "spec_person_names" WHERE "spec_person_names"."id" = 1 LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecPersonName Load (0.1ms)[0m  [1mSELECT "spec_person_names".* FROM "spec_person_names" WHERE "spec_person_names"."first_name" = 'Alice' AND "spec_person_names"."last_name" = 'Smith' AND "spec_person_names"."spec_suffix_id" IS NULL LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_person_names" ("first_name", "last_name", "spec_suffix_id") VALUES (?, ?, ?)  [["first_name", "Alice"], ["last_name", "Smith"], ["spec_suffix_id", nil]]
  [1m[36m (0.1ms)[0m  [1mUPDATE "spec_customer_infos" SET "is_current" = 'f' , "lock_version" = 1 WHERE "id" = 1 AND "lock_version" = 0[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["created_at", Mon, 25 Nov 2013 15:53:01 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", 1], ["spec_customer_id", 1], ["spec_person_name_id", 2], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 15:53:01 UTC +00:00]]
  [1m[36mSpecCustomer Load (0.1ms)[0m  [1mSELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSpecCustomerInfo Load (0.1ms)[0m  [1mSELECT "spec_customer_infos".* FROM "spec_customer_infos" WHERE "spec_customer_infos"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_person_names"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customers"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_infos"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_emails"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_features"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_types"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_suffixes"[0m
  [1m[35m (1.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Inactive"], ["name", "inactive"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Active"], ["name", "active"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Important"], ["name", "important"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", ""], ["name", "none"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", "Junior"], ["name", "jr"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE UNIQUE INDEX "index_spec_customer_emails_on_email_and_is_current" ON "spec_customer_emails" ("email", "is_current")
  [1m[36mSpecSuffix Load (0.1ms)[0m  [1mSELECT "spec_suffixes".* FROM "spec_suffixes" [0m
  [1m[35mSpecStatus Load (0.1ms)[0m  SELECT "spec_statuses".* FROM "spec_statuses" 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_customers" ("spec_status_id") VALUES (?)  [["spec_status_id", 1]]
  [1m[36mSpecPersonName Load (0.1ms)[0m  [1mSELECT "spec_person_names".* FROM "spec_person_names" WHERE "spec_person_names"."first_name" = 'John' AND "spec_person_names"."last_name" = 'Smith' AND "spec_person_names"."spec_suffix_id" IS NULL LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_person_names" ("first_name", "last_name", "spec_suffix_id") VALUES (?, ?, ?)  [["first_name", "John"], ["last_name", "Smith"], ["spec_suffix_id", nil]]
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 25 Nov 2013 15:53:01 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", nil], ["spec_customer_id", 1], ["spec_person_name_id", 1], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 15:53:01 UTC +00:00]]
  [1m[35mSpecCustomer Load (0.1ms)[0m  SELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_person_names"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spec_customers"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_customer_infos"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_emails"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_features"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_suffixes"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_types"[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Inactive"], ["name", "inactive"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Active"], ["name", "active"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Important"], ["name", "important"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", ""], ["name", "none"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", "Junior"], ["name", "jr"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE UNIQUE INDEX "index_spec_customer_emails_on_email_and_is_current" ON "spec_customer_emails" ("email", "is_current")
  [1m[36mSpecSuffix Load (0.1ms)[0m  [1mSELECT "spec_suffixes".* FROM "spec_suffixes" [0m
  [1m[35mSpecStatus Load (0.1ms)[0m  SELECT "spec_statuses".* FROM "spec_statuses" 
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_customers" ("spec_status_id") VALUES (?)  [["spec_status_id", 1]]
  [1m[36mSpecPersonName Load (0.1ms)[0m  [1mSELECT "spec_person_names".* FROM "spec_person_names" WHERE "spec_person_names"."first_name" = 'John' AND "spec_person_names"."last_name" = 'Smith' AND "spec_person_names"."spec_suffix_id" IS NULL LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_person_names" ("first_name", "last_name", "spec_suffix_id") VALUES (?, ?, ?)  [["first_name", "John"], ["last_name", "Smith"], ["spec_suffix_id", nil]]
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 25 Nov 2013 15:53:01 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", nil], ["spec_customer_id", 1], ["spec_person_name_id", 1], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 15:53:01 UTC +00:00]]
  [1m[35mSpecCustomer Load (0.1ms)[0m  SELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_person_names"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customers"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_infos"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_emails"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_features"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_suffixes"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_types"[0m
  [1m[35m (0.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Inactive"], ["name", "inactive"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Active"], ["name", "active"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Important"], ["name", "important"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", ""], ["name", "none"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", "Junior"], ["name", "jr"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE UNIQUE INDEX "index_spec_customer_emails_on_email_and_is_current" ON "spec_customer_emails" ("email", "is_current")
  [1m[36mSpecSuffix Load (0.1ms)[0m  [1mSELECT "spec_suffixes".* FROM "spec_suffixes" [0m
  [1m[35mSpecStatus Load (0.1ms)[0m  SELECT "spec_statuses".* FROM "spec_statuses" 
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_customers" ("spec_status_id") VALUES (?)  [["spec_status_id", 1]]
  [1m[36mSpecPersonName Load (0.1ms)[0m  [1mSELECT "spec_person_names".* FROM "spec_person_names" WHERE "spec_person_names"."first_name" = 'John' AND "spec_person_names"."last_name" = 'Smith' AND "spec_person_names"."spec_suffix_id" IS NULL LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_person_names" ("first_name", "last_name", "spec_suffix_id") VALUES (?, ?, ?)  [["first_name", "John"], ["last_name", "Smith"], ["spec_suffix_id", nil]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 25 Nov 2013 15:53:01 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", nil], ["spec_customer_id", 1], ["spec_person_name_id", 1], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 15:53:01 UTC +00:00]]
  [1m[35mSpecCustomer Load (0.1ms)[0m  SELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_person_names"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customers"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_infos"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_emails"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_features"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_suffixes"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_types"[0m
  [1m[35m (1.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Inactive"], ["name", "inactive"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Active"], ["name", "active"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Important"], ["name", "important"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", ""], ["name", "none"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", "Junior"], ["name", "jr"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE UNIQUE INDEX "index_spec_customer_emails_on_email_and_is_current" ON "spec_customer_emails" ("email", "is_current")
  [1m[36mSpecSuffix Load (0.1ms)[0m  [1mSELECT "spec_suffixes".* FROM "spec_suffixes" [0m
  [1m[35mSpecStatus Load (0.1ms)[0m  SELECT "spec_statuses".* FROM "spec_statuses" 
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_customers" ("spec_status_id") VALUES (?)  [["spec_status_id", 1]]
  [1m[36mSpecPersonName Load (0.1ms)[0m  [1mSELECT "spec_person_names".* FROM "spec_person_names" WHERE "spec_person_names"."first_name" = 'John' AND "spec_person_names"."last_name" = 'Smith' AND "spec_person_names"."spec_suffix_id" IS NULL LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_person_names" ("first_name", "last_name", "spec_suffix_id") VALUES (?, ?, ?)  [["first_name", "John"], ["last_name", "Smith"], ["spec_suffix_id", nil]]
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 25 Nov 2013 15:53:02 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", nil], ["spec_customer_id", 1], ["spec_person_name_id", 1], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 15:53:02 UTC +00:00]]
  [1m[35mSpecCustomer Load (0.1ms)[0m  SELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_statuses"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_person_names"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customers"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_infos"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_emails"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_features"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_suffixes"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_types"[0m
  [1m[35m (1.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Inactive"], ["name", "inactive"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecStatus Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)[0m  [["description", "Active"], ["name", "active"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Important"], ["name", "important"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_types" ("description", "name") VALUES (?, ?)  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", ""], ["name", "none"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecSuffix Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)[0m  [["description", "Junior"], ["name", "jr"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) 
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE UNIQUE INDEX "index_spec_customer_emails_on_email_and_is_current" ON "spec_customer_emails" ("email", "is_current")
  [1m[36mSpecSuffix Load (0.1ms)[0m  [1mSELECT "spec_suffixes".* FROM "spec_suffixes" [0m
  [1m[35mSpecStatus Load (0.1ms)[0m  SELECT "spec_statuses".* FROM "spec_statuses" 
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_customers" ("spec_status_id") VALUES (?)  [["spec_status_id", 1]]
  [1m[36mSpecPersonName Load (0.1ms)[0m  [1mSELECT "spec_person_names".* FROM "spec_person_names" WHERE "spec_person_names"."first_name" = 'John' AND "spec_person_names"."last_name" = 'Smith' AND "spec_person_names"."spec_suffix_id" IS NULL LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_person_names" ("first_name", "last_name", "spec_suffix_id") VALUES (?, ?, ?)  [["first_name", "John"], ["last_name", "Smith"], ["spec_suffix_id", nil]]
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 25 Nov 2013 15:53:02 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", nil], ["spec_customer_id", 1], ["spec_person_name_id", 1], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 15:53:02 UTC +00:00]]
  [1m[35mSpecCustomer Load (0.1ms)[0m  SELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSpecType Load (0.1ms)[0m  SELECT "spec_types".* FROM "spec_types" 
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spec_statuses"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_person_names"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customers"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_infos"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_emails"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_features"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_suffixes"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_types"
  [1m[36m (1.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "spec_statuses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'inactive' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Inactive"], ["name", "inactive"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecStatus Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_statuses" WHERE "spec_statuses"."name" = 'active' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_statuses" ("description", "name") VALUES (?, ?)  [["description", "Active"], ["name", "active"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'important' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Important"], ["name", "important"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSpecType Exists (0.1ms)[0m  SELECT 1 AS one FROM "spec_types" WHERE "spec_types"."name" = 'unimportant' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_types" ("description", "name") VALUES (?, ?)[0m  [["description", "Unimportant"], ["name", "unimportant"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_suffixes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'none' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", ""], ["name", "none"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSpecSuffix Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "spec_suffixes" WHERE "spec_suffixes"."name" = 'jr' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "spec_suffixes" ("description", "name") VALUES (?, ?)  [["description", "Junior"], ["name", "jr"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_person_names" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "spec_suffix_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customer_features" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feature_name" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spec_customer_infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer NOT NULL, "spec_person_name_id" integer, "spec_status_id" integer, "spec_type_id" integer, "is_current" boolean, "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "previous_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spec_customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_status_id" integer) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spec_customer_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "spec_customer_id" integer, "email" varchar(255), "is_current" boolean, "status" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "index_spec_customer_emails_on_email_and_is_current" ON "spec_customer_emails" ("email", "is_current")[0m
  [1m[35mSpecSuffix Load (0.1ms)[0m  SELECT "spec_suffixes".* FROM "spec_suffixes" 
  [1m[36mSpecStatus Load (0.1ms)[0m  [1mSELECT "spec_statuses".* FROM "spec_statuses" [0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_customers" ("spec_status_id") VALUES (?)[0m  [["spec_status_id", 1]]
  [1m[35mSpecPersonName Load (0.1ms)[0m  SELECT "spec_person_names".* FROM "spec_person_names" WHERE "spec_person_names"."first_name" = 'John' AND "spec_person_names"."last_name" = 'Smith' AND "spec_person_names"."spec_suffix_id" IS NULL LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "spec_person_names" ("first_name", "last_name", "spec_suffix_id") VALUES (?, ?, ?)[0m  [["first_name", "John"], ["last_name", "Smith"], ["spec_suffix_id", nil]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "spec_customer_infos" ("created_at", "is_current", "lock_version", "previous_id", "spec_customer_id", "spec_person_name_id", "spec_status_id", "spec_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["created_at", Mon, 25 Nov 2013 15:53:02 UTC +00:00], ["is_current", true], ["lock_version", 0], ["previous_id", nil], ["spec_customer_id", 1], ["spec_person_name_id", 1], ["spec_status_id", nil], ["spec_type_id", nil], ["updated_at", Mon, 25 Nov 2013 15:53:02 UTC +00:00]]
  [1m[36mSpecCustomer Load (0.1ms)[0m  [1mSELECT "spec_customers".* FROM "spec_customers" WHERE "spec_customers"."id" = 1 LIMIT 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_statuses"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_features"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_person_names"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customers"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_customer_infos"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_customer_emails"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spec_suffixes"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spec_types"
  [1m[36m (1.2ms)[0m  [1mrollback transaction[0m
